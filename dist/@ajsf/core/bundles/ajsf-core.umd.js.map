{"version":3,"file":"ajsf-core.umd.js","sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@ajsf/core/lib/shared/convert-schema-to-draft6.function.ts","ng://@ajsf/core/lib/shared/validator.functions.ts","ng://@ajsf/core/lib/shared/utility.functions.ts","ng://@ajsf/core/lib/framework-library/framework.ts","ng://@ajsf/core/lib/shared/jsonpointer.functions.ts","ng://@ajsf/core/lib/shared/format-regex.constants.ts","ng://@ajsf/core/lib/shared/json.validators.ts","ng://@ajsf/core/lib/shared/merge-schemas.function.ts","ng://@ajsf/core/lib/shared/json-schema.functions.ts","ng://@ajsf/core/lib/shared/form-group.functions.ts","ng://@ajsf/core/lib/shared/layout.functions.ts","ng://@ajsf/core/lib/locale-dates/en-US.ts","ng://@ajsf/core/lib/shared/date.functions.ts","ng://@ajsf/core/lib/locale/en-validation-messages.ts","ng://@ajsf/core/lib/locale/fr-validation-messages.ts","ng://@ajsf/core/lib/locale/it-validation-messages.ts","ng://@ajsf/core/lib/locale/pt-validation-messages.ts","ng://@ajsf/core/lib/locale/zh-validation-messages.ts","ng://@ajsf/core/lib/json-schema-form.service.ts","ng://@ajsf/core/lib/widget-library/add-reference.component.ts","ng://@ajsf/core/lib/widget-library/button.component.ts","ng://@ajsf/core/lib/widget-library/checkbox.component.ts","ng://@ajsf/core/lib/widget-library/checkboxes.component.ts","ng://@ajsf/core/lib/widget-library/file.component.ts","ng://@ajsf/core/lib/widget-library/input.component.ts","ng://@ajsf/core/lib/widget-library/message.component.ts","ng://@ajsf/core/lib/widget-library/none.component.ts","ng://@ajsf/core/lib/widget-library/number.component.ts","ng://@ajsf/core/lib/widget-library/one-of.component.ts","ng://@ajsf/core/lib/widget-library/radios.component.ts","ng://@ajsf/core/lib/widget-library/root.component.ts","ng://@ajsf/core/lib/widget-library/section.component.ts","ng://@ajsf/core/lib/widget-library/select.component.ts","ng://@ajsf/core/lib/widget-library/select-framework.component.ts","ng://@ajsf/core/lib/widget-library/select-widget.component.ts","ng://@ajsf/core/lib/widget-library/submit.component.ts","ng://@ajsf/core/lib/widget-library/tabs.component.ts","ng://@ajsf/core/lib/widget-library/template.component.ts","ng://@ajsf/core/lib/widget-library/textarea.component.ts","ng://@ajsf/core/lib/widget-library/widget-library.service.ts","ng://@ajsf/core/lib/framework-library/framework-library.service.ts","ng://@ajsf/core/lib/json-schema-form.component.ts","ng://@ajsf/core/lib/framework-library/no-framework.component.ts","ng://@ajsf/core/lib/framework-library/no.framework.ts","ng://@ajsf/core/lib/widget-library/hidden.component.ts","ng://@ajsf/core/lib/widget-library/tab.component.ts","ng://@ajsf/core/lib/widget-library/orderable.directive.ts","ng://@ajsf/core/lib/widget-library/index.ts","ng://@ajsf/core/lib/widget-library/widget-library.module.ts","ng://@ajsf/core/lib/framework-library/no-framework.module.ts","ng://@ajsf/core/lib/json-schema-form.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import cloneDeep from 'lodash/cloneDeep';\n\n/**\n * 'convertSchemaToDraft6' function\n *\n * Converts a JSON Schema from draft 1 through 4 format to draft 6 format\n *\n * Inspired by on geraintluff's JSON Schema 3 to 4 compatibility function:\n *   https://github.com/geraintluff/json-schema-compatibility\n * Also uses suggestions from AJV's JSON Schema 4 to 6 migration guide:\n *   https://github.com/epoberezkin/ajv/releases/tag/5.0.0\n * And additional details from the official JSON Schema documentation:\n *   http://json-schema.org\n *\n * //  { object } originalSchema - JSON schema (draft 1, 2, 3, 4, or 6)\n * //  { OptionObject = {} } options - options: parent schema changed?, schema draft number?\n * // { object } - JSON schema (draft 6)\n */\nexport interface OptionObject { changed?: boolean; draft?: number; }\nexport function convertSchemaToDraft6(schema, options: OptionObject = {}) {\n  let draft: number = options.draft || null;\n  let changed: boolean = options.changed || false;\n\n  if (typeof schema !== 'object') { return schema; }\n  if (typeof schema.map === 'function') {\n    return [...schema.map(subSchema => convertSchemaToDraft6(subSchema, { changed, draft }))];\n  }\n  let newSchema = { ...schema };\n  const simpleTypes = ['array', 'boolean', 'integer', 'null', 'number', 'object', 'string'];\n\n  if (typeof newSchema.$schema === 'string' &&\n    /http\\:\\/\\/json\\-schema\\.org\\/draft\\-0\\d\\/schema\\#/.test(newSchema.$schema)\n  ) {\n    draft = newSchema.$schema[30];\n  }\n\n  // Convert v1-v2 'contentEncoding' to 'media.binaryEncoding'\n  // Note: This is only used in JSON hyper-schema (not regular JSON schema)\n  if (newSchema.contentEncoding) {\n    newSchema.media = { binaryEncoding: newSchema.contentEncoding };\n    delete newSchema.contentEncoding;\n    changed = true;\n  }\n\n  // Convert v1-v3 'extends' to 'allOf'\n  if (typeof newSchema.extends === 'object') {\n    newSchema.allOf = typeof newSchema.extends.map === 'function' ?\n      newSchema.extends.map(subSchema => convertSchemaToDraft6(subSchema, { changed, draft })) :\n      [convertSchemaToDraft6(newSchema.extends, { changed, draft })];\n    delete newSchema.extends;\n    changed = true;\n  }\n\n  // Convert v1-v3 'disallow' to 'not'\n  if (newSchema.disallow) {\n    if (typeof newSchema.disallow === 'string') {\n      newSchema.not = { type: newSchema.disallow };\n    } else if (typeof newSchema.disallow.map === 'function') {\n      newSchema.not = {\n        anyOf: newSchema.disallow\n          .map(type => typeof type === 'object' ? type : { type })\n      };\n    }\n    delete newSchema.disallow;\n    changed = true;\n  }\n\n  // Convert v3 string 'dependencies' properties to arrays\n  if (typeof newSchema.dependencies === 'object' &&\n    Object.keys(newSchema.dependencies)\n      .some(key => typeof newSchema.dependencies[key] === 'string')\n  ) {\n    newSchema.dependencies = { ...newSchema.dependencies };\n    Object.keys(newSchema.dependencies)\n      .filter(key => typeof newSchema.dependencies[key] === 'string')\n      .forEach(key => newSchema.dependencies[key] = [newSchema.dependencies[key]]);\n    changed = true;\n  }\n\n  // Convert v1 'maxDecimal' to 'multipleOf'\n  if (typeof newSchema.maxDecimal === 'number') {\n    newSchema.multipleOf = 1 / Math.pow(10, newSchema.maxDecimal);\n    delete newSchema.divisibleBy;\n    changed = true;\n    if (!draft || draft === 2) { draft = 1; }\n  }\n\n  // Convert v2-v3 'divisibleBy' to 'multipleOf'\n  if (typeof newSchema.divisibleBy === 'number') {\n    newSchema.multipleOf = newSchema.divisibleBy;\n    delete newSchema.divisibleBy;\n    changed = true;\n  }\n\n  // Convert v1-v2 boolean 'minimumCanEqual' to 'exclusiveMinimum'\n  if (typeof newSchema.minimum === 'number' && newSchema.minimumCanEqual === false) {\n    newSchema.exclusiveMinimum = newSchema.minimum;\n    delete newSchema.minimum;\n    changed = true;\n    if (!draft) { draft = 2; }\n  } else if (typeof newSchema.minimumCanEqual === 'boolean') {\n    delete newSchema.minimumCanEqual;\n    changed = true;\n    if (!draft) { draft = 2; }\n  }\n\n  // Convert v3-v4 boolean 'exclusiveMinimum' to numeric\n  if (typeof newSchema.minimum === 'number' && newSchema.exclusiveMinimum === true) {\n    newSchema.exclusiveMinimum = newSchema.minimum;\n    delete newSchema.minimum;\n    changed = true;\n  } else if (typeof newSchema.exclusiveMinimum === 'boolean') {\n    delete newSchema.exclusiveMinimum;\n    changed = true;\n  }\n\n  // Convert v1-v2 boolean 'maximumCanEqual' to 'exclusiveMaximum'\n  if (typeof newSchema.maximum === 'number' && newSchema.maximumCanEqual === false) {\n    newSchema.exclusiveMaximum = newSchema.maximum;\n    delete newSchema.maximum;\n    changed = true;\n    if (!draft) { draft = 2; }\n  } else if (typeof newSchema.maximumCanEqual === 'boolean') {\n    delete newSchema.maximumCanEqual;\n    changed = true;\n    if (!draft) { draft = 2; }\n  }\n\n  // Convert v3-v4 boolean 'exclusiveMaximum' to numeric\n  if (typeof newSchema.maximum === 'number' && newSchema.exclusiveMaximum === true) {\n    newSchema.exclusiveMaximum = newSchema.maximum;\n    delete newSchema.maximum;\n    changed = true;\n  } else if (typeof newSchema.exclusiveMaximum === 'boolean') {\n    delete newSchema.exclusiveMaximum;\n    changed = true;\n  }\n\n  // Search object 'properties' for 'optional', 'required', and 'requires' items,\n  // and convert them into object 'required' arrays and 'dependencies' objects\n  if (typeof newSchema.properties === 'object') {\n    const properties = { ...newSchema.properties };\n    const requiredKeys = Array.isArray(newSchema.required) ?\n      new Set(newSchema.required) : new Set();\n\n    // Convert v1-v2 boolean 'optional' properties to 'required' array\n    if (draft === 1 || draft === 2 ||\n      Object.keys(properties).some(key => properties[key].optional === true)\n    ) {\n      Object.keys(properties)\n        .filter(key => properties[key].optional !== true)\n        .forEach(key => requiredKeys.add(key));\n      changed = true;\n      if (!draft) { draft = 2; }\n    }\n\n    // Convert v3 boolean 'required' properties to 'required' array\n    if (Object.keys(properties).some(key => properties[key].required === true)) {\n      Object.keys(properties)\n        .filter(key => properties[key].required === true)\n        .forEach(key => requiredKeys.add(key));\n      changed = true;\n    }\n\n    if (requiredKeys.size) { newSchema.required = Array.from(requiredKeys); }\n\n    // Convert v1-v2 array or string 'requires' properties to 'dependencies' object\n    if (Object.keys(properties).some(key => properties[key].requires)) {\n      const dependencies = typeof newSchema.dependencies === 'object' ?\n        { ...newSchema.dependencies } : {};\n      Object.keys(properties)\n        .filter(key => properties[key].requires)\n        .forEach(key => dependencies[key] =\n          typeof properties[key].requires === 'string' ?\n            [properties[key].requires] : properties[key].requires\n        );\n      newSchema.dependencies = dependencies;\n      changed = true;\n      if (!draft) { draft = 2; }\n    }\n\n    newSchema.properties = properties;\n  }\n\n  // Revove v1-v2 boolean 'optional' key\n  if (typeof newSchema.optional === 'boolean') {\n    delete newSchema.optional;\n    changed = true;\n    if (!draft) { draft = 2; }\n  }\n\n  // Revove v1-v2 'requires' key\n  if (newSchema.requires) {\n    delete newSchema.requires;\n  }\n\n  // Revove v3 boolean 'required' key\n  if (typeof newSchema.required === 'boolean') {\n    delete newSchema.required;\n  }\n\n  // Convert id to $id\n  if (typeof newSchema.id === 'string' && !newSchema.$id) {\n    if (newSchema.id.slice(-1) === '#') {\n      newSchema.id = newSchema.id.slice(0, -1);\n    }\n    newSchema.$id = newSchema.id + '-CONVERTED-TO-DRAFT-06#';\n    delete newSchema.id;\n    changed = true;\n  }\n\n  // Check if v1-v3 'any' or object types will be converted\n  if (newSchema.type && (typeof newSchema.type.every === 'function' ?\n    !newSchema.type.every(type => simpleTypes.includes(type)) :\n    !simpleTypes.includes(newSchema.type)\n  )) {\n    changed = true;\n  }\n\n  // If schema changed, update or remove $schema identifier\n  if (typeof newSchema.$schema === 'string' &&\n    /http\\:\\/\\/json\\-schema\\.org\\/draft\\-0[1-4]\\/schema\\#/.test(newSchema.$schema)\n  ) {\n    newSchema.$schema = 'http://json-schema.org/draft-06/schema#';\n    changed = true;\n  } else if (changed && typeof newSchema.$schema === 'string') {\n    const addToDescription = 'Converted to draft 6 from ' + newSchema.$schema;\n    if (typeof newSchema.description === 'string' && newSchema.description.length) {\n      newSchema.description += '\\n' + addToDescription;\n    } else {\n      newSchema.description = addToDescription;\n    }\n    delete newSchema.$schema;\n  }\n\n  // Convert v1-v3 'any' and object types\n  if (newSchema.type && (typeof newSchema.type.every === 'function' ?\n    !newSchema.type.every(type => simpleTypes.includes(type)) :\n    !simpleTypes.includes(newSchema.type)\n  )) {\n    if (newSchema.type.length === 1) { newSchema.type = newSchema.type[0]; }\n    if (typeof newSchema.type === 'string') {\n      // Convert string 'any' type to array of all standard types\n      if (newSchema.type === 'any') {\n        newSchema.type = simpleTypes;\n        // Delete non-standard string type\n      } else {\n        delete newSchema.type;\n      }\n    } else if (typeof newSchema.type === 'object') {\n      if (typeof newSchema.type.every === 'function') {\n        // If array of strings, only allow standard types\n        if (newSchema.type.every(type => typeof type === 'string')) {\n          newSchema.type = newSchema.type.some(type => type === 'any') ?\n            newSchema.type = simpleTypes :\n            newSchema.type.filter(type => simpleTypes.includes(type));\n          // If type is an array with objects, convert the current schema to an 'anyOf' array\n        } else if (newSchema.type.length > 1) {\n          const arrayKeys = ['additionalItems', 'items', 'maxItems', 'minItems', 'uniqueItems', 'contains'];\n          const numberKeys = ['multipleOf', 'maximum', 'exclusiveMaximum', 'minimum', 'exclusiveMinimum'];\n          const objectKeys = ['maxProperties', 'minProperties', 'required', 'additionalProperties',\n            'properties', 'patternProperties', 'dependencies', 'propertyNames'];\n          const stringKeys = ['maxLength', 'minLength', 'pattern', 'format'];\n          const filterKeys = {\n            'array': [...numberKeys, ...objectKeys, ...stringKeys],\n            'integer': [...arrayKeys, ...objectKeys, ...stringKeys],\n            'number': [...arrayKeys, ...objectKeys, ...stringKeys],\n            'object': [...arrayKeys, ...numberKeys, ...stringKeys],\n            'string': [...arrayKeys, ...numberKeys, ...objectKeys],\n            'all': [...arrayKeys, ...numberKeys, ...objectKeys, ...stringKeys],\n          };\n          const anyOf = [];\n          for (const type of newSchema.type) {\n            const newType = typeof type === 'string' ? { type } : { ...type };\n            Object.keys(newSchema)\n              .filter(key => !newType.hasOwnProperty(key) &&\n                ![...(filterKeys[newType.type] || filterKeys.all), 'type', 'default']\n                  .includes(key)\n              )\n              .forEach(key => newType[key] = newSchema[key]);\n            anyOf.push(newType);\n          }\n          newSchema = newSchema.hasOwnProperty('default') ?\n            { anyOf, default: newSchema.default } : { anyOf };\n          // If type is an object, merge it with the current schema\n        } else {\n          const typeSchema = newSchema.type;\n          delete newSchema.type;\n          Object.assign(newSchema, typeSchema);\n        }\n      }\n    } else {\n      delete newSchema.type;\n    }\n  }\n\n  // Convert sub schemas\n  Object.keys(newSchema)\n    .filter(key => typeof newSchema[key] === 'object')\n    .forEach(key => {\n      if (\n        ['definitions', 'dependencies', 'properties', 'patternProperties']\n          .includes(key) && typeof newSchema[key].map !== 'function'\n      ) {\n        const newKey = {};\n        Object.keys(newSchema[key]).forEach(subKey => newKey[subKey] =\n          convertSchemaToDraft6(newSchema[key][subKey], { changed, draft })\n        );\n        newSchema[key] = newKey;\n      } else if (\n        ['items', 'additionalItems', 'additionalProperties',\n          'allOf', 'anyOf', 'oneOf', 'not'].includes(key)\n      ) {\n        newSchema[key] = convertSchemaToDraft6(newSchema[key], { changed, draft });\n      } else {\n        newSchema[key] = cloneDeep(newSchema[key]);\n      }\n    });\n\n  return newSchema;\n}\n","import { AbstractControl } from '@angular/forms';\nimport { from, Observable } from 'rxjs';\n\n/**\n * Validator utility function library:\n *\n * Validator and error utilities:\n *   _executeValidators, _executeAsyncValidators, _mergeObjects, _mergeErrors\n *\n * Individual value checking:\n *   isDefined, hasValue, isEmpty\n *\n * Individual type checking:\n *   isString, isNumber, isInteger, isBoolean, isFunction, isObject, isArray,\n *   isMap, isSet, isPromise, isObservable\n *\n * Multiple type checking and fixing:\n *   getType, isType, isPrimitive, toJavaScriptType, toSchemaType,\n *   _toPromise, toObservable\n *\n * Utility functions:\n *   inArray, xor\n *\n * Typescript types and interfaces:\n *   SchemaPrimitiveType, SchemaType, JavaScriptPrimitiveType, JavaScriptType,\n *   PrimitiveValue, PlainObject, IValidatorFn, AsyncIValidatorFn\n *\n * Note: 'IValidatorFn' is short for 'invertable validator function',\n *   which is a validator functions that accepts an optional second\n *   argument which, if set to TRUE, causes the validator to perform\n *   the opposite of its original function.\n */\n\nexport type SchemaPrimitiveType =\n  'string' | 'number' | 'integer' | 'boolean' | 'null';\nexport type SchemaType =\n  'string' | 'number' | 'integer' | 'boolean' | 'null' | 'object' | 'array';\nexport type JavaScriptPrimitiveType =\n  'string' | 'number' | 'boolean' | 'null' | 'undefined';\nexport type JavaScriptType =\n  'string' | 'number' | 'boolean' | 'null' | 'undefined' | 'object' | 'array' |\n  'map' | 'set' | 'arguments' | 'date' | 'error' | 'function' | 'json' |\n  'math' | 'regexp'; // Note: this list is incomplete\nexport type PrimitiveValue = string | number | boolean | null | undefined;\nexport interface PlainObject { [k: string]: any; }\n\nexport type IValidatorFn = (c: AbstractControl, i?: boolean) => PlainObject;\nexport type AsyncIValidatorFn = (c: AbstractControl, i?: boolean) => any;\n\n/**\n * '_executeValidators' utility function\n *\n * Validates a control against an array of validators, and returns\n * an array of the same length containing a combination of error messages\n * (from invalid validators) and null values (from valid validators)\n *\n * //  { AbstractControl } control - control to validate\n * //  { IValidatorFn[] } validators - array of validators\n * //  { boolean } invert - invert?\n * // { PlainObject[] } - array of nulls and error message\n */\nexport function _executeValidators(control, validators, invert = false) {\n  return validators.map(validator => validator(control, invert));\n}\n\n/**\n * '_executeAsyncValidators' utility function\n *\n * Validates a control against an array of async validators, and returns\n * an array of observabe results of the same length containing a combination of\n * error messages (from invalid validators) and null values (from valid ones)\n *\n * //  { AbstractControl } control - control to validate\n * //  { AsyncIValidatorFn[] } validators - array of async validators\n * //  { boolean } invert - invert?\n * //  - array of observable nulls and error message\n */\nexport function _executeAsyncValidators(control, validators, invert = false) {\n  return validators.map(validator => validator(control, invert));\n}\n\n/**\n * '_mergeObjects' utility function\n *\n * Recursively Merges one or more objects into a single object with combined keys.\n * Automatically detects and ignores null and undefined inputs.\n * Also detects duplicated boolean 'not' keys and XORs their values.\n *\n * //  { PlainObject[] } objects - one or more objects to merge\n * // { PlainObject } - merged object\n */\nexport function _mergeObjects(...objects) {\n  const mergedObject: PlainObject = { };\n  for (const currentObject of objects) {\n    if (isObject(currentObject)) {\n      for (const key of Object.keys(currentObject)) {\n        const currentValue = currentObject[key];\n        const mergedValue = mergedObject[key];\n        mergedObject[key] = !isDefined(mergedValue) ? currentValue :\n          key === 'not' && isBoolean(mergedValue, 'strict') &&\n            isBoolean(currentValue, 'strict') ? xor(mergedValue, currentValue) :\n          getType(mergedValue) === 'object' && getType(currentValue) === 'object' ?\n            _mergeObjects(mergedValue, currentValue) :\n            currentValue;\n      }\n    }\n  }\n  return mergedObject;\n}\n\n/**\n * '_mergeErrors' utility function\n *\n * Merges an array of objects.\n * Used for combining the validator errors returned from 'executeValidators'\n *\n * //  { PlainObject[] } arrayOfErrors - array of objects\n * // { PlainObject } - merged object, or null if no usable input objectcs\n */\nexport function _mergeErrors(arrayOfErrors) {\n  const mergedErrors = _mergeObjects(...arrayOfErrors);\n  return isEmpty(mergedErrors) ? null : mergedErrors;\n}\n\n/**\n * 'isDefined' utility function\n *\n * Checks if a variable contains a value of any type.\n * Returns true even for otherwise 'falsey' values of 0, '', and false.\n *\n * //   value - the value to check\n * // { boolean } - false if undefined or null, otherwise true\n */\nexport function isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\n/**\n * 'hasValue' utility function\n *\n * Checks if a variable contains a value.\n * Returs false for null, undefined, or a zero-length strng, '',\n * otherwise returns true.\n * (Stricter than 'isDefined' because it also returns false for '',\n * though it stil returns true for otherwise 'falsey' values 0 and false.)\n *\n * //   value - the value to check\n * // { boolean } - false if undefined, null, or '', otherwise true\n */\nexport function hasValue(value) {\n  return value !== undefined && value !== null && value !== '';\n}\n\n/**\n * 'isEmpty' utility function\n *\n * Similar to !hasValue, but also returns true for empty arrays and objects.\n *\n * //   value - the value to check\n * // { boolean } - false if undefined, null, or '', otherwise true\n */\nexport function isEmpty(value) {\n  if (isArray(value)) { return !value.length; }\n  if (isObject(value)) { return !Object.keys(value).length; }\n  return value === undefined || value === null || value === '';\n}\n\n/**\n * 'isString' utility function\n *\n * Checks if a value is a string.\n *\n * //   value - the value to check\n * // { boolean } - true if string, false if not\n */\nexport function isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * 'isNumber' utility function\n *\n * Checks if a value is a regular number, numeric string, or JavaScript Date.\n *\n * //   value - the value to check\n * //  { any = false } strict - if truthy, also checks JavaScript tyoe\n * // { boolean } - true if number, false if not\n */\nexport function isNumber(value, strict: any = false) {\n  if (strict && typeof value !== 'number') { return false; }\n  return !isNaN(value) && value !== value / 0;\n}\n\n/**\n * 'isInteger' utility function\n *\n * Checks if a value is an integer.\n *\n * //   value - the value to check\n * //  { any = false } strict - if truthy, also checks JavaScript tyoe\n * // {boolean } - true if number, false if not\n */\nexport function isInteger(value, strict: any = false) {\n  if (strict && typeof value !== 'number') { return false; }\n  return !isNaN(value) &&  value !== value / 0 && value % 1 === 0;\n}\n\n/**\n * 'isBoolean' utility function\n *\n * Checks if a value is a boolean.\n *\n * //   value - the value to check\n * //  { any = null } option - if 'strict', also checks JavaScript type\n *                              if TRUE or FALSE, checks only for that value\n * // { boolean } - true if boolean, false if not\n */\nexport function isBoolean(value, option: any = null) {\n  if (option === 'strict') { return value === true || value === false; }\n  if (option === true) {\n    return value === true || value === 1 || value === 'true' || value === '1';\n  }\n  if (option === false) {\n    return value === false || value === 0 || value === 'false' || value === '0';\n  }\n  return value === true || value === 1 || value === 'true' || value === '1' ||\n    value === false || value === 0 || value === 'false' || value === '0';\n}\n\nexport function isFunction(item: any): boolean {\n  return typeof item === 'function';\n}\n\nexport function isObject(item: any): boolean {\n  return item !== null && typeof item === 'object';\n}\n\nexport function isArray(item: any): boolean {\n  return Array.isArray(item);\n}\n\nexport function isDate(item: any): boolean {\n  return !!item && Object.prototype.toString.call(item) === '[object Date]';\n}\n\nexport function isMap(item: any): boolean {\n  return !!item && Object.prototype.toString.call(item) === '[object Map]';\n}\n\nexport function isSet(item: any): boolean {\n  return !!item && Object.prototype.toString.call(item) === '[object Set]';\n}\n\nexport function isSymbol(item: any): boolean {\n  return typeof item === 'symbol';\n}\n\n/**\n * 'getType' function\n *\n * Detects the JSON Schema Type of a value.\n * By default, detects numbers and integers even if formatted as strings.\n * (So all integers are also numbers, and any number may also be a string.)\n * However, it only detects true boolean values (to detect boolean values\n * in non-boolean formats, use isBoolean() instead).\n *\n * If passed a second optional parameter of 'strict', it will only detect\n * numbers and integers if they are formatted as JavaScript numbers.\n *\n * Examples:\n * getType('10.5') = 'number'\n * getType(10.5) = 'number'\n * getType('10') = 'integer'\n * getType(10) = 'integer'\n * getType('true') = 'string'\n * getType(true) = 'boolean'\n * getType(null) = 'null'\n * getType({ }) = 'object'\n * getType([]) = 'array'\n *\n * getType('10.5', 'strict') = 'string'\n * getType(10.5, 'strict') = 'number'\n * getType('10', 'strict') = 'string'\n * getType(10, 'strict') = 'integer'\n * getType('true', 'strict') = 'string'\n * getType(true, 'strict') = 'boolean'\n *\n * //   value - value to check\n * //  { any = false } strict - if truthy, also checks JavaScript tyoe\n * // { SchemaType }\n */\nexport function getType(value, strict: any = false) {\n  if (!isDefined(value)) { return 'null'; }\n  if (isArray(value)) { return 'array'; }\n  if (isObject(value)) { return 'object'; }\n  if (isBoolean(value, 'strict')) { return 'boolean'; }\n  if (isInteger(value, strict)) { return 'integer'; }\n  if (isNumber(value, strict)) { return 'number'; }\n  if (isString(value) || (!strict && isDate(value))) { return 'string'; }\n  return null;\n}\n\n/**\n * 'isType' function\n *\n * Checks wether an input (probably string) value contains data of\n * a specified JSON Schema type\n *\n * //  { PrimitiveValue } value - value to check\n * //  { SchemaPrimitiveType } type - type to check\n * // { boolean }\n */\nexport function isType(value, type) {\n  switch (type) {\n    case 'string':\n      return isString(value) || isDate(value);\n    case 'number':\n      return isNumber(value);\n    case 'integer':\n      return isInteger(value);\n    case 'boolean':\n      return isBoolean(value);\n    case 'null':\n      return !hasValue(value);\n    default:\n      console.error(`isType error: \"${type}\" is not a recognized type.`);\n      return null;\n  }\n}\n\n/**\n * 'isPrimitive' function\n *\n * Checks wether an input value is a JavaScript primitive type:\n * string, number, boolean, or null.\n *\n * //   value - value to check\n * // { boolean }\n */\nexport function isPrimitive(value) {\n  return (isString(value) || isNumber(value) ||\n    isBoolean(value, 'strict') || value === null);\n}\n\n/**\n * 'toJavaScriptType' function\n *\n * Converts an input (probably string) value to a JavaScript primitive type -\n * 'string', 'number', 'boolean', or 'null' - before storing in a JSON object.\n *\n * Does not coerce values (other than null), and only converts the types\n * of values that would otherwise be valid.\n *\n * If the optional third parameter 'strictIntegers' is TRUE, and the\n * JSON Schema type 'integer' is specified, it also verifies the input value\n * is an integer and, if it is, returns it as a JaveScript number.\n * If 'strictIntegers' is FALSE (or not set) the type 'integer' is treated\n * exactly the same as 'number', and allows decimals.\n *\n * Valid Examples:\n * toJavaScriptType('10',   'number' ) = 10   // '10'   is a number\n * toJavaScriptType('10',   'integer') = 10   // '10'   is also an integer\n * toJavaScriptType( 10,    'integer') = 10   //  10    is still an integer\n * toJavaScriptType( 10,    'string' ) = '10' //  10    can be made into a string\n * toJavaScriptType('10.5', 'number' ) = 10.5 // '10.5' is a number\n *\n * Invalid Examples:\n * toJavaScriptType('10.5', 'integer') = null // '10.5' is not an integer\n * toJavaScriptType( 10.5,  'integer') = null //  10.5  is still not an integer\n *\n * //  { PrimitiveValue } value - value to convert\n * //  { SchemaPrimitiveType | SchemaPrimitiveType[] } types - types to convert to\n * //  { boolean = false } strictIntegers - if FALSE, treat integers as numbers\n * // { PrimitiveValue }\n */\nexport function toJavaScriptType(value, types, strictIntegers = true)  {\n  if (!isDefined(value)) { return null; }\n  if (isString(types)) { types = [types]; }\n  if (strictIntegers && inArray('integer', types)) {\n    if (isInteger(value, 'strict')) { return value; }\n    if (isInteger(value)) { return parseInt(value, 10); }\n  }\n  if (inArray('number', types) || (!strictIntegers && inArray('integer', types))) {\n    if (isNumber(value, 'strict')) { return value; }\n    if (isNumber(value)) { return parseFloat(value); }\n  }\n  if (inArray('string', types)) {\n    if (isString(value)) { return value; }\n    // If value is a date, and types includes 'string',\n    // convert the date to a string\n    if (isDate(value)) { return value.toISOString().slice(0, 10); }\n    if (isNumber(value)) { return value.toString(); }\n  }\n  // If value is a date, and types includes 'integer' or 'number',\n  // but not 'string', convert the date to a number\n  if (isDate(value) && (inArray('integer', types) || inArray('number', types))) {\n    return value.getTime();\n  }\n  if (inArray('boolean', types)) {\n    if (isBoolean(value, true)) { return true; }\n    if (isBoolean(value, false)) { return false; }\n  }\n  return null;\n}\n\n/**\n * 'toSchemaType' function\n *\n * Converts an input (probably string) value to the \"best\" JavaScript\n * equivalent available from an allowed list of JSON Schema types, which may\n * contain 'string', 'number', 'integer', 'boolean', and/or 'null'.\n * If necssary, it does progressively agressive type coersion.\n * It will not return null unless null is in the list of allowed types.\n *\n * Number conversion examples:\n * toSchemaType('10', ['number','integer','string']) = 10 // integer\n * toSchemaType('10', ['number','string']) = 10 // number\n * toSchemaType('10', ['string']) = '10' // string\n * toSchemaType('10.5', ['number','integer','string']) = 10.5 // number\n * toSchemaType('10.5', ['integer','string']) = '10.5' // string\n * toSchemaType('10.5', ['integer']) = 10 // integer\n * toSchemaType(10.5, ['null','boolean','string']) = '10.5' // string\n * toSchemaType(10.5, ['null','boolean']) = true // boolean\n *\n * String conversion examples:\n * toSchemaType('1.5x', ['boolean','number','integer','string']) = '1.5x' // string\n * toSchemaType('1.5x', ['boolean','number','integer']) = '1.5' // number\n * toSchemaType('1.5x', ['boolean','integer']) = '1' // integer\n * toSchemaType('1.5x', ['boolean']) = true // boolean\n * toSchemaType('xyz', ['number','integer','boolean','null']) = true // boolean\n * toSchemaType('xyz', ['number','integer','null']) = null // null\n * toSchemaType('xyz', ['number','integer']) = 0 // number\n *\n * Boolean conversion examples:\n * toSchemaType('1', ['integer','number','string','boolean']) = 1 // integer\n * toSchemaType('1', ['number','string','boolean']) = 1 // number\n * toSchemaType('1', ['string','boolean']) = '1' // string\n * toSchemaType('1', ['boolean']) = true // boolean\n * toSchemaType('true', ['number','string','boolean']) = 'true' // string\n * toSchemaType('true', ['boolean']) = true // boolean\n * toSchemaType('true', ['number']) = 0 // number\n * toSchemaType(true, ['number','string','boolean']) = true // boolean\n * toSchemaType(true, ['number','string']) = 'true' // string\n * toSchemaType(true, ['number']) = 1 // number\n *\n * //  { PrimitiveValue } value - value to convert\n * //  { SchemaPrimitiveType | SchemaPrimitiveType[] } types - allowed types to convert to\n * // { PrimitiveValue }\n */\nexport function toSchemaType(value, types) {\n  if (!isArray(<SchemaPrimitiveType>types)) {\n    types = <SchemaPrimitiveType[]>[types];\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('null') && !hasValue(value)) {\n    return null;\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('boolean') && !isBoolean(value, 'strict')) {\n    return value;\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('integer')) {\n    const testValue = toJavaScriptType(value, 'integer');\n    if (testValue !== null) { return +testValue; }\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('number')) {\n    const testValue = toJavaScriptType(value, 'number');\n    if (testValue !== null) { return +testValue; }\n  }\n  if (\n    (isString(value) || isNumber(value, 'strict')) &&\n    (<SchemaPrimitiveType[]>types).includes('string')\n  ) { // Convert number to string\n    return toJavaScriptType(value, 'string');\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('boolean') && isBoolean(value)) {\n    return toJavaScriptType(value, 'boolean');\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('string')) { // Convert null & boolean to string\n    if (value === null) { return ''; }\n    const testValue = toJavaScriptType(value, 'string');\n    if (testValue !== null) { return testValue; }\n  }\n  if ((\n    (<SchemaPrimitiveType[]>types).includes('number') ||\n    (<SchemaPrimitiveType[]>types).includes('integer'))\n  ) {\n    if (value === true) { return 1; } // Convert boolean & null to number\n    if (value === false || value === null || value === '') { return 0; }\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('number')) { // Convert mixed string to number\n    const testValue = parseFloat(<string>value);\n    if (!!testValue) { return testValue; }\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('integer')) { // Convert string or number to integer\n    const testValue = parseInt(<string>value, 10);\n    if (!!testValue) { return testValue; }\n  }\n  if ((<SchemaPrimitiveType[]>types).includes('boolean')) { // Convert anything to boolean\n    return !!value;\n  }\n  if ((\n      (<SchemaPrimitiveType[]>types).includes('number') ||\n      (<SchemaPrimitiveType[]>types).includes('integer')\n    ) && !(<SchemaPrimitiveType[]>types).includes('null')\n  ) {\n    return 0; // If null not allowed, return 0 for non-convertable values\n  }\n}\n\n/**\n * 'isPromise' function\n *\n * //   object\n * // { boolean }\n */\nexport function isPromise(object): object is Promise<any> {\n  return !!object && typeof object.then === 'function';\n}\n\n/**\n * 'isObservable' function\n *\n * //   object\n * // { boolean }\n */\nexport function isObservable(object): object is Observable<any> {\n  return !!object && typeof object.subscribe === 'function';\n}\n\n/**\n * '_toPromise' function\n *\n * //  { object } object\n * // { Promise<any> }\n */\nexport function _toPromise(object): Promise<any> {\n  return isPromise(object) ? object : object.toPromise();\n}\n\n/**\n * 'toObservable' function\n *\n * //  { object } object\n * // { Observable<any> }\n */\nexport function toObservable(object): Observable<any> {\n  const observable = isPromise(object) ? from(object) : object;\n  if (isObservable(observable)) { return observable; }\n  console.error('toObservable error: Expected validator to return Promise or Observable.');\n  return new Observable();\n}\n\n/**\n * 'inArray' function\n *\n * Searches an array for an item, or one of a list of items, and returns true\n * as soon as a match is found, or false if no match.\n *\n * If the optional third parameter allIn is set to TRUE, and the item to find\n * is an array, then the function returns true only if all elements from item\n * are found in the array list, and false if any element is not found. If the\n * item to find is not an array, setting allIn to TRUE has no effect.\n *\n * //  { any|any[] } item - the item to search for\n * //   array - the array to search\n * //  { boolean = false } allIn - if TRUE, all items must be in array\n * // { boolean } - true if item(s) in array, false otherwise\n */\nexport function inArray(item, array, allIn = false) {\n  if (!isDefined(item) || !isArray(array)) { return false; }\n  return isArray(item) ?\n    item[allIn ? 'every' : 'some'](subItem => array.includes(subItem)) :\n    array.includes(item);\n}\n\n/**\n * 'xor' utility function - exclusive or\n *\n * Returns true if exactly one of two values is truthy.\n *\n * //   value1 - first value to check\n * //   value2 - second value to check\n * // { boolean } - true if exactly one input value is truthy, false if not\n */\nexport function xor(value1, value2) {\n  return (!!value1 && !value2) || (!value1 && !!value2);\n}\n","import {hasValue, inArray, isArray, isDefined, isEmpty, isMap, isObject, isSet, isString, PlainObject} from './validator.functions';\n\n/**\n * Utility function library:\n *\n * addClasses, copy, forEach, forEachCopy, hasOwn, mergeFilteredObject,\n * uniqueItems, commonItems, fixTitle, toTitleCase\n*/\n\n/**\n * 'addClasses' function\n *\n * Merges two space-delimited lists of CSS classes and removes duplicates.\n *\n * // {string | string[] | Set<string>} oldClasses\n * // {string | string[] | Set<string>} newClasses\n * // {string | string[] | Set<string>} - Combined classes\n */\nexport function addClasses(\n  oldClasses: string | string[] | Set<string>,\n  newClasses: string | string[] | Set<string>\n): string | string[] | Set<string> {\n  const badType = i => !isSet(i) && !isArray(i) && !isString(i);\n  if (badType(newClasses)) { return oldClasses; }\n  if (badType(oldClasses)) { oldClasses = ''; }\n  const toSet = i => isSet(i) ? i : isArray(i) ? new Set(i) : new Set(i.split(' '));\n  const combinedSet: Set<any> = toSet(oldClasses);\n  const newSet: Set<any> = toSet(newClasses);\n  newSet.forEach(c => combinedSet.add(c));\n  if (isSet(oldClasses)) { return combinedSet; }\n  if (isArray(oldClasses)) { return Array.from(combinedSet); }\n  return Array.from(combinedSet).join(' ');\n}\n\n/**\n * 'copy' function\n *\n * Makes a shallow copy of a JavaScript object, array, Map, or Set.\n * If passed a JavaScript primitive value (string, number, boolean, or null),\n * it returns the value.\n *\n * // {Object|Array|string|number|boolean|null} object - The object to copy\n * // {boolean = false} errors - Show errors?\n * // {Object|Array|string|number|boolean|null} - The copied object\n */\nexport function copy(object: any, errors = false): any {\n  if (typeof object !== 'object' || object === null) { return object; }\n  if (isMap(object))    { return new Map(object); }\n  if (isSet(object))    { return new Set(object); }\n  if (isArray(object))  { return [ ...object ];   }\n  if (isObject(object)) { return { ...object };   }\n  if (errors) {\n    console.error('copy error: Object to copy must be a JavaScript object or value.');\n  }\n  return object;\n}\n\n/**\n * 'forEach' function\n *\n * Iterates over all items in the first level of an object or array\n * and calls an iterator funciton on each item.\n *\n * The iterator function is called with four values:\n * 1. The current item's value\n * 2. The current item's key\n * 3. The parent object, which contains the current item\n * 4. The root object\n *\n * Setting the optional third parameter to 'top-down' or 'bottom-up' will cause\n * it to also recursively iterate over items in sub-objects or sub-arrays in the\n * specified direction.\n *\n * // {Object|Array} object - The object or array to iterate over\n * // {function} fn - the iterator funciton to call on each item\n * // {boolean = false} errors - Show errors?\n * // {void}\n */\nexport function forEach(\n  object: any, fn: (v: any, k?: string | number, c?: any, rc?: any) => any,\n  recurse: boolean | string = false, rootObject: any = object, errors = false\n): void {\n  if (isEmpty(object)) { return; }\n  if ((isObject(object) || isArray(object)) && typeof fn === 'function') {\n    for (const key of Object.keys(object)) {\n      const value = object[key];\n      if (recurse === 'bottom-up' && (isObject(value) || isArray(value))) {\n        forEach(value, fn, recurse, rootObject);\n      }\n      fn(value, key, object, rootObject);\n      if (recurse === 'top-down' && (isObject(value) || isArray(value))) {\n        forEach(value, fn, recurse, rootObject);\n      }\n    }\n  }\n  if (errors) {\n    if (typeof fn !== 'function') {\n      console.error('forEach error: Iterator must be a function.');\n      console.error('function', fn);\n    }\n    if (!isObject(object) && !isArray(object)) {\n      console.error('forEach error: Input object must be an object or array.');\n      console.error('object', object);\n    }\n  }\n}\n\n/**\n * 'forEachCopy' function\n *\n * Iterates over all items in the first level of an object or array\n * and calls an iterator function on each item. Returns a new object or array\n * with the same keys or indexes as the original, and values set to the results\n * of the iterator function.\n *\n * Does NOT recursively iterate over items in sub-objects or sub-arrays.\n *\n * // {Object | Array} object - The object or array to iterate over\n * // {function} fn - The iterator funciton to call on each item\n * // {boolean = false} errors - Show errors?\n * // {Object | Array} - The resulting object or array\n */\nexport function forEachCopy(\n  object: any, fn: (v: any, k?: string | number, o?: any, p?: string) => any,\n  errors = false\n): any {\n  if (!hasValue(object)) { return; }\n  if ((isObject(object) || isArray(object)) && typeof object !== 'function') {\n    const newObject: any = isArray(object) ? [] : {};\n    for (const key of Object.keys(object)) {\n      newObject[key] = fn(object[key], key, object);\n    }\n    return newObject;\n  }\n  if (errors) {\n    if (typeof fn !== 'function') {\n      console.error('forEachCopy error: Iterator must be a function.');\n      console.error('function', fn);\n    }\n    if (!isObject(object) && !isArray(object)) {\n      console.error('forEachCopy error: Input object must be an object or array.');\n      console.error('object', object);\n    }\n  }\n}\n\n/**\n * 'hasOwn' utility function\n *\n * Checks whether an object or array has a particular property.\n *\n * // {any} object - the object to check\n * // {string} property - the property to look for\n * // {boolean} - true if object has property, false if not\n */\nexport function hasOwn(object: any, property: string): boolean {\n  if (!object || !['number', 'string', 'symbol'].includes(typeof property) ||\n    (!isObject(object) && !isArray(object) && !isMap(object) && !isSet(object))\n  ) { return false; }\n  if (isMap(object) || isSet(object)) { return object.has(property); }\n  if (typeof property === 'number') {\n    if (isArray(object)) { return object[<number>property]; }\n    property = property + '';\n  }\n  return object.hasOwnProperty(property);\n}\n\n/**\n * Types of possible expressions which the app is able to evaluate.\n */\nexport enum ExpressionType {\n  EQUALS,\n  NOT_EQUALS,\n  NOT_AN_EXPRESSION\n}\n\n/**\n * Detects the type of expression from the given candidate. `==` for equals,\n * `!=` for not equals. If none of these are contained in the candidate, the candidate\n * is not considered to be an expression at all and thus `NOT_AN_EXPRESSION` is returned.\n * // {expressionCandidate} expressionCandidate - potential expression\n */\nexport function getExpressionType(expressionCandidate: string): ExpressionType {\n  if (expressionCandidate.indexOf('==') !== -1) {\n    return ExpressionType.EQUALS;\n  }\n\n  if (expressionCandidate.toString().indexOf('!=') !== -1) {\n    return ExpressionType.NOT_EQUALS;\n  }\n\n  return ExpressionType.NOT_AN_EXPRESSION;\n}\n\nexport function isEqual(expressionType) {\n  return expressionType as ExpressionType === ExpressionType.EQUALS;\n}\n\nexport function isNotEqual(expressionType) {\n  return expressionType as ExpressionType === ExpressionType.NOT_EQUALS;\n}\n\nexport function isNotExpression(expressionType) {\n  return expressionType as ExpressionType === ExpressionType.NOT_AN_EXPRESSION;\n}\n\n/**\n * Splits the expression key by the expressionType on a pair of values\n * before and after the equals or nor equals sign.\n * // {expressionType} enum of an expression type\n * // {key} the given key from a for loop iver all conditions\n */\nexport function getKeyAndValueByExpressionType(expressionType: ExpressionType, key: string) {\n  if (isEqual(expressionType)) {\n    return key.split('==', 2);\n  }\n\n  if (isNotEqual(expressionType)) {\n    return key.split('!=', 2);\n  }\n\n  return null;\n}\n\nexport function cleanValueOfQuotes(keyAndValue): String {\n  if (keyAndValue.charAt(0) === '\\'' && keyAndValue.charAt(keyAndValue.length - 1) === '\\'') {\n    return keyAndValue.replace('\\'', '').replace('\\'', '');\n  }\n  return keyAndValue;\n}\n\n/**\n * 'mergeFilteredObject' utility function\n *\n * Shallowly merges two objects, setting key and values from source object\n * in target object, excluding specified keys.\n *\n * Optionally, it can also use functions to transform the key names and/or\n * the values of the merging object.\n *\n * // {PlainObject} targetObject - Target object to add keys and values to\n * // {PlainObject} sourceObject - Source object to copy keys and values from\n * // {string[]} excludeKeys - Array of keys to exclude\n * // {(string: string) => string = (k) => k} keyFn - Function to apply to keys\n * // {(any: any) => any = (v) => v} valueFn - Function to apply to values\n * // {PlainObject} - Returns targetObject\n */\nexport function mergeFilteredObject(\n  targetObject: PlainObject,\n  sourceObject: PlainObject,\n  excludeKeys = <string[]>[],\n  keyFn = (key: string): string => key,\n  valFn = (val: any): any => val\n): PlainObject {\n  if (!isObject(sourceObject)) { return targetObject; }\n  if (!isObject(targetObject)) { targetObject = {}; }\n  for (const key of Object.keys(sourceObject)) {\n    if (!inArray(key, excludeKeys) && isDefined(sourceObject[key])) {\n      targetObject[keyFn(key)] = valFn(sourceObject[key]);\n    }\n  }\n  return targetObject;\n}\n\n/**\n * 'uniqueItems' function\n *\n * Accepts any number of string value inputs,\n * and returns an array of all input vaues, excluding duplicates.\n *\n * // {...string} ...items -\n * // {string[]} -\n */\nexport function uniqueItems(...items): string[] {\n  const returnItems = [];\n  for (const item of items) {\n    if (!returnItems.includes(item)) { returnItems.push(item); }\n  }\n  return returnItems;\n}\n\n/**\n * 'commonItems' function\n *\n * Accepts any number of strings or arrays of string values,\n * and returns a single array containing only values present in all inputs.\n *\n * // {...string|string[]} ...arrays -\n * // {string[]} -\n */\nexport function commonItems(...arrays): string[] {\n  let returnItems = null;\n  for (let array of arrays) {\n    if (isString(array)) { array = [array]; }\n    returnItems = returnItems === null ? [ ...array ] :\n      returnItems.filter(item => array.includes(item));\n    if (!returnItems.length) { return []; }\n  }\n  return returnItems;\n}\n\n/**\n * 'fixTitle' function\n *\n *\n * // {string} input -\n * // {string} -\n */\nexport function fixTitle(name: string): string {\n  return name && toTitleCase(name.replace(/([a-z])([A-Z])/g, '$1 $2').replace(/_/g, ' '));\n}\n\n/**\n * 'toTitleCase' function\n *\n * Intelligently converts an input string to Title Case.\n *\n * Accepts an optional second parameter with a list of additional\n * words and abbreviations to force into a particular case.\n *\n * This function is built on prior work by John Gruber and David Gouch:\n * http://daringfireball.net/2008/08/title_case_update\n * https://github.com/gouch/to-title-case\n *\n * // {string} input -\n * // {string|string[]} forceWords? -\n * // {string} -\n */\nexport function toTitleCase(input: string, forceWords?: string|string[]): string {\n  if (!isString(input)) { return input; }\n  let forceArray: string[] = ['a', 'an', 'and', 'as', 'at', 'but', 'by', 'en',\n   'for', 'if', 'in', 'nor', 'of', 'on', 'or', 'per', 'the', 'to', 'v', 'v.',\n   'vs', 'vs.', 'via'];\n  if (isString(forceWords)) { forceWords = (<string>forceWords).split('|'); }\n  if (isArray(forceWords)) { forceArray = forceArray.concat(forceWords); }\n  const forceArrayLower: string[] = forceArray.map(w => w.toLowerCase());\n  const noInitialCase: boolean =\n    input === input.toUpperCase() || input === input.toLowerCase();\n  let prevLastChar = '';\n  input = input.trim();\n  return input.replace(/[A-Za-z0-9\\u00C0-\\u00FF]+[^\\s-]*/g, (word, idx) => {\n    if (!noInitialCase && word.slice(1).search(/[A-Z]|\\../) !== -1) {\n      return word;\n    } else {\n      let newWord: string;\n      const forceWord: string =\n        forceArray[forceArrayLower.indexOf(word.toLowerCase())];\n      if (!forceWord) {\n        if (noInitialCase) {\n          if (word.slice(1).search(/\\../) !== -1) {\n            newWord = word.toLowerCase();\n          } else {\n            newWord = word[0].toUpperCase() + word.slice(1).toLowerCase();\n          }\n        } else {\n          newWord = word[0].toUpperCase() + word.slice(1);\n        }\n      } else if (\n        forceWord === forceWord.toLowerCase() && (\n          idx === 0 || idx + word.length === input.length ||\n          prevLastChar === ':' || input[idx - 1].search(/[^\\s-]/) !== -1 ||\n          (input[idx - 1] !== '-' && input[idx + word.length] === '-')\n        )\n      ) {\n        newWord = forceWord[0].toUpperCase() + forceWord.slice(1);\n      } else {\n        newWord = forceWord;\n      }\n      prevLastChar = word.slice(-1);\n      return newWord;\n    }\n  });\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport class Framework {\n  name: string;\n  framework: any;\n  widgets?: { [key: string]: any } = {};\n  stylesheets?: string[] = [];\n  scripts?: string[] = [];\n}\n","import {\n  cleanValueOfQuotes,\n  copy,\n  ExpressionType,\n  getExpressionType,\n  getKeyAndValueByExpressionType,\n  hasOwn,\n  isEqual,\n  isNotEqual,\n  isNotExpression\n} from './utility.functions';\nimport {Injectable} from '@angular/core';\nimport {isArray, isDefined, isEmpty, isMap, isNumber, isObject, isString} from './validator.functions';\n\n/**\n * 'JsonPointer' class\n *\n * Some utilities for using JSON Pointers with JSON objects\n * https://tools.ietf.org/html/rfc6901\n *\n * get, getCopy, getFirst, set, setCopy, insert, insertCopy, remove, has, dict,\n * forEachDeep, forEachDeepCopy, escape, unescape, parse, compile, toKey,\n * isJsonPointer, isSubPointer, toIndexedPointer, toGenericPointer,\n * toControlPointer, toSchemaPointer, toDataPointer, parseObjectPath\n *\n * Some functions based on manuelstofer's json-pointer utilities\n * https://github.com/manuelstofer/json-pointer\n */\nexport type Pointer = string | string[];\n\n@Injectable()\nexport class JsonPointer {\n\n  /**\n   * 'get' function\n   *\n   * Uses a JSON Pointer to retrieve a value from an object.\n   *\n   * //  { object } object - Object to get value from\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * //  { number = 0 } startSlice - Zero-based index of first Pointer key to use\n   * //  { number } endSlice - Zero-based index of last Pointer key to use\n   * //  { boolean = false } getBoolean - Return only true or false?\n   * //  { boolean = false } errors - Show error if not found?\n   * // { object } - Located value (or true or false if getBoolean = true)\n   */\n  static get(\n    object, pointer, startSlice = 0, endSlice: number = null,\n    getBoolean = false, errors = false\n  ) {\n    if (object === null) { return getBoolean ? false : undefined; }\n    let keyArray: any[] = this.parse(pointer, errors);\n    if (typeof object === 'object' && keyArray !== null) {\n      let subObject = object;\n      if (startSlice >= keyArray.length || endSlice <= -keyArray.length) { return object; }\n      if (startSlice <= -keyArray.length) { startSlice = 0; }\n      if (!isDefined(endSlice) || endSlice >= keyArray.length) { endSlice = keyArray.length; }\n      keyArray = keyArray.slice(startSlice, endSlice);\n      for (let key of keyArray) {\n        if (key === '-' && isArray(subObject) && subObject.length) {\n          key = subObject.length - 1;\n        }\n        if (isMap(subObject) && subObject.has(key)) {\n          subObject = subObject.get(key);\n        } else if (typeof subObject === 'object' && subObject !== null &&\n          hasOwn(subObject, key)\n        ) {\n          subObject = subObject[key];\n        } else {\n          const evaluatedExpression = JsonPointer.evaluateExpression(subObject, key);\n          if (evaluatedExpression.passed) {\n            subObject = evaluatedExpression.key ? subObject[evaluatedExpression.key] : subObject;\n          } else {\n            this.logErrors(errors, key, pointer, object);\n            return getBoolean ? false : undefined;\n          }\n        }\n      }\n      return getBoolean ? true : subObject;\n    }\n    if (errors && keyArray === null) {\n      console.error(`get error: Invalid JSON Pointer: ${pointer}`);\n    }\n    if (errors && typeof object !== 'object') {\n      console.error('get error: Invalid object:');\n      console.error(object);\n    }\n    return getBoolean ? false : undefined;\n  }\n\n  private static logErrors(errors, key, pointer, object) {\n    if (errors) {\n      console.error(`get error: \"${key}\" key not found in object.`);\n      console.error(pointer);\n      console.error(object);\n    }\n  }\n\n  /**\n   * Evaluates conditional expression in form of `model.<property>==<value>` or\n   * `model.<property>!=<value>` where the first one means that the value must match to be\n   * shown in a form, while the former shows the property only when the property value is not\n   * set, or does not equal the given value.\n   *\n   * // { subObject } subObject -  an object containing the data values of properties\n   * // { key } key - the key from the for loop in a form of `<property>==<value>`\n   *\n   * Returns the object with two properties. The property passed informs whether\n   * the expression evaluated successfully and the property key returns either the same\n   * key if it is not contained inside the subObject or the key of the property if it is contained.\n   */\n  static evaluateExpression(subObject: Object, key: any) {\n    const defaultResult = {passed: false, key: key};\n    const keysAndExpression = this.parseKeysAndExpression(key, subObject);\n    if (!keysAndExpression) {\n      return defaultResult;\n    }\n\n    const ownCheckResult = this.doOwnCheckResult(subObject, keysAndExpression);\n    if (ownCheckResult) {\n      return ownCheckResult;\n    }\n\n    const cleanedValue = cleanValueOfQuotes(keysAndExpression.keyAndValue[1]);\n\n    const evaluatedResult = this.performExpressionOnValue(keysAndExpression, cleanedValue, subObject);\n    if (evaluatedResult) {\n      return evaluatedResult;\n    }\n\n    return defaultResult;\n  }\n\n  /**\n   * Performs the actual evaluation on the given expression with given values and keys.\n   * // { cleanedValue } cleanedValue - the given valued cleaned of quotes if it had any\n   * // { subObject } subObject - the object with properties values\n   * // { keysAndExpression } keysAndExpression - an object holding the expressions with\n   */\n  private static performExpressionOnValue(keysAndExpression: any, cleanedValue: String, subObject: Object) {\n    const propertyByKey = subObject[keysAndExpression.keyAndValue[0]];\n    if (this.doComparisonByExpressionType(keysAndExpression.expressionType, propertyByKey, cleanedValue)) {\n      return {passed: true, key: keysAndExpression.keyAndValue[0]};\n    }\n\n    return null;\n  }\n\n  private static doComparisonByExpressionType(expressionType: ExpressionType, propertyByKey, cleanedValue: String): Boolean {\n    if (isEqual(expressionType)) {\n      return propertyByKey === cleanedValue;\n    }\n    if (isNotEqual(expressionType)) {\n      return propertyByKey !== cleanedValue;\n    }\n    return false;\n  }\n\n  /**\n   * Does the checks when the parsed key is actually no a property inside subObject.\n   * That would mean that the equal comparison makes no sense and thus the negative result\n   * is returned, and the not equal comparison is not necessary because it doesn't equal\n   * obviously. Returns null when the given key is a real property inside the subObject.\n   * // { subObject } subObject - the object with properties values\n   * // { keysAndExpression } keysAndExpression - an object holding the expressions with\n   * the associated keys.\n   */\n  private static doOwnCheckResult(subObject: Object, keysAndExpression) {\n    let ownCheckResult = null;\n    if (!hasOwn(subObject, keysAndExpression.keyAndValue[0])) {\n      if (isEqual(keysAndExpression.expressionType)) {\n        ownCheckResult = {passed: false, key: null};\n      }\n      if (isNotEqual(keysAndExpression.expressionType)) {\n        ownCheckResult = {passed: true, key: null};\n      }\n    }\n    return ownCheckResult;\n  }\n\n  /**\n   * Does the basic checks and tries to parse an expression and a pair\n   * of key and value.\n   * // { key } key - the original for loop created value containing key and value in one string\n   * // { subObject } subObject - the object with properties values\n   */\n  private static parseKeysAndExpression(key: string, subObject) {\n    if (this.keyOrSubObjEmpty(key, subObject)) {\n      return null;\n    }\n    const expressionType = getExpressionType(key.toString());\n    if (isNotExpression(expressionType)) {\n      return null;\n    }\n    const keyAndValue = getKeyAndValueByExpressionType(expressionType, key);\n    if (!keyAndValue || !keyAndValue[0] || !keyAndValue[1]) {\n      return null;\n    }\n    return {expressionType: expressionType, keyAndValue: keyAndValue};\n  }\n\n  private static keyOrSubObjEmpty(key: any, subObject: Object) {\n    return !key || !subObject;\n  }\n\n  /**\n   * 'getCopy' function\n   *\n   * Uses a JSON Pointer to deeply clone a value from an object.\n   *\n   * //  { object } object - Object to get value from\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * //  { number = 0 } startSlice - Zero-based index of first Pointer key to use\n   * //  { number } endSlice - Zero-based index of last Pointer key to use\n   * //  { boolean = false } getBoolean - Return only true or false?\n   * //  { boolean = false } errors - Show error if not found?\n   * // { object } - Located value (or true or false if getBoolean = true)\n   */\n  static getCopy(\n    object, pointer, startSlice = 0, endSlice: number = null,\n    getBoolean = false, errors = false\n  ) {\n    const objectToCopy =\n      this.get(object, pointer, startSlice, endSlice, getBoolean, errors);\n    return this.forEachDeepCopy(objectToCopy);\n  }\n\n  /**\n   * 'getFirst' function\n   *\n   * Takes an array of JSON Pointers and objects,\n   * checks each object for a value specified by the pointer,\n   * and returns the first value found.\n   *\n   * //  { [object, pointer][] } items - Array of objects and pointers to check\n   * //  { any = null } defaultValue - Value to return if nothing found\n   * //  { boolean = false } getCopy - Return a copy instead?\n   * //  - First value found\n   */\n  static getFirst(items, defaultValue: any = null, getCopy = false) {\n    if (isEmpty(items)) { return; }\n    if (isArray(items)) {\n      for (const item of items) {\n        if (isEmpty(item)) { continue; }\n        if (isArray(item) && item.length >= 2) {\n          if (isEmpty(item[0]) || isEmpty(item[1])) { continue; }\n          const value = getCopy ?\n            this.getCopy(item[0], item[1]) :\n            this.get(item[0], item[1]);\n          if (value) { return value; }\n          continue;\n        }\n        console.error('getFirst error: Input not in correct format.\\n' +\n          'Should be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]');\n        return;\n      }\n      return defaultValue;\n    }\n    if (isMap(items)) {\n      for (const [object, pointer] of items) {\n        if (object === null || !this.isJsonPointer(pointer)) { continue; }\n        const value = getCopy ?\n          this.getCopy(object, pointer) :\n          this.get(object, pointer);\n        if (value) { return value; }\n      }\n      return defaultValue;\n    }\n    console.error('getFirst error: Input not in correct format.\\n' +\n      'Should be: [ [ object1, pointer1 ], [ object 2, pointer2 ], etc... ]');\n    return defaultValue;\n  }\n\n  /**\n   * 'getFirstCopy' function\n   *\n   * Similar to getFirst, but always returns a copy.\n   *\n   * //  { [object, pointer][] } items - Array of objects and pointers to check\n   * //  { any = null } defaultValue - Value to return if nothing found\n   * //  - Copy of first value found\n   */\n  static getFirstCopy(items, defaultValue: any = null) {\n    const firstCopy = this.getFirst(items, defaultValue, true);\n    return firstCopy;\n  }\n\n  /**\n   * 'set' function\n   *\n   * Uses a JSON Pointer to set a value on an object.\n   * Also creates any missing sub objects or arrays to contain that value.\n   *\n   * If the optional fourth parameter is TRUE and the inner-most container\n   * is an array, the function will insert the value as a new item at the\n   * specified location in the array, rather than overwriting the existing\n   * value (if any) at that location.\n   *\n   * So set([1, 2, 3], '/1', 4) => [1, 4, 3]\n   * and\n   * So set([1, 2, 3], '/1', 4, true) => [1, 4, 2, 3]\n   *\n   * //  { object } object - The object to set value in\n   * //  { Pointer } pointer - The JSON Pointer (string or array)\n   * //   value - The new value to set\n   * //  { boolean } insert - insert value?\n   * // { object } - The original object, modified with the set value\n   */\n  static set(object, pointer, value, insert = false) {\n    const keyArray = this.parse(pointer);\n    if (keyArray !== null && keyArray.length) {\n      let subObject = object;\n      for (let i = 0; i < keyArray.length - 1; ++i) {\n        let key = keyArray[i];\n        if (key === '-' && isArray(subObject)) {\n          key = subObject.length;\n        }\n        if (isMap(subObject) && subObject.has(key)) {\n          subObject = subObject.get(key);\n        } else {\n          if (!hasOwn(subObject, key)) {\n            subObject[key] = (keyArray[i + 1].match(/^(\\d+|-)$/)) ? [] : {};\n          }\n          subObject = subObject[key];\n        }\n      }\n      const lastKey = keyArray[keyArray.length - 1];\n      if (isArray(subObject) && lastKey === '-') {\n        subObject.push(value);\n      } else if (insert && isArray(subObject) && !isNaN(+lastKey)) {\n        subObject.splice(lastKey, 0, value);\n      } else if (isMap(subObject)) {\n        subObject.set(lastKey, value);\n      } else {\n        subObject[lastKey] = value;\n      }\n      return object;\n    }\n    console.error(`set error: Invalid JSON Pointer: ${pointer}`);\n    return object;\n  }\n\n  /**\n   * 'setCopy' function\n   *\n   * Copies an object and uses a JSON Pointer to set a value on the copy.\n   * Also creates any missing sub objects or arrays to contain that value.\n   *\n   * If the optional fourth parameter is TRUE and the inner-most container\n   * is an array, the function will insert the value as a new item at the\n   * specified location in the array, rather than overwriting the existing value.\n   *\n   * //  { object } object - The object to copy and set value in\n   * //  { Pointer } pointer - The JSON Pointer (string or array)\n   * //   value - The value to set\n   * //  { boolean } insert - insert value?\n   * // { object } - The new object with the set value\n   */\n  static setCopy(object, pointer, value, insert = false) {\n    const keyArray = this.parse(pointer);\n    if (keyArray !== null) {\n      const newObject = copy(object);\n      let subObject = newObject;\n      for (let i = 0; i < keyArray.length - 1; ++i) {\n        let key = keyArray[i];\n        if (key === '-' && isArray(subObject)) {\n          key = subObject.length;\n        }\n        if (isMap(subObject) && subObject.has(key)) {\n          subObject.set(key, copy(subObject.get(key)));\n          subObject = subObject.get(key);\n        } else {\n          if (!hasOwn(subObject, key)) {\n            subObject[key] = (keyArray[i + 1].match(/^(\\d+|-)$/)) ? [] : {};\n          }\n          subObject[key] = copy(subObject[key]);\n          subObject = subObject[key];\n        }\n      }\n      const lastKey = keyArray[keyArray.length - 1];\n      if (isArray(subObject) && lastKey === '-') {\n        subObject.push(value);\n      } else if (insert && isArray(subObject) && !isNaN(+lastKey)) {\n        subObject.splice(lastKey, 0, value);\n      } else if (isMap(subObject)) {\n        subObject.set(lastKey, value);\n      } else {\n        subObject[lastKey] = value;\n      }\n      return newObject;\n    }\n    console.error(`setCopy error: Invalid JSON Pointer: ${pointer}`);\n    return object;\n  }\n\n  /**\n   * 'insert' function\n   *\n   * Calls 'set' with insert = TRUE\n   *\n   * //  { object } object - object to insert value in\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * //   value - value to insert\n   * // { object }\n   */\n  static insert(object, pointer, value) {\n    const updatedObject = this.set(object, pointer, value, true);\n    return updatedObject;\n  }\n\n  /**\n   * 'insertCopy' function\n   *\n   * Calls 'setCopy' with insert = TRUE\n   *\n   * //  { object } object - object to insert value in\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * //   value - value to insert\n   * // { object }\n   */\n  static insertCopy(object, pointer, value) {\n    const updatedObject = this.setCopy(object, pointer, value, true);\n    return updatedObject;\n  }\n\n  /**\n   * 'remove' function\n   *\n   * Uses a JSON Pointer to remove a key and its attribute from an object\n   *\n   * //  { object } object - object to delete attribute from\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * // { object }\n   */\n  static remove(object, pointer) {\n    const keyArray = this.parse(pointer);\n    if (keyArray !== null && keyArray.length) {\n      let lastKey = keyArray.pop();\n      const parentObject = this.get(object, keyArray);\n      if (isArray(parentObject)) {\n        if (lastKey === '-') { lastKey = parentObject.length - 1; }\n        parentObject.splice(lastKey, 1);\n      } else if (isObject(parentObject)) {\n        delete parentObject[lastKey];\n      }\n      return object;\n    }\n    console.error(`remove error: Invalid JSON Pointer: ${pointer}`);\n    return object;\n  }\n\n  /**\n   * 'has' function\n   *\n   * Tests if an object has a value at the location specified by a JSON Pointer\n   *\n   * //  { object } object - object to chek for value\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * // { boolean }\n   */\n  static has(object, pointer) {\n    const hasValue = this.get(object, pointer, 0, null, true);\n    return hasValue;\n  }\n\n  /**\n   * 'dict' function\n   *\n   * Returns a (pointer -> value) dictionary for an object\n   *\n   * //  { object } object - The object to create a dictionary from\n   * // { object } - The resulting dictionary object\n   */\n  static dict(object) {\n    const results: any = {};\n    this.forEachDeep(object, (value, pointer) => {\n      if (typeof value !== 'object') { results[pointer] = value; }\n    });\n    return results;\n  }\n\n  /**\n   * 'forEachDeep' function\n   *\n   * Iterates over own enumerable properties of an object or items in an array\n   * and invokes an iteratee function for each key/value or index/value pair.\n   * By default, iterates over items within objects and arrays after calling\n   * the iteratee function on the containing object or array itself.\n   *\n   * The iteratee is invoked with three arguments: (value, pointer, rootObject),\n   * where pointer is a JSON pointer indicating the location of the current\n   * value within the root object, and rootObject is the root object initially\n   * submitted to th function.\n   *\n   * If a third optional parameter 'bottomUp' is set to TRUE, the iterator\n   * function will be called on sub-objects and arrays after being\n   * called on their contents, rather than before, which is the default.\n   *\n   * This function can also optionally be called directly on a sub-object by\n   * including optional 4th and 5th parameterss to specify the initial\n   * root object and pointer.\n   *\n   * //  { object } object - the initial object or array\n   * //  { (v: any, p?: string, o?: any) => any } function - iteratee function\n   * //  { boolean = false } bottomUp - optional, set to TRUE to reverse direction\n   * //  { object = object } rootObject - optional, root object or array\n   * //  { string = '' } pointer - optional, JSON Pointer to object within rootObject\n   * // { object } - The modified object\n   */\n  static forEachDeep(\n    object, fn: (v: any, p?: string, o?: any) => any = (v) => v,\n    bottomUp = false, pointer = '', rootObject = object\n  ) {\n    if (typeof fn !== 'function') {\n      console.error(`forEachDeep error: Iterator is not a function:`, fn);\n      return;\n    }\n    if (!bottomUp) { fn(object, pointer, rootObject); }\n    if (isObject(object) || isArray(object)) {\n      for (const key of Object.keys(object)) {\n        const newPointer = pointer + '/' + this.escape(key);\n        this.forEachDeep(object[key], fn, bottomUp, newPointer, rootObject);\n      }\n    }\n    if (bottomUp) { fn(object, pointer, rootObject); }\n  }\n\n  /**\n   * 'forEachDeepCopy' function\n   *\n   * Similar to forEachDeep, but returns a copy of the original object, with\n   * the same keys and indexes, but with values replaced with the result of\n   * the iteratee function.\n   *\n   * //  { object } object - the initial object or array\n   * //  { (v: any, k?: string, o?: any, p?: any) => any } function - iteratee function\n   * //  { boolean = false } bottomUp - optional, set to TRUE to reverse direction\n   * //  { object = object } rootObject - optional, root object or array\n   * //  { string = '' } pointer - optional, JSON Pointer to object within rootObject\n   * // { object } - The copied object\n   */\n  static forEachDeepCopy(\n    object, fn: (v: any, p?: string, o?: any) => any = (v) => v,\n    bottomUp = false, pointer = '', rootObject = object\n  ) {\n    if (typeof fn !== 'function') {\n      console.error(`forEachDeepCopy error: Iterator is not a function:`, fn);\n      return null;\n    }\n    if (isObject(object) || isArray(object)) {\n      let newObject = isArray(object) ? [ ...object ] : { ...object };\n      if (!bottomUp) { newObject = fn(newObject, pointer, rootObject); }\n      for (const key of Object.keys(newObject)) {\n        const newPointer = pointer + '/' + this.escape(key);\n        newObject[key] = this.forEachDeepCopy(\n          newObject[key], fn, bottomUp, newPointer, rootObject\n        );\n      }\n      if (bottomUp) { newObject = fn(newObject, pointer, rootObject); }\n      return newObject;\n    } else {\n      return fn(object, pointer, rootObject);\n    }\n  }\n\n  /**\n   * 'escape' function\n   *\n   * Escapes a string reference key\n   *\n   * //  { string } key - string key to escape\n   * // { string } - escaped key\n   */\n  static escape(key) {\n    const escaped = key.toString().replace(/~/g, '~0').replace(/\\//g, '~1');\n    return escaped;\n  }\n\n  /**\n   * 'unescape' function\n   *\n   * Unescapes a string reference key\n   *\n   * //  { string } key - string key to unescape\n   * // { string } - unescaped key\n   */\n  static unescape(key) {\n    const unescaped = key.toString().replace(/~1/g, '/').replace(/~0/g, '~');\n    return unescaped;\n  }\n\n  /**\n   * 'parse' function\n   *\n   * Converts a string JSON Pointer into a array of keys\n   * (if input is already an an array of keys, it is returned unchanged)\n   *\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * //  { boolean = false } errors - Show error if invalid pointer?\n   * // { string[] } - JSON Pointer array of keys\n   */\n  static parse(pointer, errors = false) {\n    if (!this.isJsonPointer(pointer)) {\n      if (errors) { console.error(`parse error: Invalid JSON Pointer: ${pointer}`); }\n      return null;\n    }\n    if (isArray(pointer)) { return <string[]>pointer; }\n    if (typeof pointer === 'string') {\n      if ((<string>pointer)[0] === '#') { pointer = pointer.slice(1); }\n      if (<string>pointer === '' || <string>pointer === '/') { return []; }\n      return (<string>pointer).slice(1).split('/').map(this.unescape);\n    }\n  }\n\n  /**\n   * 'compile' function\n   *\n   * Converts an array of keys into a JSON Pointer string\n   * (if input is already a string, it is normalized and returned)\n   *\n   * The optional second parameter is a default which will replace any empty keys.\n   *\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * //  { string | number = '' } defaultValue - Default value\n   * //  { boolean = false } errors - Show error if invalid pointer?\n   * // { string } - JSON Pointer string\n   */\n  static compile(pointer, defaultValue = '', errors = false) {\n    if (pointer === '#') { return ''; }\n    if (!this.isJsonPointer(pointer)) {\n      if (errors) { console.error(`compile error: Invalid JSON Pointer: ${pointer}`); }\n      return null;\n    }\n    if (isArray(pointer)) {\n      if ((<string[]>pointer).length === 0) { return ''; }\n      return '/' + (<string[]>pointer).map(\n        key => key === '' ? defaultValue : this.escape(key)\n      ).join('/');\n    }\n    if (typeof pointer === 'string') {\n      if (pointer[0] === '#') { pointer = pointer.slice(1); }\n      return pointer;\n    }\n  }\n\n  /**\n   * 'toKey' function\n   *\n   * Extracts name of the final key from a JSON Pointer.\n   *\n   * //  { Pointer } pointer - JSON Pointer (string or array)\n   * //  { boolean = false } errors - Show error if invalid pointer?\n   * // { string } - the extracted key\n   */\n  static toKey(pointer, errors = false) {\n    const keyArray = this.parse(pointer, errors);\n    if (keyArray === null) { return null; }\n    if (!keyArray.length) { return ''; }\n    return keyArray[keyArray.length - 1];\n  }\n\n  /**\n   * 'isJsonPointer' function\n   *\n   * Checks a string or array value to determine if it is a valid JSON Pointer.\n   * Returns true if a string is empty, or starts with '/' or '#/'.\n   * Returns true if an array contains only string values.\n   *\n   * //   value - value to check\n   * // { boolean } - true if value is a valid JSON Pointer, otherwise false\n   */\n  static isJsonPointer(value) {\n    if (isArray(value)) {\n      return value.every(key => typeof key === 'string');\n    } else if (isString(value)) {\n      if (value === '' || value === '#') { return true; }\n      if (value[0] === '/' || value.slice(0, 2) === '#/') {\n        return !/(~[^01]|~$)/g.test(value);\n      }\n    }\n    return false;\n  }\n\n  /**\n   * 'isSubPointer' function\n   *\n   * Checks whether one JSON Pointer is a subset of another.\n   *\n   * //  { Pointer } shortPointer - potential subset JSON Pointer\n   * //  { Pointer } longPointer - potential superset JSON Pointer\n   * //  { boolean = false } trueIfMatching - return true if pointers match?\n   * //  { boolean = false } errors - Show error if invalid pointer?\n   * // { boolean } - true if shortPointer is a subset of longPointer, false if not\n   */\n  static isSubPointer(\n    shortPointer, longPointer, trueIfMatching = false, errors = false\n  ) {\n    if (!this.isJsonPointer(shortPointer) || !this.isJsonPointer(longPointer)) {\n      if (errors) {\n        let invalid = '';\n        if (!this.isJsonPointer(shortPointer)) { invalid += ` 1: ${shortPointer}`; }\n        if (!this.isJsonPointer(longPointer)) { invalid += ` 2: ${longPointer}`; }\n        console.error(`isSubPointer error: Invalid JSON Pointer ${invalid}`);\n      }\n      return;\n    }\n    shortPointer = this.compile(shortPointer, '', errors);\n    longPointer = this.compile(longPointer, '', errors);\n    return shortPointer === longPointer ? trueIfMatching :\n      `${shortPointer}/` === longPointer.slice(0, shortPointer.length + 1);\n  }\n\n  /**\n   * 'toIndexedPointer' function\n   *\n   * Merges an array of numeric indexes and a generic pointer to create an\n   * indexed pointer for a specific item.\n   *\n   * For example, merging the generic pointer '/foo/-/bar/-/baz' and\n   * the array [4, 2] would result in the indexed pointer '/foo/4/bar/2/baz'\n   *\n   *\n   * //  { Pointer } genericPointer - The generic pointer\n   * //  { number[] } indexArray - The array of numeric indexes\n   * //  { Map<string, number> } arrayMap - An optional array map\n   * // { string } - The merged pointer with indexes\n   */\n  static toIndexedPointer(\n    genericPointer, indexArray, arrayMap: Map<string, number> = null\n  ) {\n    if (this.isJsonPointer(genericPointer) && isArray(indexArray)) {\n      let indexedPointer = this.compile(genericPointer);\n      if (isMap(arrayMap)) {\n        let arrayIndex = 0;\n        return indexedPointer.replace(/\\/\\-(?=\\/|$)/g, (key, stringIndex) =>\n          arrayMap.has((<string>indexedPointer).slice(0, stringIndex)) ?\n            '/' + indexArray[arrayIndex++] : key\n        );\n      } else {\n        for (const pointerIndex of indexArray) {\n          indexedPointer = indexedPointer.replace('/-', '/' + pointerIndex);\n        }\n        return indexedPointer;\n      }\n    }\n    if (!this.isJsonPointer(genericPointer)) {\n      console.error(`toIndexedPointer error: Invalid JSON Pointer: ${genericPointer}`);\n    }\n    if (!isArray(indexArray)) {\n      console.error(`toIndexedPointer error: Invalid indexArray: ${indexArray}`);\n    }\n  }\n\n  /**\n   * 'toGenericPointer' function\n   *\n   * Compares an indexed pointer to an array map and removes list array\n   * indexes (but leaves tuple arrray indexes and all object keys, including\n   * numeric keys) to create a generic pointer.\n   *\n   * For example, using the indexed pointer '/foo/1/bar/2/baz/3' and\n   * the arrayMap [['/foo', 0], ['/foo/-/bar', 3], ['/foo/-/bar/-/baz', 0]]\n   * would result in the generic pointer '/foo/-/bar/2/baz/-'\n   * Using the indexed pointer '/foo/1/bar/4/baz/3' and the same arrayMap\n   * would result in the generic pointer '/foo/-/bar/-/baz/-'\n   * (the bar array has 3 tuple items, so index 2 is retained, but 4 is removed)\n   *\n   * The structure of the arrayMap is: [['path to array', number of tuple items]...]\n   *\n   *\n   * //  { Pointer } indexedPointer - The indexed pointer (array or string)\n   * //  { Map<string, number> } arrayMap - The optional array map (for preserving tuple indexes)\n   * // { string } - The generic pointer with indexes removed\n   */\n  static toGenericPointer(indexedPointer, arrayMap = new Map<string, number>()) {\n    if (this.isJsonPointer(indexedPointer) && isMap(arrayMap)) {\n      const pointerArray = this.parse(indexedPointer);\n      for (let i = 1; i < pointerArray.length; i++) {\n        const subPointer = this.compile(pointerArray.slice(0, i));\n        if (arrayMap.has(subPointer) &&\n          arrayMap.get(subPointer) <= +pointerArray[i]\n        ) {\n          pointerArray[i] = '-';\n        }\n      }\n      return this.compile(pointerArray);\n    }\n    if (!this.isJsonPointer(indexedPointer)) {\n      console.error(`toGenericPointer error: invalid JSON Pointer: ${indexedPointer}`);\n    }\n    if (!isMap(arrayMap)) {\n      console.error(`toGenericPointer error: invalid arrayMap: ${arrayMap}`);\n    }\n  }\n\n  /**\n   * 'toControlPointer' function\n   *\n   * Accepts a JSON Pointer for a data object and returns a JSON Pointer for the\n   * matching control in an Angular FormGroup.\n   *\n   * //  { Pointer } dataPointer - JSON Pointer (string or array) to a data object\n   * //  { FormGroup } formGroup - Angular FormGroup to get value from\n   * //  { boolean = false } controlMustExist - Only return if control exists?\n   * // { Pointer } - JSON Pointer (string) to the formGroup object\n   */\n  static toControlPointer(dataPointer, formGroup, controlMustExist = false) {\n    const dataPointerArray = this.parse(dataPointer);\n    const controlPointerArray: string[] = [];\n    let subGroup = formGroup;\n    if (dataPointerArray !== null) {\n      for (const key of dataPointerArray) {\n        if (hasOwn(subGroup, 'controls')) {\n          controlPointerArray.push('controls');\n          subGroup = subGroup.controls;\n        }\n        if (isArray(subGroup) && (key === '-')) {\n          controlPointerArray.push((subGroup.length - 1).toString());\n          subGroup = subGroup[subGroup.length - 1];\n        } else if (hasOwn(subGroup, key)) {\n          controlPointerArray.push(key);\n          subGroup = subGroup[key];\n        } else if (controlMustExist) {\n          console.error(`toControlPointer error: Unable to find \"${key}\" item in FormGroup.`);\n          console.error(dataPointer);\n          console.error(formGroup);\n          return;\n        } else {\n          controlPointerArray.push(key);\n          subGroup = { controls: {} };\n        }\n      }\n      return this.compile(controlPointerArray);\n    }\n    console.error(`toControlPointer error: Invalid JSON Pointer: ${dataPointer}`);\n  }\n\n  /**\n   * 'toSchemaPointer' function\n   *\n   * Accepts a JSON Pointer to a value inside a data object and a JSON schema\n   * for that object.\n   *\n   * Returns a Pointer to the sub-schema for the value inside the object's schema.\n   *\n   * //  { Pointer } dataPointer - JSON Pointer (string or array) to an object\n   * //   schema - JSON schema for the object\n   * // { Pointer } - JSON Pointer (string) to the object's schema\n   */\n  static toSchemaPointer(dataPointer, schema) {\n    if (this.isJsonPointer(dataPointer) && typeof schema === 'object') {\n      const pointerArray = this.parse(dataPointer);\n      if (!pointerArray.length) { return ''; }\n      const firstKey = pointerArray.shift();\n      if (schema.type === 'object' || schema.properties || schema.additionalProperties) {\n        if ((schema.properties || {})[firstKey]) {\n          return `/properties/${this.escape(firstKey)}` +\n            this.toSchemaPointer(pointerArray, schema.properties[firstKey]);\n        } else  if (schema.additionalProperties) {\n          return '/additionalProperties' +\n            this.toSchemaPointer(pointerArray, schema.additionalProperties);\n        }\n      }\n      if ((schema.type === 'array' || schema.items) &&\n        (isNumber(firstKey) || firstKey === '-' || firstKey === '')\n      ) {\n        const arrayItem = firstKey === '-' || firstKey === '' ? 0 : +firstKey;\n        if (isArray(schema.items)) {\n          if (arrayItem < schema.items.length) {\n            return '/items/' + arrayItem +\n              this.toSchemaPointer(pointerArray, schema.items[arrayItem]);\n          } else if (schema.additionalItems) {\n            return '/additionalItems' +\n              this.toSchemaPointer(pointerArray, schema.additionalItems);\n          }\n        } else if (isObject(schema.items)) {\n          return '/items' + this.toSchemaPointer(pointerArray, schema.items);\n        } else if (isObject(schema.additionalItems)) {\n          return '/additionalItems' +\n            this.toSchemaPointer(pointerArray, schema.additionalItems);\n        }\n      }\n      console.error(`toSchemaPointer error: Data pointer ${dataPointer} ` +\n        `not compatible with schema ${schema}`);\n      return null;\n    }\n    if (!this.isJsonPointer(dataPointer)) {\n      console.error(`toSchemaPointer error: Invalid JSON Pointer: ${dataPointer}`);\n    }\n    if (typeof schema !== 'object') {\n      console.error(`toSchemaPointer error: Invalid JSON Schema: ${schema}`);\n    }\n    return null;\n  }\n\n  /**\n   * 'toDataPointer' function\n   *\n   * Accepts a JSON Pointer to a sub-schema inside a JSON schema and the schema.\n   *\n   * If possible, returns a generic Pointer to the corresponding value inside\n   * the data object described by the JSON schema.\n   *\n   * Returns null if the sub-schema is in an ambiguous location (such as\n   * definitions or additionalProperties) where the corresponding value\n   * location cannot be determined.\n   *\n   * //  { Pointer } schemaPointer - JSON Pointer (string or array) to a JSON schema\n   * //   schema - the JSON schema\n   * //  { boolean = false } errors - Show errors?\n   * // { Pointer } - JSON Pointer (string) to the value in the data object\n   */\n  static toDataPointer(schemaPointer, schema, errors = false) {\n    if (this.isJsonPointer(schemaPointer) && typeof schema === 'object' &&\n      this.has(schema, schemaPointer)\n    ) {\n      const pointerArray = this.parse(schemaPointer);\n      if (!pointerArray.length) { return ''; }\n      const firstKey = pointerArray.shift();\n      if (firstKey === 'properties' ||\n        (firstKey === 'items' && isArray(schema.items))\n      ) {\n        const secondKey = pointerArray.shift();\n        const pointerSuffix = this.toDataPointer(pointerArray, schema[firstKey][secondKey]);\n        return pointerSuffix === null ? null : '/' + secondKey + pointerSuffix;\n      } else if (firstKey === 'additionalItems' ||\n        (firstKey === 'items' && isObject(schema.items))\n      ) {\n        const pointerSuffix = this.toDataPointer(pointerArray, schema[firstKey]);\n        return pointerSuffix === null ? null : '/-' + pointerSuffix;\n      } else if (['allOf', 'anyOf', 'oneOf'].includes(firstKey)) {\n        const secondKey = pointerArray.shift();\n        return this.toDataPointer(pointerArray, schema[firstKey][secondKey]);\n      } else if (firstKey === 'not') {\n        return this.toDataPointer(pointerArray, schema[firstKey]);\n      } else if (['contains', 'definitions', 'dependencies', 'additionalItems',\n        'additionalProperties', 'patternProperties', 'propertyNames'].includes(firstKey)\n      ) {\n        if (errors) { console.error(`toDataPointer error: Ambiguous location`); }\n      }\n      return '';\n    }\n    if (errors) {\n      if (!this.isJsonPointer(schemaPointer)) {\n        console.error(`toDataPointer error: Invalid JSON Pointer: ${schemaPointer}`);\n      }\n      if (typeof schema !== 'object') {\n        console.error(`toDataPointer error: Invalid JSON Schema: ${schema}`);\n      }\n      if (typeof schema !== 'object') {\n        console.error(`toDataPointer error: Pointer ${schemaPointer} invalid for Schema: ${schema}`);\n      }\n    }\n    return null;\n  }\n\n  /**\n   * 'parseObjectPath' function\n   *\n   * Parses a JavaScript object path into an array of keys, which\n   * can then be passed to compile() to convert into a string JSON Pointer.\n   *\n   * Based on mike-marcacci's excellent objectpath parse function:\n   * https://github.com/mike-marcacci/objectpath\n   *\n   * //  { Pointer } path - The object path to parse\n   * // { string[] } - The resulting array of keys\n   */\n  static parseObjectPath(path) {\n    if (isArray(path)) { return <string[]>path; }\n    if (this.isJsonPointer(path)) { return this.parse(path); }\n    if (typeof path === 'string') {\n      let index = 0;\n      const parts: string[] = [];\n      while (index < path.length) {\n        const nextDot = path.indexOf('.', index);\n        const nextOB = path.indexOf('[', index); // next open bracket\n        if (nextDot === -1 && nextOB === -1) { // last item\n          parts.push(path.slice(index));\n          index = path.length;\n        } else if (nextDot !== -1 && (nextDot < nextOB || nextOB === -1)) { // dot notation\n          parts.push(path.slice(index, nextDot));\n          index = nextDot + 1;\n        } else { // bracket notation\n          if (nextOB > index) {\n            parts.push(path.slice(index, nextOB));\n            index = nextOB;\n          }\n          const quote = path.charAt(nextOB + 1);\n          if (quote === '\"' || quote === '\\'') { // enclosing quotes\n            let nextCB = path.indexOf(quote + ']', nextOB); // next close bracket\n            while (nextCB !== -1 && path.charAt(nextCB - 1) === '\\\\') {\n              nextCB = path.indexOf(quote + ']', nextCB + 2);\n            }\n            if (nextCB === -1) { nextCB = path.length; }\n            parts.push(path.slice(index + 2, nextCB)\n              .replace(new RegExp('\\\\' + quote, 'g'), quote));\n            index = nextCB + 2;\n          } else { // no enclosing quotes\n            let nextCB = path.indexOf(']', nextOB); // next close bracket\n            if (nextCB === -1) { nextCB = path.length; }\n            parts.push(path.slice(index + 1, nextCB));\n            index = nextCB + 1;\n          }\n          if (path.charAt(index) === '.') { index++; }\n        }\n      }\n      return parts;\n    }\n    console.error('parseObjectPath error: Input object path must be a string.');\n  }\n}\n","// updated from AJV fast format regular expressions:\n// https://github.com/epoberezkin/ajv/blob/master/lib/compile/formats.js\n\nexport const jsonSchemaFormatTests = {\n\n  'date': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n\n  'time': /^[0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n\n  // Modified to allow incomplete entries, such as\n  // \"2000-03-14T01:59:26.535\" (needs \"Z\") or \"2000-03-14T01:59\" (needs \":00Z\")\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d(?::[0-5]\\d)?(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  'email': /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n\n  'hostname': /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,\n\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  'ipv4': /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  // tslint:disable-next-line:max-line-length\n  'ipv6': /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  'uri': /^(?:[a-z][a-z0-9+-.]*)(?::|\\/)\\/?[^\\s]*$/i,\n\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/\\/)?[^\\s]*$/i,\n\n  // uri-template: https://tools.ietf.org/html/rfc6570\n  // tslint:disable-next-line:max-line-length\n  'uri-template': /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n\n  // For the source: https://gist.github.com/dperini/729294\n  // For test cases: https://mathiasbynens.be/demo/url-regex\n  // tslint:disable-next-line:max-line-length\n  // @todo Delete current URL in favour of the commented out URL rule when this ajv issue is fixed https://github.com/eslint/eslint/issues/7983.\n  // tslint:disable-next-line:max-line-length\n  // URL: /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu,\n  // tslint:disable-next-line:max-line-length\n  'url': /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i,\n\n  // uuid: http://tools.ietf.org/html/rfc4122\n  'uuid': /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,\n\n  // optimized https://gist.github.com/olmokramer/82ccce673f86db7cda5e\n  // tslint:disable-next-line:max-line-length\n  'color': /^\\s*(#(?:[\\da-f]{3}){1,2}|rgb\\((?:\\d{1,3},\\s*){2}\\d{1,3}\\)|rgba\\((?:\\d{1,3},\\s*){3}\\d*\\.?\\d+\\)|hsl\\(\\d{1,3}(?:,\\s*\\d{1,3}%){2}\\)|hsla\\(\\d{1,3}(?:,\\s*\\d{1,3}%){2},\\s*\\d*\\.?\\d+\\))\\s*$/gi,\n\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  'json-pointer': /^(?:\\/(?:[^~/]|~0|~1)*)*$|^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,\n\n  'relative-json-pointer': /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/,\n\n  'regex': function (str) {\n    if (/[^\\\\]\\\\Z/.test(str)) { return false; }\n    try {\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n};\n\nexport type JsonSchemaFormatNames =\n  'date' | 'time' | 'date-time' | 'email' | 'hostname' | 'ipv4' | 'ipv6' |\n  'uri' | 'uri-reference' | 'uri-template' | 'url' | 'uuid' | 'color' |\n  'json-pointer' | 'relative-json-pointer' | 'regex';\n","import isEqual from 'lodash/isEqual';\nimport {\n  _executeAsyncValidators,\n  _executeValidators,\n  _mergeErrors,\n  _mergeObjects,\n  AsyncIValidatorFn,\n  getType,\n  hasValue,\n  isArray,\n  isBoolean,\n  isDefined,\n  isEmpty,\n  isNumber,\n  isString,\n  isType,\n  IValidatorFn,\n  SchemaPrimitiveType,\n  toJavaScriptType,\n  toObservable,\n  xor\n  } from './validator.functions';\nimport { AbstractControl, ValidationErrors, ValidatorFn } from '@angular/forms';\nimport { forEachCopy } from './utility.functions';\nimport { forkJoin } from 'rxjs';\nimport { JsonSchemaFormatNames, jsonSchemaFormatTests } from './format-regex.constants';\nimport { map } from 'rxjs/operators';\n\n\n\n/**\n * 'JsonValidators' class\n *\n * Provides an extended set of validators to be used by form controls,\n * compatible with standard JSON Schema validation options.\n * http://json-schema.org/latest/json-schema-validation.html\n *\n * Note: This library is designed as a drop-in replacement for the Angular\n * Validators library, and except for one small breaking change to the 'pattern'\n * validator (described below) it can even be imported as a substitute, like so:\n *\n *   import { JsonValidators as Validators } from 'json-validators';\n *\n * and it should work with existing code as a complete replacement.\n *\n * The one exception is the 'pattern' validator, which has been changed to\n * matche partial values by default (the standard 'pattern' validator wrapped\n * all patterns in '^' and '$', forcing them to always match an entire value).\n * However, the old behavior can be restored by simply adding '^' and '$'\n * around your patterns, or by passing an optional second parameter of TRUE.\n * This change is to make the 'pattern' validator match the behavior of a\n * JSON Schema pattern, which allows partial matches, rather than the behavior\n * of an HTML input control pattern, which does not.\n *\n * This library replaces Angular's validators and combination functions\n * with the following validators and transformation functions:\n *\n * Validators:\n *   For all formControls:     required (*), type, enum, const\n *   For text formControls:    minLength (*), maxLength (*), pattern (*), format\n *   For numeric formControls: maximum, exclusiveMaximum,\n *                             minimum, exclusiveMinimum, multipleOf\n *   For formGroup objects:    minProperties, maxProperties, dependencies\n *   For formArray arrays:     minItems, maxItems, uniqueItems, contains\n *   Not used by JSON Schema:  min (*), max (*), requiredTrue (*), email (*)\n * (Validators originally included with Angular are maked with (*).)\n *\n * NOTE / TODO: The dependencies validator is not complete.\n * NOTE / TODO: The contains validator is not complete.\n *\n * Validators not used by JSON Schema (but included for compatibility)\n * and their JSON Schema equivalents:\n *\n *   Angular validator | JSON Schema equivalent\n *   ------------------|-----------------------\n *     min(number)     |   minimum(number)\n *     max(number)     |   maximum(number)\n *     requiredTrue()  |   const(true)\n *     email()         |   format('email')\n *\n * Validator transformation functions:\n *   composeAnyOf, composeOneOf, composeAllOf, composeNot\n * (Angular's original combination funciton, 'compose', is also included for\n * backward compatibility, though it is functionally equivalent to composeAllOf,\n * asside from its more generic error message.)\n *\n * All validators have also been extended to accept an optional second argument\n * which, if passed a TRUE value, causes the validator to perform the opposite\n * of its original finction. (This is used internally to enable 'not' and\n * 'composeOneOf' to function and return useful error messages.)\n *\n * The 'required' validator has also been overloaded so that if called with\n * a boolean parameter (or no parameters) it returns the original validator\n * function (rather than executing it). However, if it is called with an\n * AbstractControl parameter (as was previously required), it behaves\n * exactly as before.\n *\n * This enables all validators (including 'required') to be constructed in\n * exactly the same way, so they can be automatically applied using the\n * equivalent key names and values taken directly from a JSON Schema.\n *\n * This source code is partially derived from Angular,\n * which is Copyright (c) 2014-2017 Google, Inc.\n * Use of this source code is therefore governed by the same MIT-style license\n * that can be found in the LICENSE file at https://angular.io/license\n *\n * Original Angular Validators:\n * https://github.com/angular/angular/blob/master/packages/forms/src/validators.ts\n */\nexport class JsonValidators {\n\n  /**\n   * Validator functions:\n   *\n   * For all formControls:     required, type, enum, const\n   * For text formControls:    minLength, maxLength, pattern, format\n   * For numeric formControls: maximum, exclusiveMaximum,\n   *                           minimum, exclusiveMinimum, multipleOf\n   * For formGroup objects:    minProperties, maxProperties, dependencies\n   * For formArray arrays:     minItems, maxItems, uniqueItems, contains\n   *\n   * TODO: finish dependencies validator\n   */\n\n  /**\n   * 'required' validator\n   *\n   * This validator is overloaded, compared to the default required validator.\n   * If called with no parameters, or TRUE, this validator returns the\n   * 'required' validator function (rather than executing it). This matches\n   * the behavior of all other validators in this library.\n   *\n   * If this validator is called with an AbstractControl parameter\n   * (as was previously required) it behaves the same as Angular's default\n   * required validator, and returns an error if the control is empty.\n   *\n   * Old behavior: (if input type = AbstractControl)\n   * // {AbstractControl} control - required control\n   * // {{[key: string]: boolean}} - returns error message if no input\n   *\n   * New behavior: (if no input, or input type = boolean)\n   * // {boolean = true} required? - true to validate, false to disable\n   * // {IValidatorFn} - returns the 'required' validator function itself\n   */\n  static required(input: AbstractControl): ValidationErrors|null;\n  static required(input?: boolean): IValidatorFn;\n\n  static required(input?: AbstractControl|boolean): ValidationErrors|null|IValidatorFn {\n    if (input === undefined) { input = true; }\n    switch (input) {\n      case true: // Return required function (do not execute it yet)\n        return (control: AbstractControl, invert = false): ValidationErrors|null => {\n          if (invert) { return null; } // if not required, always return valid\n          return hasValue(control.value) ? null : { 'required': true };\n        };\n      case false: // Do nothing (if field is not required, it is always valid)\n        return JsonValidators.nullValidator;\n      default: // Execute required function\n        return hasValue((<AbstractControl>input).value) ? null : { 'required': true };\n    }\n  }\n\n  /**\n   * 'type' validator\n   *\n   * Requires a control to only accept values of a specified type,\n   * or one of an array of types.\n   *\n   * Note: SchemaPrimitiveType = 'string'|'number'|'integer'|'boolean'|'null'\n   *\n   * // {SchemaPrimitiveType|SchemaPrimitiveType[]} type - type(s) to accept\n   * // {IValidatorFn}\n   */\n  static type(requiredType: SchemaPrimitiveType|SchemaPrimitiveType[]): IValidatorFn {\n    if (!hasValue(requiredType)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue: any = control.value;\n      const isValid = isArray(requiredType) ?\n        (<SchemaPrimitiveType[]>requiredType).some(type => isType(currentValue, type)) :\n        isType(currentValue, <SchemaPrimitiveType>requiredType);\n      return xor(isValid, invert) ?\n        null : { 'type': { requiredType, currentValue } };\n    };\n  }\n\n  /**\n   * 'enum' validator\n   *\n   * Requires a control to have a value from an enumerated list of values.\n   *\n   * Converts types as needed to allow string inputs to still correctly\n   * match number, boolean, and null enum values.\n   *\n   * // {any[]} allowedValues - array of acceptable values\n   * // {IValidatorFn}\n   */\n  static enum(allowedValues: any[]): IValidatorFn {\n    if (!isArray(allowedValues)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue: any = control.value;\n      const isEqualVal = (enumValue, inputValue) =>\n        enumValue === inputValue ||\n        (isNumber(enumValue) && +inputValue === +enumValue) ||\n        (isBoolean(enumValue, 'strict') &&\n          toJavaScriptType(inputValue, 'boolean') === enumValue) ||\n        (enumValue === null && !hasValue(inputValue)) ||\n        isEqual(enumValue, inputValue);\n      const isValid = isArray(currentValue) ?\n        currentValue.every(inputValue => allowedValues.some(enumValue =>\n          isEqualVal(enumValue, inputValue)\n        )) :\n        allowedValues.some(enumValue => isEqualVal(enumValue, currentValue));\n      return xor(isValid, invert) ?\n        null : { 'enum': { allowedValues, currentValue } };\n    };\n  }\n\n  /**\n   * 'const' validator\n   *\n   * Requires a control to have a specific value.\n   *\n   * Converts types as needed to allow string inputs to still correctly\n   * match number, boolean, and null values.\n   *\n   * TODO: modify to work with objects\n   *\n   * // {any[]} requiredValue - required value\n   * // {IValidatorFn}\n   */\n  static const(requiredValue: any): IValidatorFn {\n    if (!hasValue(requiredValue)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue: any = control.value;\n      const isEqualVal = (constValue, inputValue) =>\n        constValue === inputValue ||\n        isNumber(constValue) && +inputValue === +constValue ||\n        isBoolean(constValue, 'strict') &&\n          toJavaScriptType(inputValue, 'boolean') === constValue ||\n        constValue === null && !hasValue(inputValue);\n      const isValid = isEqualVal(requiredValue, currentValue);\n      return xor(isValid, invert) ?\n        null : { 'const': { requiredValue, currentValue } };\n    };\n  }\n\n  /**\n   * 'minLength' validator\n   *\n   * Requires a control's text value to be greater than a specified length.\n   *\n   * // {number} minimumLength - minimum allowed string length\n   * // {boolean = false} invert - instead return error object only if valid\n   * // {IValidatorFn}\n   */\n  static minLength(minimumLength: number): IValidatorFn {\n    if (!hasValue(minimumLength)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentLength = isString(control.value) ? control.value.length : 0;\n      const isValid = currentLength >= minimumLength;\n      return xor(isValid, invert) ?\n        null : { 'minLength': { minimumLength, currentLength } };\n    };\n  }\n\n  /**\n   * 'maxLength' validator\n   *\n   * Requires a control's text value to be less than a specified length.\n   *\n   * // {number} maximumLength - maximum allowed string length\n   * // {boolean = false} invert - instead return error object only if valid\n   * // {IValidatorFn}\n   */\n  static maxLength(maximumLength: number): IValidatorFn {\n    if (!hasValue(maximumLength)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      const currentLength = isString(control.value) ? control.value.length : 0;\n      const isValid = currentLength <= maximumLength;\n      return xor(isValid, invert) ?\n        null : { 'maxLength': { maximumLength, currentLength } };\n    };\n  }\n\n  /**\n   * 'pattern' validator\n   *\n   * Note: NOT the same as Angular's default pattern validator.\n   *\n   * Requires a control's value to match a specified regular expression pattern.\n   *\n   * This validator changes the behavior of default pattern validator\n   * by replacing RegExp(`^${pattern}$`) with RegExp(`${pattern}`),\n   * which allows for partial matches.\n   *\n   * To return to the default funcitonality, and match the entire string,\n   * pass TRUE as the optional second parameter.\n   *\n   * // {string} pattern - regular expression pattern\n   * // {boolean = false} wholeString - match whole value string?\n   * // {IValidatorFn}\n   */\n  static pattern(pattern: string|RegExp, wholeString = false): IValidatorFn {\n    if (!hasValue(pattern)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      let regex: RegExp;\n      let requiredPattern: string;\n      if (typeof pattern === 'string') {\n        requiredPattern = (wholeString) ? `^${pattern}$` : pattern;\n        regex = new RegExp(requiredPattern);\n      } else {\n        requiredPattern = pattern.toString();\n        regex = pattern;\n      }\n      const currentValue: string = control.value;\n      const isValid = isString(currentValue) ? regex.test(currentValue) : false;\n      return xor(isValid, invert) ?\n        null : { 'pattern': { requiredPattern, currentValue } };\n    };\n  }\n\n  /**\n   * 'format' validator\n   *\n   * Requires a control to have a value of a certain format.\n   *\n   * This validator currently checks the following formsts:\n   *   date, time, date-time, email, hostname, ipv4, ipv6,\n   *   uri, uri-reference, uri-template, url, uuid, color,\n   *   json-pointer, relative-json-pointer, regex\n   *\n   * Fast format regular expressions copied from AJV:\n   * https://github.com/epoberezkin/ajv/blob/master/lib/compile/formats.js\n   *\n   * // {JsonSchemaFormatNames} requiredFormat - format to check\n   * // {IValidatorFn}\n   */\n  static format(requiredFormat: JsonSchemaFormatNames): IValidatorFn {\n    if (!hasValue(requiredFormat)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      let isValid: boolean;\n      const currentValue: string|Date = control.value;\n      if (isString(currentValue)) {\n        const formatTest: Function|RegExp = jsonSchemaFormatTests[requiredFormat];\n        if (typeof formatTest === 'object') {\n          isValid = (<RegExp>formatTest).test(<string>currentValue);\n        } else if (typeof formatTest === 'function') {\n          isValid = (<Function>formatTest)(<string>currentValue);\n        } else {\n          console.error(`format validator error: \"${requiredFormat}\" is not a recognized format.`);\n          isValid = true;\n        }\n      } else {\n        // Allow JavaScript Date objects\n        isValid = ['date', 'time', 'date-time'].includes(requiredFormat) &&\n          Object.prototype.toString.call(currentValue) === '[object Date]';\n      }\n      return xor(isValid, invert) ?\n        null : { 'format': { requiredFormat, currentValue } };\n    };\n  }\n\n  /**\n   * 'minimum' validator\n   *\n   * Requires a control's numeric value to be greater than or equal to\n   * a minimum amount.\n   *\n   * Any non-numeric value is also valid (according to the HTML forms spec,\n   * a non-numeric value doesn't have a minimum).\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\n   *\n   * // {number} minimum - minimum allowed value\n   * // {IValidatorFn}\n   */\n  static minimum(minimumValue: number): IValidatorFn {\n    if (!hasValue(minimumValue)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue = control.value;\n      const isValid = !isNumber(currentValue) || currentValue >= minimumValue;\n      return xor(isValid, invert) ?\n        null : { 'minimum': { minimumValue, currentValue } };\n    };\n  }\n\n  /**\n   * 'exclusiveMinimum' validator\n   *\n   * Requires a control's numeric value to be less than a maximum amount.\n   *\n   * Any non-numeric value is also valid (according to the HTML forms spec,\n   * a non-numeric value doesn't have a maximum).\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\n   *\n   * // {number} exclusiveMinimumValue - maximum allowed value\n   * // {IValidatorFn}\n   */\n  static exclusiveMinimum(exclusiveMinimumValue: number): IValidatorFn {\n    if (!hasValue(exclusiveMinimumValue)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue = control.value;\n      const isValid = !isNumber(currentValue) || +currentValue < exclusiveMinimumValue;\n      return xor(isValid, invert) ?\n        null : { 'exclusiveMinimum': { exclusiveMinimumValue, currentValue } };\n    };\n  }\n\n  /**\n   * 'maximum' validator\n   *\n   * Requires a control's numeric value to be less than or equal to\n   * a maximum amount.\n   *\n   * Any non-numeric value is also valid (according to the HTML forms spec,\n   * a non-numeric value doesn't have a maximum).\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\n   *\n   * // {number} maximumValue - maximum allowed value\n   * // {IValidatorFn}\n   */\n  static maximum(maximumValue: number): IValidatorFn {\n    if (!hasValue(maximumValue)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue = control.value;\n      const isValid = !isNumber(currentValue) || +currentValue <= maximumValue;\n      return xor(isValid, invert) ?\n        null : { 'maximum': { maximumValue, currentValue } };\n    };\n  }\n\n  /**\n   * 'exclusiveMaximum' validator\n   *\n   * Requires a control's numeric value to be less than a maximum amount.\n   *\n   * Any non-numeric value is also valid (according to the HTML forms spec,\n   * a non-numeric value doesn't have a maximum).\n   * https://www.w3.org/TR/html5/forms.html#attr-input-max\n   *\n   * // {number} exclusiveMaximumValue - maximum allowed value\n   * // {IValidatorFn}\n   */\n  static exclusiveMaximum(exclusiveMaximumValue: number): IValidatorFn {\n    if (!hasValue(exclusiveMaximumValue)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue = control.value;\n      const isValid = !isNumber(currentValue) || +currentValue < exclusiveMaximumValue;\n      return xor(isValid, invert) ?\n        null : { 'exclusiveMaximum': { exclusiveMaximumValue, currentValue } };\n    };\n  }\n\n  /**\n   * 'multipleOf' validator\n   *\n   * Requires a control to have a numeric value that is a multiple\n   * of a specified number.\n   *\n   * // {number} multipleOfValue - number value must be a multiple of\n   * // {IValidatorFn}\n   */\n  static multipleOf(multipleOfValue: number): IValidatorFn {\n    if (!hasValue(multipleOfValue)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentValue = control.value;\n      const isValid = isNumber(currentValue) &&\n        currentValue % multipleOfValue === 0;\n      return xor(isValid, invert) ?\n        null : { 'multipleOf': { multipleOfValue, currentValue } };\n    };\n  }\n\n  /**\n   * 'minProperties' validator\n   *\n   * Requires a form group to have a minimum number of properties (i.e. have\n   * values entered in a minimum number of controls within the group).\n   *\n   * // {number} minimumProperties - minimum number of properties allowed\n   * // {IValidatorFn}\n   */\n  static minProperties(minimumProperties: number): IValidatorFn {\n    if (!hasValue(minimumProperties)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentProperties = Object.keys(control.value).length || 0;\n      const isValid = currentProperties >= minimumProperties;\n      return xor(isValid, invert) ?\n        null : { 'minProperties': { minimumProperties, currentProperties } };\n    };\n  }\n\n  /**\n   * 'maxProperties' validator\n   *\n   * Requires a form group to have a maximum number of properties (i.e. have\n   * values entered in a maximum number of controls within the group).\n   *\n   * Note: Has no effect if the form group does not contain more than the\n   * maximum number of controls.\n   *\n   * // {number} maximumProperties - maximum number of properties allowed\n   * // {IValidatorFn}\n   */\n  static maxProperties(maximumProperties: number): IValidatorFn {\n    if (!hasValue(maximumProperties)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      const currentProperties = Object.keys(control.value).length || 0;\n      const isValid = currentProperties <= maximumProperties;\n      return xor(isValid, invert) ?\n        null : { 'maxProperties': { maximumProperties, currentProperties } };\n    };\n  }\n\n  /**\n   * 'dependencies' validator\n   *\n   * Requires the controls in a form group to meet additional validation\n   * criteria, depending on the values of other controls in the group.\n   *\n   * Examples:\n   * https://spacetelescope.github.io/understanding-json-schema/reference/object.html#dependencies\n   *\n   * // {any} dependencies - required dependencies\n   * // {IValidatorFn}\n   */\n  static dependencies(dependencies: any): IValidatorFn {\n    if (getType(dependencies) !== 'object' || isEmpty(dependencies)) {\n      return JsonValidators.nullValidator;\n    }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const allErrors = _mergeObjects(\n        forEachCopy(dependencies, (value, requiringField) => {\n          if (!hasValue(control.value[requiringField])) { return null; }\n          let requiringFieldErrors: ValidationErrors = { };\n          let requiredFields: string[];\n          let properties: ValidationErrors = { };\n          if (getType(dependencies[requiringField]) === 'array') {\n            requiredFields = dependencies[requiringField];\n          } else if (getType(dependencies[requiringField]) === 'object') {\n            requiredFields = dependencies[requiringField]['required'] || [];\n            properties = dependencies[requiringField]['properties'] || { };\n          }\n\n          // Validate property dependencies\n          for (const requiredField of requiredFields) {\n            if (xor(!hasValue(control.value[requiredField]), invert)) {\n              requiringFieldErrors[requiredField] = { 'required': true };\n            }\n          }\n\n          // Validate schema dependencies\n          requiringFieldErrors = _mergeObjects(requiringFieldErrors,\n            forEachCopy(properties, (requirements, requiredField) => {\n              const requiredFieldErrors = _mergeObjects(\n                forEachCopy(requirements, (requirement, parameter) => {\n                  let validator: IValidatorFn = null;\n                  if (requirement === 'maximum' || requirement === 'minimum') {\n                    const exclusive = !!requirements['exclusiveM' + requirement.slice(1)];\n                    validator = JsonValidators[requirement](parameter, exclusive);\n                  } else if (typeof JsonValidators[requirement] === 'function') {\n                    validator = JsonValidators[requirement](parameter);\n                  }\n                  return !isDefined(validator) ?\n                    null : validator(control.value[requiredField]);\n                })\n              );\n              return isEmpty(requiredFieldErrors) ?\n                null : { [requiredField]: requiredFieldErrors };\n            })\n          );\n          return isEmpty(requiringFieldErrors) ?\n            null : { [requiringField]: requiringFieldErrors };\n        })\n      );\n      return isEmpty(allErrors) ? null : allErrors;\n    };\n  }\n\n  /**\n   * 'minItems' validator\n   *\n   * Requires a form array to have a minimum number of values.\n   *\n   * // {number} minimumItems - minimum number of items allowed\n   * // {IValidatorFn}\n   */\n  static minItems(minimumItems: number): IValidatorFn {\n    if (!hasValue(minimumItems)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const currentItems = isArray(control.value) ? control.value.length : 0;\n      const isValid = currentItems >= minimumItems;\n      return xor(isValid, invert) ?\n        null : { 'minItems': { minimumItems, currentItems } };\n    };\n  }\n\n  /**\n   * 'maxItems' validator\n   *\n   * Requires a form array to have a maximum number of values.\n   *\n   * // {number} maximumItems - maximum number of items allowed\n   * // {IValidatorFn}\n   */\n  static maxItems(maximumItems: number): IValidatorFn {\n    if (!hasValue(maximumItems)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      const currentItems = isArray(control.value) ? control.value.length : 0;\n      const isValid = currentItems <= maximumItems;\n      return xor(isValid, invert) ?\n        null : { 'maxItems': { maximumItems, currentItems } };\n    };\n  }\n\n  /**\n   * 'uniqueItems' validator\n   *\n   * Requires values in a form array to be unique.\n   *\n   * // {boolean = true} unique? - true to validate, false to disable\n   * // {IValidatorFn}\n   */\n  static uniqueItems(unique = true): IValidatorFn {\n    if (!unique) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const sorted: any[] = control.value.slice().sort();\n      const duplicateItems = [];\n      for (let i = 1; i < sorted.length; i++) {\n        if (sorted[i - 1] === sorted[i] && duplicateItems.includes(sorted[i])) {\n          duplicateItems.push(sorted[i]);\n        }\n      }\n      const isValid = !duplicateItems.length;\n      return xor(isValid, invert) ?\n        null : { 'uniqueItems': { duplicateItems } };\n    };\n  }\n\n  /**\n   * 'contains' validator\n   *\n   * TODO: Complete this validator\n   *\n   * Requires values in a form array to be unique.\n   *\n   * // {boolean = true} unique? - true to validate, false to disable\n   * // {IValidatorFn}\n   */\n  static contains(requiredItem = true): IValidatorFn {\n    if (!requiredItem) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value) || !isArray(control.value)) { return null; }\n      const currentItems = control.value;\n      // const isValid = currentItems.some(item =>\n      //\n      // );\n      const isValid = true;\n      return xor(isValid, invert) ?\n        null : { 'contains': { requiredItem, currentItems } };\n    };\n  }\n\n  /**\n   * No-op validator. Included for backward compatibility.\n   */\n  static nullValidator(control: AbstractControl): ValidationErrors|null {\n    return null;\n  }\n\n  /**\n   * Validator transformation functions:\n   * composeAnyOf, composeOneOf, composeAllOf, composeNot,\n   * compose, composeAsync\n   *\n   * TODO: Add composeAnyOfAsync, composeOneOfAsync,\n   *           composeAllOfAsync, composeNotAsync\n   */\n\n  /**\n   * 'composeAnyOf' validator combination function\n   *\n   * Accepts an array of validators and returns a single validator that\n   * evaluates to valid if any one or more of the submitted validators are\n   * valid. If every validator is invalid, it returns combined errors from\n   * all validators.\n   *\n   * // {IValidatorFn[]} validators - array of validators to combine\n   * // {IValidatorFn} - single combined validator function\n   */\n  static composeAnyOf(validators: IValidatorFn[]): IValidatorFn {\n    if (!validators) { return null; }\n    const presentValidators = validators.filter(isDefined);\n    if (presentValidators.length === 0) { return null; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      const arrayOfErrors =\n        _executeValidators(control, presentValidators, invert).filter(isDefined);\n      const isValid = validators.length > arrayOfErrors.length;\n      return xor(isValid, invert) ?\n        null : _mergeObjects(...arrayOfErrors, { 'anyOf': !invert });\n    };\n  }\n\n  /**\n   * 'composeOneOf' validator combination function\n   *\n   * Accepts an array of validators and returns a single validator that\n   * evaluates to valid only if exactly one of the submitted validators\n   * is valid. Otherwise returns combined information from all validators,\n   * both valid and invalid.\n   *\n   * // {IValidatorFn[]} validators - array of validators to combine\n   * // {IValidatorFn} - single combined validator function\n   */\n  static composeOneOf(validators: IValidatorFn[]): IValidatorFn {\n    if (!validators) { return null; }\n    const presentValidators = validators.filter(isDefined);\n    if (presentValidators.length === 0) { return null; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      const arrayOfErrors =\n        _executeValidators(control, presentValidators);\n      const validControls =\n        validators.length - arrayOfErrors.filter(isDefined).length;\n      const isValid = validControls === 1;\n      if (xor(isValid, invert)) { return null; }\n      const arrayOfValids =\n        _executeValidators(control, presentValidators, invert);\n      return _mergeObjects(...arrayOfErrors, ...arrayOfValids, { 'oneOf': !invert });\n    };\n  }\n\n  /**\n   * 'composeAllOf' validator combination function\n   *\n   * Accepts an array of validators and returns a single validator that\n   * evaluates to valid only if all the submitted validators are individually\n   * valid. Otherwise it returns combined errors from all invalid validators.\n   *\n   * // {IValidatorFn[]} validators - array of validators to combine\n   * // {IValidatorFn} - single combined validator function\n   */\n  static composeAllOf(validators: IValidatorFn[]): IValidatorFn {\n    if (!validators) { return null; }\n    const presentValidators = validators.filter(isDefined);\n    if (presentValidators.length === 0) { return null; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      const combinedErrors = _mergeErrors(\n        _executeValidators(control, presentValidators, invert)\n      );\n      const isValid = combinedErrors === null;\n      return (xor(isValid, invert)) ?\n        null : _mergeObjects(combinedErrors, { 'allOf': !invert });\n    };\n  }\n\n  /**\n   * 'composeNot' validator inversion function\n   *\n   * Accepts a single validator function and inverts its result.\n   * Returns valid if the submitted validator is invalid, and\n   * returns invalid if the submitted validator is valid.\n   * (Note: this function can itself be inverted\n   *   - e.g. composeNot(composeNot(validator)) -\n   *   but this can be confusing and is therefore not recommended.)\n   *\n   * // {IValidatorFn[]} validators - validator(s) to invert\n   * // {IValidatorFn} - new validator function that returns opposite result\n   */\n  static composeNot(validator: IValidatorFn): IValidatorFn {\n    if (!validator) { return null; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null => {\n      if (isEmpty(control.value)) { return null; }\n      const error = validator(control, !invert);\n      const isValid = error === null;\n      return (xor(isValid, invert)) ?\n        null : _mergeObjects(error, { 'not': !invert });\n    };\n  }\n\n  /**\n   * 'compose' validator combination function\n   *\n   * // {IValidatorFn[]} validators - array of validators to combine\n   * // {IValidatorFn} - single combined validator function\n   */\n  static compose(validators: IValidatorFn[]): IValidatorFn {\n    if (!validators) { return null; }\n    const presentValidators = validators.filter(isDefined);\n    if (presentValidators.length === 0) { return null; }\n    return (control: AbstractControl, invert = false): ValidationErrors|null =>\n      _mergeErrors(_executeValidators(control, presentValidators, invert));\n  }\n\n  /**\n   * 'composeAsync' async validator combination function\n   *\n   * // {AsyncIValidatorFn[]} async validators - array of async validators\n   * // {AsyncIValidatorFn} - single combined async validator function\n   */\n  static composeAsync(validators: AsyncIValidatorFn[]): AsyncIValidatorFn {\n    if (!validators) { return null; }\n    const presentValidators = validators.filter(isDefined);\n    if (presentValidators.length === 0) { return null; }\n    return (control: AbstractControl) => {\n      const observables =\n        _executeAsyncValidators(control, presentValidators).map(toObservable);\n      return map.call(forkJoin(observables), _mergeErrors);\n    };\n  }\n\n  // Additional angular validators (not used by Angualr JSON Schema Form)\n  // From https://github.com/angular/angular/blob/master/packages/forms/src/validators.ts\n\n  /**\n   * Validator that requires controls to have a value greater than a number.\n   */\n  static min(min: number): ValidatorFn {\n    if (!hasValue(min)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl): ValidationErrors|null => {\n      // don't validate empty values to allow optional controls\n      if (isEmpty(control.value) || isEmpty(min)) { return null; }\n      const value = parseFloat(control.value);\n      const actual = control.value;\n      // Controls with NaN values after parsing should be treated as not having a\n      // minimum, per the HTML forms spec: https://www.w3.org/TR/html5/forms.html#attr-input-min\n      return isNaN(value) || value >= min ? null : { 'min': { min, actual } };\n    };\n  }\n\n  /**\n   * Validator that requires controls to have a value less than a number.\n   */\n  static max(max: number): ValidatorFn {\n    if (!hasValue(max)) { return JsonValidators.nullValidator; }\n    return (control: AbstractControl): ValidationErrors|null => {\n      // don't validate empty values to allow optional controls\n      if (isEmpty(control.value) || isEmpty(max)) { return null; }\n      const value = parseFloat(control.value);\n      const actual = control.value;\n      // Controls with NaN values after parsing should be treated as not having a\n      // maximum, per the HTML forms spec: https://www.w3.org/TR/html5/forms.html#attr-input-max\n      return isNaN(value) || value <= max ? null : { 'max': { max, actual } };\n    };\n  }\n\n  /**\n   * Validator that requires control value to be true.\n   */\n  static requiredTrue(control: AbstractControl): ValidationErrors|null {\n    if (!control) { return JsonValidators.nullValidator; }\n    return control.value === true ? null : { 'required': true };\n  }\n\n  /**\n   * Validator that performs email validation.\n   */\n  static email(control: AbstractControl): ValidationErrors|null {\n    if (!control) { return JsonValidators.nullValidator; }\n    const EMAIL_REGEXP =\n      // tslint:disable-next-line:max-line-length\n      /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;\n    return EMAIL_REGEXP.test(control.value) ? null : { 'email': true };\n  }\n}\n","import isEqual from 'lodash/isEqual';\n\nimport {\n  isArray, isEmpty, isNumber, isObject, isString\n} from './validator.functions';\nimport { hasOwn, uniqueItems, commonItems } from './utility.functions';\nimport { JsonPointer, Pointer } from './jsonpointer.functions';\n\n/**\n * 'mergeSchemas' function\n *\n * Merges multiple JSON schemas into a single schema with combined rules.\n *\n * If able to logically merge properties from all schemas,\n * returns a single schema object containing all merged properties.\n *\n * Example: ({ a: b, max: 1 }, { c: d, max: 2 }) => { a: b, c: d, max: 1 }\n *\n * If unable to logically merge, returns an allOf schema object containing\n * an array of the original schemas;\n *\n * Example: ({ a: b }, { a: d }) => { allOf: [ { a: b }, { a: d } ] }\n *\n * //   schemas - one or more input schemas\n * //  - merged schema\n */\nexport function mergeSchemas(...schemas) {\n  schemas = schemas.filter(schema => !isEmpty(schema));\n  if (schemas.some(schema => !isObject(schema))) { return null; }\n  const combinedSchema: any = {};\n  for (const schema of schemas) {\n    for (const key of Object.keys(schema)) {\n      const combinedValue = combinedSchema[key];\n      const schemaValue = schema[key];\n      if (!hasOwn(combinedSchema, key) || isEqual(combinedValue, schemaValue)) {\n        combinedSchema[key] = schemaValue;\n      } else {\n        switch (key) {\n          case 'allOf':\n            // Combine all items from both arrays\n            if (isArray(combinedValue) && isArray(schemaValue)) {\n              combinedSchema.allOf = mergeSchemas(...combinedValue, ...schemaValue);\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'additionalItems': case 'additionalProperties':\n          case 'contains': case 'propertyNames':\n            // Merge schema objects\n            if (isObject(combinedValue) && isObject(schemaValue)) {\n              combinedSchema[key] = mergeSchemas(combinedValue, schemaValue);\n            // additionalProperties == false in any schema overrides all other values\n            } else if (\n              key === 'additionalProperties' &&\n              (combinedValue === false || schemaValue === false)\n            ) {\n              combinedSchema.combinedSchema = false;\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'anyOf': case 'oneOf': case 'enum':\n            // Keep only items that appear in both arrays\n            if (isArray(combinedValue) && isArray(schemaValue)) {\n              combinedSchema[key] = combinedValue.filter(item1 =>\n                schemaValue.findIndex(item2 => isEqual(item1, item2)) > -1\n              );\n              if (!combinedSchema[key].length) { return { allOf: [ ...schemas ] }; }\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'definitions':\n            // Combine keys from both objects\n            if (isObject(combinedValue) && isObject(schemaValue)) {\n              const combinedObject = { ...combinedValue };\n              for (const subKey of Object.keys(schemaValue)) {\n                if (!hasOwn(combinedObject, subKey) ||\n                  isEqual(combinedObject[subKey], schemaValue[subKey])\n                ) {\n                  combinedObject[subKey] = schemaValue[subKey];\n                // Don't combine matching keys with different values\n                } else {\n                  return { allOf: [ ...schemas ] };\n                }\n              }\n              combinedSchema.definitions = combinedObject;\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'dependencies':\n            // Combine all keys from both objects\n            // and merge schemas on matching keys,\n            // converting from arrays to objects if necessary\n            if (isObject(combinedValue) && isObject(schemaValue)) {\n              const combinedObject = { ...combinedValue };\n              for (const subKey of Object.keys(schemaValue)) {\n                if (!hasOwn(combinedObject, subKey) ||\n                  isEqual(combinedObject[subKey], schemaValue[subKey])\n                ) {\n                  combinedObject[subKey] = schemaValue[subKey];\n                // If both keys are arrays, include all items from both arrays,\n                // excluding duplicates\n                } else if (\n                  isArray(schemaValue[subKey]) && isArray(combinedObject[subKey])\n                ) {\n                  combinedObject[subKey] =\n                    uniqueItems(...combinedObject[subKey], ...schemaValue[subKey]);\n                // If either key is an object, merge the schemas\n                } else if (\n                  (isArray(schemaValue[subKey]) || isObject(schemaValue[subKey])) &&\n                  (isArray(combinedObject[subKey]) || isObject(combinedObject[subKey]))\n                ) {\n                  // If either key is an array, convert it to an object first\n                  const required = isArray(combinedSchema.required) ?\n                    combinedSchema.required : [];\n                  const combinedDependency = isArray(combinedObject[subKey]) ?\n                    { required: uniqueItems(...required, combinedObject[subKey]) } :\n                    combinedObject[subKey];\n                  const schemaDependency = isArray(schemaValue[subKey]) ?\n                    { required: uniqueItems(...required, schemaValue[subKey]) } :\n                    schemaValue[subKey];\n                  combinedObject[subKey] =\n                    mergeSchemas(combinedDependency, schemaDependency);\n                } else {\n                  return { allOf: [ ...schemas ] };\n                }\n              }\n              combinedSchema.dependencies = combinedObject;\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'items':\n            // If arrays, keep only items that appear in both arrays\n            if (isArray(combinedValue) && isArray(schemaValue)) {\n              combinedSchema.items = combinedValue.filter(item1 =>\n                schemaValue.findIndex(item2 => isEqual(item1, item2)) > -1\n              );\n              if (!combinedSchema.items.length) { return { allOf: [ ...schemas ] }; }\n            // If both keys are objects, merge them\n            } else if (isObject(combinedValue) && isObject(schemaValue)) {\n              combinedSchema.items = mergeSchemas(combinedValue, schemaValue);\n            // If object + array, combine object with each array item\n            } else if (isArray(combinedValue) && isObject(schemaValue)) {\n              combinedSchema.items =\n                combinedValue.map(item => mergeSchemas(item, schemaValue));\n            } else if (isObject(combinedValue) && isArray(schemaValue)) {\n              combinedSchema.items =\n                schemaValue.map(item => mergeSchemas(item, combinedValue));\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'multipleOf':\n            // TODO: Adjust to correctly handle decimal values\n            // If numbers, set to least common multiple\n            if (isNumber(combinedValue) && isNumber(schemaValue)) {\n              const gcd = (x, y) => !y ? x : gcd(y, x % y);\n              const lcm = (x, y) => (x * y) / gcd(x, y);\n              combinedSchema.multipleOf = lcm(combinedValue, schemaValue);\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'maximum': case 'exclusiveMaximum': case 'maxLength':\n          case 'maxItems': case 'maxProperties':\n            // If numbers, set to lowest value\n            if (isNumber(combinedValue) && isNumber(schemaValue)) {\n              combinedSchema[key] = Math.min(combinedValue, schemaValue);\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'minimum': case 'exclusiveMinimum': case 'minLength':\n          case 'minItems': case 'minProperties':\n            // If numbers, set to highest value\n            if (isNumber(combinedValue) && isNumber(schemaValue)) {\n              combinedSchema[key] = Math.max(combinedValue, schemaValue);\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'not':\n            // Combine not values into anyOf array\n            if (isObject(combinedValue) && isObject(schemaValue)) {\n              const notAnyOf = [combinedValue, schemaValue]\n                .reduce((notAnyOfArray, notSchema) =>\n                  isArray(notSchema.anyOf) &&\n                  Object.keys(notSchema).length === 1 ?\n                    [ ...notAnyOfArray, ...notSchema.anyOf ] :\n                    [ ...notAnyOfArray, notSchema ]\n                , []);\n              // TODO: Remove duplicate items from array\n              combinedSchema.not = { anyOf: notAnyOf };\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'patternProperties':\n            // Combine all keys from both objects\n            // and merge schemas on matching keys\n            if (isObject(combinedValue) && isObject(schemaValue)) {\n              const combinedObject = { ...combinedValue };\n              for (const subKey of Object.keys(schemaValue)) {\n                if (!hasOwn(combinedObject, subKey) ||\n                  isEqual(combinedObject[subKey], schemaValue[subKey])\n                ) {\n                  combinedObject[subKey] = schemaValue[subKey];\n                // If both keys are objects, merge them\n                } else if (\n                  isObject(schemaValue[subKey]) && isObject(combinedObject[subKey])\n                ) {\n                  combinedObject[subKey] =\n                    mergeSchemas(combinedObject[subKey], schemaValue[subKey]);\n                } else {\n                  return { allOf: [ ...schemas ] };\n                }\n              }\n              combinedSchema.patternProperties = combinedObject;\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'properties':\n            // Combine all keys from both objects\n            // unless additionalProperties === false\n            // and merge schemas on matching keys\n            if (isObject(combinedValue) && isObject(schemaValue)) {\n              const combinedObject = { ...combinedValue };\n              // If new schema has additionalProperties,\n              // merge or remove non-matching property keys in combined schema\n              if (hasOwn(schemaValue, 'additionalProperties')) {\n                Object.keys(combinedValue)\n                  .filter(combinedKey => !Object.keys(schemaValue).includes(combinedKey))\n                  .forEach(nonMatchingKey => {\n                    if (schemaValue.additionalProperties === false) {\n                      delete combinedObject[nonMatchingKey];\n                    } else if (isObject(schemaValue.additionalProperties)) {\n                      combinedObject[nonMatchingKey] = mergeSchemas(\n                        combinedObject[nonMatchingKey],\n                        schemaValue.additionalProperties\n                      );\n                    }\n                  });\n              }\n              for (const subKey of Object.keys(schemaValue)) {\n                if (isEqual(combinedObject[subKey], schemaValue[subKey]) || (\n                  !hasOwn(combinedObject, subKey) &&\n                  !hasOwn(combinedObject, 'additionalProperties')\n                )) {\n                  combinedObject[subKey] = schemaValue[subKey];\n                // If combined schema has additionalProperties,\n                // merge or ignore non-matching property keys in new schema\n                } else if (\n                  !hasOwn(combinedObject, subKey) &&\n                  hasOwn(combinedObject, 'additionalProperties')\n                ) {\n                  // If combinedObject.additionalProperties === false,\n                  // do nothing (don't set key)\n                  // If additionalProperties is object, merge with new key\n                  if (isObject(combinedObject.additionalProperties)) {\n                    combinedObject[subKey] = mergeSchemas(\n                      combinedObject.additionalProperties, schemaValue[subKey]\n                    );\n                  }\n                // If both keys are objects, merge them\n                } else if (\n                  isObject(schemaValue[subKey]) &&\n                  isObject(combinedObject[subKey])\n                ) {\n                  combinedObject[subKey] =\n                    mergeSchemas(combinedObject[subKey], schemaValue[subKey]);\n                } else {\n                  return { allOf: [ ...schemas ] };\n                }\n              }\n              combinedSchema.properties = combinedObject;\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'required':\n            // If arrays, include all items from both arrays, excluding duplicates\n            if (isArray(combinedValue) && isArray(schemaValue)) {\n              combinedSchema.required = uniqueItems(...combinedValue, ...schemaValue);\n            // If booleans, aet true if either true\n            } else if (\n              typeof schemaValue === 'boolean' &&\n              typeof combinedValue === 'boolean'\n            ) {\n              combinedSchema.required = !!combinedValue || !!schemaValue;\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case '$schema': case '$id': case 'id':\n            // Don't combine these keys\n          break;\n          case 'title': case 'description': case '$comment':\n            // Return the last value, overwriting any previous one\n            // These properties are not used for validation, so conflicts don't matter\n            combinedSchema[key] = schemaValue;\n          break;\n          case 'type':\n            if (\n              (isArray(schemaValue) || isString(schemaValue)) &&\n              (isArray(combinedValue) || isString(combinedValue))\n            ) {\n              const combinedTypes = commonItems(combinedValue, schemaValue);\n              if (!combinedTypes.length) { return { allOf: [ ...schemas ] }; }\n              combinedSchema.type = combinedTypes.length > 1 ? combinedTypes : combinedTypes[0];\n            } else {\n              return { allOf: [ ...schemas ] };\n            }\n          break;\n          case 'uniqueItems':\n            // Set true if either true\n            combinedSchema.uniqueItems = !!combinedValue || !!schemaValue;\n          break;\n          default:\n            return { allOf: [ ...schemas ] };\n        }\n      }\n    }\n  }\n  return combinedSchema;\n}\n","import cloneDeep from 'lodash/cloneDeep';\nimport { forEach, hasOwn, mergeFilteredObject } from './utility.functions';\nimport {\n  getType,\n  hasValue,\n  inArray,\n  isArray,\n  isNumber,\n  isObject,\n  isString\n  } from './validator.functions';\nimport { JsonPointer } from './jsonpointer.functions';\nimport { mergeSchemas } from './merge-schemas.function';\n\n\n/**\n * JSON Schema function library:\n *\n * buildSchemaFromLayout:   TODO: Write this function\n *\n * buildSchemaFromData:\n *\n * getFromSchema:\n *\n * removeRecursiveReferences:\n *\n * getInputType:\n *\n * checkInlineType:\n *\n * isInputRequired:\n *\n * updateInputOptions:\n *\n * getTitleMapFromOneOf:\n *\n * getControlValidators:\n *\n * resolveSchemaReferences:\n *\n * getSubSchema:\n *\n * combineAllOf:\n *\n * fixRequiredArrayProperties:\n */\n\n/**\n * 'buildSchemaFromLayout' function\n *\n * TODO: Build a JSON Schema from a JSON Form layout\n *\n * //   layout - The JSON Form layout\n * //  - The new JSON Schema\n */\nexport function buildSchemaFromLayout(layout) {\n  return;\n  // let newSchema: any = { };\n  // const walkLayout = (layoutItems: any[], callback: Function): any[] => {\n  //   let returnArray: any[] = [];\n  //   for (let layoutItem of layoutItems) {\n  //     const returnItem: any = callback(layoutItem);\n  //     if (returnItem) { returnArray = returnArray.concat(callback(layoutItem)); }\n  //     if (layoutItem.items) {\n  //       returnArray = returnArray.concat(walkLayout(layoutItem.items, callback));\n  //     }\n  //   }\n  //   return returnArray;\n  // };\n  // walkLayout(layout, layoutItem => {\n  //   let itemKey: string;\n  //   if (typeof layoutItem === 'string') {\n  //     itemKey = layoutItem;\n  //   } else if (layoutItem.key) {\n  //     itemKey = layoutItem.key;\n  //   }\n  //   if (!itemKey) { return; }\n  //   //\n  // });\n}\n\n/**\n * 'buildSchemaFromData' function\n *\n * Build a JSON Schema from a data object\n *\n * //   data - The data object\n * //  { boolean = false } requireAllFields - Require all fields?\n * //  { boolean = true } isRoot - is root\n * //  - The new JSON Schema\n */\nexport function buildSchemaFromData(\n  data, requireAllFields = false, isRoot = true\n) {\n  const newSchema: any = {};\n  const getFieldType = (value: any): string => {\n    const fieldType = getType(value, 'strict');\n    return { integer: 'number', null: 'string' }[fieldType] || fieldType;\n  };\n  const buildSubSchema = (value) =>\n    buildSchemaFromData(value, requireAllFields, false);\n  if (isRoot) { newSchema.$schema = 'http://json-schema.org/draft-06/schema#'; }\n  newSchema.type = getFieldType(data);\n  if (newSchema.type === 'object') {\n    newSchema.properties = {};\n    if (requireAllFields) { newSchema.required = []; }\n    for (const key of Object.keys(data)) {\n      newSchema.properties[key] = buildSubSchema(data[key]);\n      if (requireAllFields) { newSchema.required.push(key); }\n    }\n  } else if (newSchema.type === 'array') {\n    newSchema.items = data.map(buildSubSchema);\n    // If all items are the same type, use an object for items instead of an array\n    if ((new Set(data.map(getFieldType))).size === 1) {\n      newSchema.items = newSchema.items.reduce((a, b) => ({ ...a, ...b }), {});\n    }\n    if (requireAllFields) { newSchema.minItems = 1; }\n  }\n  return newSchema;\n}\n\n/**\n * 'getFromSchema' function\n *\n * Uses a JSON Pointer for a value within a data object to retrieve\n * the schema for that value within schema for the data object.\n *\n * The optional third parameter can also be set to return something else:\n * 'schema' (default): the schema for the value indicated by the data pointer\n * 'parentSchema': the schema for the value's parent object or array\n * 'schemaPointer': a pointer to the value's schema within the object's schema\n * 'parentSchemaPointer': a pointer to the schema for the value's parent object or array\n *\n * //   schema - The schema to get the sub-schema from\n * //  { Pointer } dataPointer - JSON Pointer (string or array)\n * //  { string = 'schema' } returnType - what to return?\n * //  - The located sub-schema\n */\nexport function getFromSchema(schema, dataPointer, returnType = 'schema') {\n  const dataPointerArray: any[] = JsonPointer.parse(dataPointer);\n  if (dataPointerArray === null) {\n    console.error(`getFromSchema error: Invalid JSON Pointer: ${dataPointer}`);\n    return null;\n  }\n  let subSchema = schema;\n  const schemaPointer = [];\n  const length = dataPointerArray.length;\n  if (returnType.slice(0, 6) === 'parent') { dataPointerArray.length--; }\n  for (let i = 0; i < length; ++i) {\n    const parentSchema = subSchema;\n    const key = dataPointerArray[i];\n    let subSchemaFound = false;\n    if (typeof subSchema !== 'object') {\n      console.error(`getFromSchema error: Unable to find \"${key}\" key in schema.`);\n      console.error(schema);\n      console.error(dataPointer);\n      return null;\n    }\n    if (subSchema.type === 'array' && (!isNaN(key) || key === '-')) {\n      if (hasOwn(subSchema, 'items')) {\n        if (isObject(subSchema.items)) {\n          subSchemaFound = true;\n          subSchema = subSchema.items;\n          schemaPointer.push('items');\n        } else if (isArray(subSchema.items)) {\n          if (!isNaN(key) && subSchema.items.length >= +key) {\n            subSchemaFound = true;\n            subSchema = subSchema.items[+key];\n            schemaPointer.push('items', key);\n          }\n        }\n      }\n      if (!subSchemaFound && isObject(subSchema.additionalItems)) {\n        subSchemaFound = true;\n        subSchema = subSchema.additionalItems;\n        schemaPointer.push('additionalItems');\n      } else if (subSchema.additionalItems !== false) {\n        subSchemaFound = true;\n        subSchema = { };\n        schemaPointer.push('additionalItems');\n      }\n    } else if (subSchema.type === 'object') {\n      if (isObject(subSchema.properties) && hasOwn(subSchema.properties, key)) {\n        subSchemaFound = true;\n        subSchema = subSchema.properties[key];\n        schemaPointer.push('properties', key);\n      } else if (isObject(subSchema.additionalProperties)) {\n        subSchemaFound = true;\n        subSchema = subSchema.additionalProperties;\n        schemaPointer.push('additionalProperties');\n      } else if (subSchema.additionalProperties !== false) {\n        subSchemaFound = true;\n        subSchema = { };\n        schemaPointer.push('additionalProperties');\n      }\n    }\n    if (!subSchemaFound) {\n      console.error(`getFromSchema error: Unable to find \"${key}\" item in schema.`);\n      console.error(schema);\n      console.error(dataPointer);\n      return;\n    }\n  }\n  return returnType.slice(-7) === 'Pointer' ? schemaPointer : subSchema;\n}\n\n/**\n * 'removeRecursiveReferences' function\n *\n * Checks a JSON Pointer against a map of recursive references and returns\n * a JSON Pointer to the shallowest equivalent location in the same object.\n *\n * Using this functions enables an object to be constructed with unlimited\n * recursion, while maintaing a fixed set of metadata, such as field data types.\n * The object can grow as large as it wants, and deeply recursed nodes can\n * just refer to the metadata for their shallow equivalents, instead of having\n * to add additional redundant metadata for each recursively added node.\n *\n * Example:\n *\n * pointer:         '/stuff/and/more/and/more/and/more/and/more/stuff'\n * recursiveRefMap: [['/stuff/and/more/and/more', '/stuff/and/more/']]\n * returned:        '/stuff/and/more/stuff'\n *\n * //  { Pointer } pointer -\n * //  { Map<string, string> } recursiveRefMap -\n * //  { Map<string, number> = new Map() } arrayMap - optional\n * // { string } -\n */\nexport function removeRecursiveReferences(\n  pointer, recursiveRefMap, arrayMap = new Map()\n) {\n  if (!pointer) { return ''; }\n  let genericPointer =\n    JsonPointer.toGenericPointer(JsonPointer.compile(pointer), arrayMap);\n  if (genericPointer.indexOf('/') === -1) { return genericPointer; }\n  let possibleReferences = true;\n  while (possibleReferences) {\n    possibleReferences = false;\n    recursiveRefMap.forEach((toPointer, fromPointer) => {\n      if (JsonPointer.isSubPointer(toPointer, fromPointer)) {\n        while (JsonPointer.isSubPointer(fromPointer, genericPointer, true)) {\n          genericPointer = JsonPointer.toGenericPointer(\n            toPointer + genericPointer.slice(fromPointer.length), arrayMap\n          );\n          possibleReferences = true;\n        }\n      }\n    });\n  }\n  return genericPointer;\n}\n\n/**\n * 'getInputType' function\n *\n * //   schema\n * //  { any = null } layoutNode\n * // { string }\n */\nexport function getInputType(schema, layoutNode: any = null) {\n  // x-schema-form = Angular Schema Form compatibility\n  // widget & component = React Jsonschema Form compatibility\n  const controlType = JsonPointer.getFirst([\n    [schema, '/x-schema-form/type'],\n    [schema, '/x-schema-form/widget/component'],\n    [schema, '/x-schema-form/widget'],\n    [schema, '/widget/component'],\n    [schema, '/widget']\n  ]);\n  if (isString(controlType)) { return checkInlineType(controlType, schema, layoutNode); }\n  let schemaType = schema.type;\n  if (schemaType) {\n    if (isArray(schemaType)) { // If multiple types listed, use most inclusive type\n      schemaType =\n        inArray('object', schemaType) && hasOwn(schema, 'properties') ? 'object' :\n        inArray('array', schemaType) && hasOwn(schema, 'items') ? 'array' :\n        inArray('array', schemaType) && hasOwn(schema, 'additionalItems') ? 'array' :\n        inArray('string', schemaType) ? 'string' :\n        inArray('number', schemaType) ? 'number' :\n        inArray('integer', schemaType) ? 'integer' :\n        inArray('boolean', schemaType) ? 'boolean' : 'unknown';\n    }\n    if (schemaType === 'boolean') { return 'checkbox'; }\n    if (schemaType === 'object') {\n      if (hasOwn(schema, 'properties') || hasOwn(schema, 'additionalProperties')) {\n        return 'section';\n      }\n      // TODO: Figure out how to handle additionalProperties\n      if (hasOwn(schema, '$ref')) { return '$ref'; }\n    }\n    if (schemaType === 'array') {\n      const itemsObject = JsonPointer.getFirst([\n        [schema, '/items'],\n        [schema, '/additionalItems']\n      ]) || {};\n      return hasOwn(itemsObject, 'enum') && schema.maxItems !== 1 ?\n        checkInlineType('checkboxes', schema, layoutNode) : 'array';\n    }\n    if (schemaType === 'null') { return 'none'; }\n    if (JsonPointer.has(layoutNode, '/options/titleMap') ||\n      hasOwn(schema, 'enum') || getTitleMapFromOneOf(schema, null, true)\n    ) { return 'select'; }\n    if (schemaType === 'number' || schemaType === 'integer') {\n      return (schemaType === 'integer' || hasOwn(schema, 'multipleOf')) &&\n        hasOwn(schema, 'maximum') && hasOwn(schema, 'minimum') ? 'range' : schemaType;\n    }\n    if (schemaType === 'string') {\n      return {\n        'color': 'color',\n        'date': 'date',\n        'date-time': 'datetime-local',\n        'email': 'email',\n        'uri': 'url',\n      }[schema.format] || 'text';\n    }\n  }\n  if (hasOwn(schema, '$ref')) { return '$ref'; }\n  if (isArray(schema.oneOf) || isArray(schema.anyOf)) { return 'one-of'; }\n  console.error(`getInputType error: Unable to determine input type for ${schemaType}`);\n  console.error('schema', schema);\n  if (layoutNode) { console.error('layoutNode', layoutNode); }\n  return 'none';\n}\n\n/**\n * 'checkInlineType' function\n *\n * Checks layout and schema nodes for 'inline: true', and converts\n * 'radios' or 'checkboxes' to 'radios-inline' or 'checkboxes-inline'\n *\n * //  { string } controlType -\n * //   schema -\n * //  { any = null } layoutNode -\n * // { string }\n */\nexport function checkInlineType(controlType, schema, layoutNode: any = null) {\n  if (!isString(controlType) || (\n    controlType.slice(0, 8) !== 'checkbox' && controlType.slice(0, 5) !== 'radio'\n  )) {\n    return controlType;\n  }\n  if (\n    JsonPointer.getFirst([\n      [layoutNode, '/inline'],\n      [layoutNode, '/options/inline'],\n      [schema, '/inline'],\n      [schema, '/x-schema-form/inline'],\n      [schema, '/x-schema-form/options/inline'],\n      [schema, '/x-schema-form/widget/inline'],\n      [schema, '/x-schema-form/widget/component/inline'],\n      [schema, '/x-schema-form/widget/component/options/inline'],\n      [schema, '/widget/inline'],\n      [schema, '/widget/component/inline'],\n      [schema, '/widget/component/options/inline'],\n    ]) === true\n  ) {\n    return controlType.slice(0, 5) === 'radio' ?\n      'radios-inline' : 'checkboxes-inline';\n  } else {\n    return controlType;\n  }\n}\n\n/**\n * 'isInputRequired' function\n *\n * Checks a JSON Schema to see if an item is required\n *\n * //   schema - the schema to check\n * //  { string } schemaPointer - the pointer to the item to check\n * // { boolean } - true if the item is required, false if not\n */\nexport function isInputRequired(schema, schemaPointer) {\n  if (!isObject(schema)) {\n    console.error('isInputRequired error: Input schema must be an object.');\n    return false;\n  }\n  const listPointerArray = JsonPointer.parse(schemaPointer);\n  if (isArray(listPointerArray)) {\n    if (!listPointerArray.length) { return schema.required === true; }\n    const keyName = listPointerArray.pop();\n    const nextToLastKey = listPointerArray[listPointerArray.length - 1];\n    if (['properties', 'additionalProperties', 'patternProperties', 'items', 'additionalItems']\n      .includes(nextToLastKey)\n    ) {\n      listPointerArray.pop();\n    }\n    const parentSchema = JsonPointer.get(schema, listPointerArray) || {};\n    if (isArray(parentSchema.required)) {\n      return parentSchema.required.includes(keyName);\n    }\n    if (parentSchema.type === 'array') {\n      return hasOwn(parentSchema, 'minItems') &&\n        isNumber(keyName) &&\n        +parentSchema.minItems > +keyName;\n    }\n  }\n  return false;\n}\n\n/**\n * 'updateInputOptions' function\n *\n * //   layoutNode\n * //   schema\n * //   jsf\n * // { void }\n */\nexport function updateInputOptions(layoutNode, schema, jsf) {\n  if (!isObject(layoutNode) || !isObject(layoutNode.options)) { return; }\n\n  // Set all option values in layoutNode.options\n  const newOptions: any = { };\n  const fixUiKeys = key => key.slice(0, 3).toLowerCase() === 'ui:' ? key.slice(3) : key;\n  mergeFilteredObject(newOptions, jsf.formOptions.defautWidgetOptions, [], fixUiKeys);\n  [ [ JsonPointer.get(schema, '/ui:widget/options'), [] ],\n    [ JsonPointer.get(schema, '/ui:widget'), [] ],\n    [ schema, [\n      'additionalProperties', 'additionalItems', 'properties', 'items',\n      'required', 'type', 'x-schema-form', '$ref'\n    ] ],\n    [ JsonPointer.get(schema, '/x-schema-form/options'), [] ],\n    [ JsonPointer.get(schema, '/x-schema-form'), ['items', 'options'] ],\n    [ layoutNode, [\n      '_id', '$ref', 'arrayItem', 'arrayItemType', 'dataPointer', 'dataType',\n      'items', 'key', 'name', 'options', 'recursiveReference', 'type', 'widget'\n    ] ],\n    [ layoutNode.options, [] ],\n  ].forEach(([ object, excludeKeys ]) =>\n    mergeFilteredObject(newOptions, object, excludeKeys, fixUiKeys)\n  );\n  if (!hasOwn(newOptions, 'titleMap')) {\n    let newTitleMap: any = null;\n    newTitleMap = getTitleMapFromOneOf(schema, newOptions.flatList);\n    if (newTitleMap) { newOptions.titleMap = newTitleMap; }\n    if (!hasOwn(newOptions, 'titleMap') && !hasOwn(newOptions, 'enum') && hasOwn(schema, 'items')) {\n      if (JsonPointer.has(schema, '/items/titleMap')) {\n        newOptions.titleMap = schema.items.titleMap;\n      } else if (JsonPointer.has(schema, '/items/enum')) {\n        newOptions.enum = schema.items.enum;\n        if (!hasOwn(newOptions, 'enumNames') && JsonPointer.has(schema, '/items/enumNames')) {\n          newOptions.enumNames = schema.items.enumNames;\n        }\n      } else if (JsonPointer.has(schema, '/items/oneOf')) {\n        newTitleMap = getTitleMapFromOneOf(schema.items, newOptions.flatList);\n        if (newTitleMap) { newOptions.titleMap = newTitleMap; }\n      }\n    }\n  }\n\n  // If schema type is integer, enforce by setting multipleOf = 1\n  if (schema.type === 'integer' && !hasValue(newOptions.multipleOf)) {\n    newOptions.multipleOf = 1;\n  }\n\n  // Copy any typeahead word lists to options.typeahead.source\n  if (JsonPointer.has(newOptions, '/autocomplete/source')) {\n    newOptions.typeahead = newOptions.autocomplete;\n  } else if (JsonPointer.has(newOptions, '/tagsinput/source')) {\n    newOptions.typeahead = newOptions.tagsinput;\n  } else if (JsonPointer.has(newOptions, '/tagsinput/typeahead/source')) {\n    newOptions.typeahead = newOptions.tagsinput.typeahead;\n  }\n\n  layoutNode.options = newOptions;\n}\n\n/**\n * 'getTitleMapFromOneOf' function\n *\n * //  { schema } schema\n * //  { boolean = null } flatList\n * //  { boolean = false } validateOnly\n * // { validators }\n */\nexport function getTitleMapFromOneOf(\n  schema: any = {}, flatList: boolean = null, validateOnly = false\n) {\n  let titleMap = null;\n  const oneOf = schema.oneOf || schema.anyOf || null;\n  if (isArray(oneOf) && oneOf.every(item => item.title)) {\n    if (oneOf.every(item => isArray(item.enum) && item.enum.length === 1)) {\n      if (validateOnly) { return true; }\n      titleMap = oneOf.map(item => ({ name: item.title, value: item.enum[0] }));\n    } else if (oneOf.every(item => item.const)) {\n      if (validateOnly) { return true; }\n      titleMap = oneOf.map(item => ({ name: item.title, value: item.const }));\n    }\n\n    // if flatList !== false and some items have colons, make grouped map\n    if (flatList !== false && (titleMap || [])\n      .filter(title => ((title || {}).name || '').indexOf(': ')).length > 1\n    ) {\n\n      // Split name on first colon to create grouped map (name -> group: name)\n      const newTitleMap = titleMap.map(title => {\n        const [group, name] = title.name.split(/: (.+)/);\n        return group && name ? { ...title, group, name } : title;\n      });\n\n      // If flatList === true or at least one group has multiple items, use grouped map\n      if (flatList === true || newTitleMap.some((title, index) => index &&\n        hasOwn(title, 'group') && title.group === newTitleMap[index - 1].group\n      )) {\n        titleMap = newTitleMap;\n      }\n    }\n  }\n  return validateOnly ? false : titleMap;\n}\n\n/**\n * 'getControlValidators' function\n *\n * //  schema\n * // { validators }\n */\nexport function getControlValidators(schema) {\n  if (!isObject(schema)) { return null; }\n  const validators: any = { };\n  if (hasOwn(schema, 'type')) {\n    switch (schema.type) {\n      case 'string':\n        forEach(['pattern', 'format', 'minLength', 'maxLength'], (prop) => {\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\n        });\n      break;\n      case 'number': case 'integer':\n        forEach(['Minimum', 'Maximum'], (ucLimit) => {\n          const eLimit = 'exclusive' + ucLimit;\n          const limit = ucLimit.toLowerCase();\n          if (hasOwn(schema, limit)) {\n            const exclusive = hasOwn(schema, eLimit) && schema[eLimit] === true;\n            validators[limit] = [schema[limit], exclusive];\n          }\n        });\n        forEach(['multipleOf', 'type'], (prop) => {\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\n        });\n      break;\n      case 'object':\n        forEach(['minProperties', 'maxProperties', 'dependencies'], (prop) => {\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\n        });\n      break;\n      case 'array':\n        forEach(['minItems', 'maxItems', 'uniqueItems'], (prop) => {\n          if (hasOwn(schema, prop)) { validators[prop] = [schema[prop]]; }\n        });\n      break;\n    }\n  }\n  if (hasOwn(schema, 'enum')) { validators.enum = [schema.enum]; }\n  return validators;\n}\n\n/**\n * 'resolveSchemaReferences' function\n *\n * Find all $ref links in schema and save links and referenced schemas in\n * schemaRefLibrary, schemaRecursiveRefMap, and dataRecursiveRefMap\n *\n * //  schema\n * //  schemaRefLibrary\n * // { Map<string, string> } schemaRecursiveRefMap\n * // { Map<string, string> } dataRecursiveRefMap\n * // { Map<string, number> } arrayMap\n * //\n */\nexport function resolveSchemaReferences(\n  schema, schemaRefLibrary, schemaRecursiveRefMap, dataRecursiveRefMap, arrayMap\n) {\n  if (!isObject(schema)) {\n    console.error('resolveSchemaReferences error: schema must be an object.');\n    return;\n  }\n  const refLinks = new Set<string>();\n  const refMapSet = new Set<string>();\n  const refMap = new Map<string, string>();\n  const recursiveRefMap = new Map<string, string>();\n  const refLibrary: any = {};\n\n  // Search schema for all $ref links, and build full refLibrary\n  JsonPointer.forEachDeep(schema, (subSchema, subSchemaPointer) => {\n    if (hasOwn(subSchema, '$ref') && isString(subSchema['$ref'])) {\n      const refPointer = JsonPointer.compile(subSchema['$ref']);\n      refLinks.add(refPointer);\n      refMapSet.add(subSchemaPointer + '~~' + refPointer);\n      refMap.set(subSchemaPointer, refPointer);\n    }\n  });\n  refLinks.forEach(ref => refLibrary[ref] = getSubSchema(schema, ref));\n\n  // Follow all ref links and save in refMapSet,\n  // to find any multi-link recursive refernces\n  let checkRefLinks = true;\n  while (checkRefLinks) {\n    checkRefLinks = false;\n    Array.from(refMap).forEach(([fromRef1, toRef1]) => Array.from(refMap)\n      .filter(([fromRef2, toRef2]) =>\n        JsonPointer.isSubPointer(toRef1, fromRef2, true) &&\n        !JsonPointer.isSubPointer(toRef2, toRef1, true) &&\n        !refMapSet.has(fromRef1 + fromRef2.slice(toRef1.length) + '~~' + toRef2)\n      )\n      .forEach(([fromRef2, toRef2]) => {\n        refMapSet.add(fromRef1 + fromRef2.slice(toRef1.length) + '~~' + toRef2);\n        checkRefLinks = true;\n      })\n    );\n  }\n\n  // Build full recursiveRefMap\n  // First pass - save all internally recursive refs from refMapSet\n  Array.from(refMapSet)\n    .map(refLink => refLink.split('~~'))\n    .filter(([fromRef, toRef]) => JsonPointer.isSubPointer(toRef, fromRef))\n    .forEach(([fromRef, toRef]) => recursiveRefMap.set(fromRef, toRef));\n  // Second pass - create recursive versions of any other refs that link to recursive refs\n  Array.from(refMap)\n    .filter(([fromRef1, toRef1]) => Array.from(recursiveRefMap.keys())\n      .every(fromRef2 => !JsonPointer.isSubPointer(fromRef1, fromRef2, true))\n    )\n    .forEach(([fromRef1, toRef1]) => Array.from(recursiveRefMap)\n      .filter(([fromRef2, toRef2]) =>\n        !recursiveRefMap.has(fromRef1 + fromRef2.slice(toRef1.length)) &&\n        JsonPointer.isSubPointer(toRef1, fromRef2, true) &&\n        !JsonPointer.isSubPointer(toRef1, fromRef1, true)\n      )\n      .forEach(([fromRef2, toRef2]) => recursiveRefMap.set(\n        fromRef1 + fromRef2.slice(toRef1.length),\n        fromRef1 + toRef2.slice(toRef1.length)\n      ))\n    );\n\n  // Create compiled schema by replacing all non-recursive $ref links with\n  // thieir linked schemas and, where possible, combining schemas in allOf arrays.\n  let compiledSchema = { ...schema };\n  delete compiledSchema.definitions;\n  compiledSchema =\n    getSubSchema(compiledSchema, '', refLibrary, recursiveRefMap);\n\n  // Make sure all remaining schema $refs are recursive, and build final\n  // schemaRefLibrary, schemaRecursiveRefMap, dataRecursiveRefMap, & arrayMap\n  JsonPointer.forEachDeep(compiledSchema, (subSchema, subSchemaPointer) => {\n    if (isString(subSchema['$ref'])) {\n      let refPointer = JsonPointer.compile(subSchema['$ref']);\n      if (!JsonPointer.isSubPointer(refPointer, subSchemaPointer, true)) {\n        refPointer = removeRecursiveReferences(subSchemaPointer, recursiveRefMap);\n        JsonPointer.set(compiledSchema, subSchemaPointer, { $ref: `#${refPointer}` });\n      }\n      if (!hasOwn(schemaRefLibrary, 'refPointer')) {\n        schemaRefLibrary[refPointer] = !refPointer.length ? compiledSchema :\n          getSubSchema(compiledSchema, refPointer, schemaRefLibrary, recursiveRefMap);\n      }\n      if (!schemaRecursiveRefMap.has(subSchemaPointer)) {\n        schemaRecursiveRefMap.set(subSchemaPointer, refPointer);\n      }\n      const fromDataRef = JsonPointer.toDataPointer(subSchemaPointer, compiledSchema);\n      if (!dataRecursiveRefMap.has(fromDataRef)) {\n        const toDataRef = JsonPointer.toDataPointer(refPointer, compiledSchema);\n        dataRecursiveRefMap.set(fromDataRef, toDataRef);\n      }\n    }\n    if (subSchema.type === 'array' &&\n      (hasOwn(subSchema, 'items') || hasOwn(subSchema, 'additionalItems'))\n    ) {\n      const dataPointer = JsonPointer.toDataPointer(subSchemaPointer, compiledSchema);\n      if (!arrayMap.has(dataPointer)) {\n        const tupleItems = isArray(subSchema.items) ? subSchema.items.length : 0;\n        arrayMap.set(dataPointer, tupleItems);\n      }\n    }\n  }, true);\n  return compiledSchema;\n}\n\n/**\n * 'getSubSchema' function\n *\n * //   schema\n * //  { Pointer } pointer\n * //  { object } schemaRefLibrary\n * //  { Map<string, string> } schemaRecursiveRefMap\n * //  { string[] = [] } usedPointers\n * //\n */\nexport function getSubSchema(\n  schema, pointer, schemaRefLibrary = null,\n  schemaRecursiveRefMap: Map<string, string> = null, usedPointers: string[] = []\n) {\n  if (!schemaRefLibrary || !schemaRecursiveRefMap) {\n    return JsonPointer.getCopy(schema, pointer);\n  }\n  if (typeof pointer !== 'string') { pointer = JsonPointer.compile(pointer); }\n  usedPointers = [ ...usedPointers, pointer ];\n  let newSchema: any = null;\n  if (pointer === '') {\n    newSchema = cloneDeep(schema);\n  } else {\n    const shortPointer = removeRecursiveReferences(pointer, schemaRecursiveRefMap);\n    if (shortPointer !== pointer) { usedPointers = [ ...usedPointers, shortPointer ]; }\n    newSchema = JsonPointer.getFirstCopy([\n      [schemaRefLibrary, [shortPointer]],\n      [schema, pointer],\n      [schema, shortPointer]\n    ]);\n  }\n  return JsonPointer.forEachDeepCopy(newSchema, (subSchema, subPointer) => {\n    if (isObject(subSchema)) {\n\n      // Replace non-recursive $ref links with referenced schemas\n      if (isString(subSchema.$ref)) {\n        const refPointer = JsonPointer.compile(subSchema.$ref);\n        if (refPointer.length && usedPointers.every(ptr =>\n          !JsonPointer.isSubPointer(refPointer, ptr, true)\n        )) {\n          const refSchema = getSubSchema(\n            schema, refPointer, schemaRefLibrary, schemaRecursiveRefMap, usedPointers\n          );\n          if (Object.keys(subSchema).length === 1) {\n            return refSchema;\n          } else {\n            const extraKeys = { ...subSchema };\n            delete extraKeys.$ref;\n            return mergeSchemas(refSchema, extraKeys);\n          }\n        }\n      }\n\n      // TODO: Convert schemas with 'type' arrays to 'oneOf'\n\n      // Combine allOf subSchemas\n      if (isArray(subSchema.allOf)) { return combineAllOf(subSchema); }\n\n      // Fix incorrectly placed array object required lists\n      if (subSchema.type === 'array' && isArray(subSchema.required)) {\n        return fixRequiredArrayProperties(subSchema);\n      }\n    }\n    return subSchema;\n  }, true, <string>pointer);\n}\n\n/**\n * 'combineAllOf' function\n *\n * Attempt to convert an allOf schema object into\n * a non-allOf schema object with equivalent rules.\n *\n * //   schema - allOf schema object\n * //  - converted schema object\n */\nexport function combineAllOf(schema) {\n  if (!isObject(schema) || !isArray(schema.allOf)) { return schema; }\n  let mergedSchema = mergeSchemas(...schema.allOf);\n  if (Object.keys(schema).length > 1) {\n    const extraKeys = { ...schema };\n    delete extraKeys.allOf;\n    mergedSchema = mergeSchemas(mergedSchema, extraKeys);\n  }\n  return mergedSchema;\n}\n\n/**\n * 'fixRequiredArrayProperties' function\n *\n * Fixes an incorrectly placed required list inside an array schema, by moving\n * it into items.properties or additionalItems.properties, where it belongs.\n *\n * //   schema - allOf schema object\n * //  - converted schema object\n */\nexport function fixRequiredArrayProperties(schema) {\n  if (schema.type === 'array' && isArray(schema.required)) {\n    const itemsObject = hasOwn(schema.items, 'properties') ? 'items' :\n      hasOwn(schema.additionalItems, 'properties') ? 'additionalItems' : null;\n    if (itemsObject && !hasOwn(schema[itemsObject], 'required') && (\n      hasOwn(schema[itemsObject], 'additionalProperties') ||\n      schema.required.every(key => hasOwn(schema[itemsObject].properties, key))\n    )) {\n      schema = cloneDeep(schema);\n      schema[itemsObject].required = schema.required;\n      delete schema.required;\n    }\n  }\n  return schema;\n}\n","import cloneDeep from \"lodash/cloneDeep\";\nimport filter from \"lodash/filter\";\nimport map from \"lodash/map\";\nimport {\n  AbstractControl,\n  FormArray,\n  FormControl,\n  FormGroup,\n  ValidatorFn,\n} from \"@angular/forms\";\nimport { forEach, hasOwn } from \"./utility.functions\";\nimport {\n  getControlValidators,\n  removeRecursiveReferences,\n} from \"./json-schema.functions\";\nimport {\n  hasValue,\n  inArray,\n  isArray,\n  isDate,\n  isDefined,\n  isEmpty,\n  isObject,\n  isPrimitive,\n  SchemaPrimitiveType,\n  toJavaScriptType,\n  toSchemaType,\n} from \"./validator.functions\";\nimport { JsonPointer, Pointer } from \"./jsonpointer.functions\";\nimport { JsonValidators } from \"./json.validators\";\n\n/**\n * FormGroup function library:\n *\n * buildFormGroupTemplate:  Builds a FormGroupTemplate from schema\n *\n * buildFormGroup:          Builds an Angular FormGroup from a FormGroupTemplate\n *\n * mergeValues:\n *\n * setRequiredFields:\n *\n * formatFormData:\n *\n * getControl:\n *\n * ---- TODO: ----\n * TODO: add buildFormGroupTemplateFromLayout function\n * buildFormGroupTemplateFromLayout: Builds a FormGroupTemplate from a form layout\n */\n\n/**\n * 'buildFormGroupTemplate' function\n *\n * Builds a template for an Angular FormGroup from a JSON Schema.\n *\n * TODO: add support for pattern properties\n * https://spacetelescope.github.io/understanding-json-schema/reference/object.html\n *\n * //  {any} jsf -\n * //  {any = null} nodeValue -\n * //  {boolean = true} mapArrays -\n * //  {string = ''} schemaPointer -\n * //  {string = ''} dataPointer -\n * //  {any = ''} templatePointer -\n * // {any} -\n */\nexport function buildFormGroupTemplate(\n  jsf: any,\n  nodeValue: any = null,\n  setValues = true,\n  schemaPointer = \"\",\n  dataPointer = \"\",\n  templatePointer = \"\"\n) {\n  const schema = JsonPointer.get(jsf.schema, schemaPointer);\n  if (setValues) {\n    if (\n      !isDefined(nodeValue) &&\n      (jsf.formOptions.setSchemaDefaults === true ||\n        (jsf.formOptions.setSchemaDefaults === \"auto\" &&\n          isEmpty(jsf.formValues)))\n    ) {\n      nodeValue = JsonPointer.get(jsf.schema, schemaPointer + \"/default\");\n    }\n  } else {\n    nodeValue = null;\n  }\n  // TODO: If nodeValue still not set, check layout for default value\n  const schemaType: string | string[] = JsonPointer.get(schema, \"/type\");\n  const controlType =\n    (hasOwn(schema, \"properties\") || hasOwn(schema, \"additionalProperties\")) &&\n    schemaType === \"object\"\n      ? \"FormGroup\"\n      : (hasOwn(schema, \"items\") || hasOwn(schema, \"additionalItems\")) &&\n        schemaType === \"array\"\n      ? \"FormArray\"\n      : !schemaType && hasOwn(schema, \"$ref\")\n      ? \"$ref\"\n      : \"FormControl\";\n  const shortDataPointer = removeRecursiveReferences(\n    dataPointer,\n    jsf.dataRecursiveRefMap,\n    jsf.arrayMap\n  );\n  if (!jsf.dataMap.has(shortDataPointer)) {\n    jsf.dataMap.set(shortDataPointer, new Map());\n  }\n  const nodeOptions = jsf.dataMap.get(shortDataPointer);\n  if (!nodeOptions.has(\"schemaType\")) {\n    nodeOptions.set(\"schemaPointer\", schemaPointer);\n    nodeOptions.set(\"schemaType\", schema.type);\n    if (schema.format) {\n      nodeOptions.set(\"schemaFormat\", schema.format);\n      if (!schema.type) {\n        nodeOptions.set(\"schemaType\", \"string\");\n      }\n    }\n    if (controlType) {\n      nodeOptions.set(\"templatePointer\", templatePointer);\n      nodeOptions.set(\"templateType\", controlType);\n    }\n  }\n  let controls: any;\n  const validators = getControlValidators(schema);\n  switch (controlType) {\n    case \"FormGroup\":\n      controls = {};\n      if (hasOwn(schema, \"ui:order\") || hasOwn(schema, \"properties\")) {\n        const propertyKeys =\n          schema[\"ui:order\"] || Object.keys(schema.properties);\n        if (propertyKeys.includes(\"*\") && !hasOwn(schema.properties, \"*\")) {\n          const unnamedKeys = Object.keys(schema.properties).filter(\n            (key) => !propertyKeys.includes(key)\n          );\n          for (let i = propertyKeys.length - 1; i >= 0; i--) {\n            if (propertyKeys[i] === \"*\") {\n              propertyKeys.splice(i, 1, ...unnamedKeys);\n            }\n          }\n        }\n        propertyKeys\n          .filter(\n            (key) =>\n              hasOwn(schema.properties, key) ||\n              hasOwn(schema, \"additionalProperties\")\n          )\n          .forEach(\n            (key) =>\n              (controls[key] = buildFormGroupTemplate(\n                jsf,\n                JsonPointer.get(nodeValue, [<string>key]),\n                setValues,\n                schemaPointer +\n                  (hasOwn(schema.properties, key)\n                    ? \"/properties/\" + key\n                    : \"/additionalProperties\"),\n                dataPointer + \"/\" + key,\n                templatePointer + \"/controls/\" + key\n              ))\n          );\n        jsf.formOptions.fieldsRequired = setRequiredFields(schema, controls);\n      }\n      return { controlType, controls, validators };\n\n    case \"FormArray\":\n      controls = [];\n      const minItems = Math.max(\n        schema.minItems || 0,\n        nodeOptions.get(\"minItems\") || 0\n      );\n      const maxItems = Math.min(\n        schema.maxItems || 1000,\n        nodeOptions.get(\"maxItems\") || 1000\n      );\n      let additionalItemsPointer: string = null;\n      if (isArray(schema.items)) {\n        // 'items' is an array = tuple items\n        const tupleItems =\n          nodeOptions.get(\"tupleItems\") ||\n          (isArray(schema.items) ? Math.min(schema.items.length, maxItems) : 0);\n        for (let i = 0; i < tupleItems; i++) {\n          if (i < minItems) {\n            controls.push(\n              buildFormGroupTemplate(\n                jsf,\n                isArray(nodeValue) ? nodeValue[i] : nodeValue,\n                setValues,\n                schemaPointer + \"/items/\" + i,\n                dataPointer + \"/\" + i,\n                templatePointer + \"/controls/\" + i\n              )\n            );\n          } else {\n            const schemaRefPointer = removeRecursiveReferences(\n              schemaPointer + \"/items/\" + i,\n              jsf.schemaRecursiveRefMap\n            );\n            const itemRefPointer = removeRecursiveReferences(\n              shortDataPointer + \"/\" + i,\n              jsf.dataRecursiveRefMap,\n              jsf.arrayMap\n            );\n            const itemRecursive = itemRefPointer !== shortDataPointer + \"/\" + i;\n            if (!hasOwn(jsf.templateRefLibrary, itemRefPointer)) {\n              jsf.templateRefLibrary[itemRefPointer] = null;\n              jsf.templateRefLibrary[itemRefPointer] = buildFormGroupTemplate(\n                jsf,\n                null,\n                setValues,\n                schemaRefPointer,\n                itemRefPointer,\n                templatePointer + \"/controls/\" + i\n              );\n            }\n            controls.push(\n              isArray(nodeValue)\n                ? buildFormGroupTemplate(\n                    jsf,\n                    nodeValue[i],\n                    setValues,\n                    schemaPointer + \"/items/\" + i,\n                    dataPointer + \"/\" + i,\n                    templatePointer + \"/controls/\" + i\n                  )\n                : itemRecursive\n                ? null\n                : cloneDeep(jsf.templateRefLibrary[itemRefPointer])\n            );\n          }\n        }\n\n        // If 'additionalItems' is an object = additional list items (after tuple items)\n        if (\n          schema.items.length < maxItems &&\n          isObject(schema.additionalItems)\n        ) {\n          additionalItemsPointer = schemaPointer + \"/additionalItems\";\n        }\n\n        // If 'items' is an object = list items only (no tuple items)\n      } else {\n        additionalItemsPointer = schemaPointer + \"/items\";\n      }\n\n      if (additionalItemsPointer) {\n        const schemaRefPointer = removeRecursiveReferences(\n          additionalItemsPointer,\n          jsf.schemaRecursiveRefMap\n        );\n        const itemRefPointer = removeRecursiveReferences(\n          shortDataPointer + \"/-\",\n          jsf.dataRecursiveRefMap,\n          jsf.arrayMap\n        );\n        const itemRecursive = itemRefPointer !== shortDataPointer + \"/-\";\n        if (!hasOwn(jsf.templateRefLibrary, itemRefPointer)) {\n          jsf.templateRefLibrary[itemRefPointer] = null;\n          jsf.templateRefLibrary[itemRefPointer] = buildFormGroupTemplate(\n            jsf,\n            null,\n            setValues,\n            schemaRefPointer,\n            itemRefPointer,\n            templatePointer + \"/controls/-\"\n          );\n        }\n        // const itemOptions = jsf.dataMap.get(itemRefPointer) || new Map();\n        const itemOptions = nodeOptions;\n        if (!itemRecursive || hasOwn(validators, \"required\")) {\n          const arrayLength = Math.min(\n            Math.max(\n              itemRecursive\n                ? 0\n                : itemOptions.get(\"tupleItems\") +\n                    itemOptions.get(\"listItems\") || 0,\n              isArray(nodeValue) ? nodeValue.length : 0\n            ),\n            maxItems\n          );\n          for (let i = controls.length; i < arrayLength; i++) {\n            controls.push(\n              isArray(nodeValue)\n                ? buildFormGroupTemplate(\n                    jsf,\n                    nodeValue[i],\n                    setValues,\n                    schemaRefPointer,\n                    dataPointer + \"/-\",\n                    templatePointer + \"/controls/-\"\n                  )\n                : itemRecursive\n                ? null\n                : cloneDeep(jsf.templateRefLibrary[itemRefPointer])\n            );\n          }\n        }\n      }\n      return { controlType, controls, validators };\n\n    case \"$ref\":\n      const schemaRef = JsonPointer.compile(schema.$ref);\n      const dataRef = JsonPointer.toDataPointer(schemaRef, schema);\n      const refPointer = removeRecursiveReferences(\n        dataRef,\n        jsf.dataRecursiveRefMap,\n        jsf.arrayMap\n      );\n      if (refPointer && !hasOwn(jsf.templateRefLibrary, refPointer)) {\n        // Set to null first to prevent recursive reference from causing endless loop\n        jsf.templateRefLibrary[refPointer] = null;\n        const newTemplate = buildFormGroupTemplate(\n          jsf,\n          setValues,\n          setValues,\n          schemaRef\n        );\n        if (newTemplate) {\n          jsf.templateRefLibrary[refPointer] = newTemplate;\n        } else {\n          delete jsf.templateRefLibrary[refPointer];\n        }\n      }\n      return null;\n\n    case \"FormControl\":\n      const value = {\n        value: setValues && isPrimitive(nodeValue) ? nodeValue : null,\n        disabled: nodeOptions.get(\"disabled\") || false,\n      };\n      return { controlType, value, validators };\n\n    default:\n      return null;\n  }\n}\n\n/**\n * 'buildFormGroup' function\n *\n * // {any} template -\n * // {AbstractControl}\n */\nexport function buildFormGroup(template: any): AbstractControl {\n  const validatorFns: ValidatorFn[] = [];\n  let validatorFn: ValidatorFn = null;\n  // if (hasOwn(template, \"validators\")) {\n  //   forEach(template.validators, (parameters, validator) => {\n  //     if (typeof JsonValidators[validator] === \"function\") {\n  //       validatorFns.push(JsonValidators[validator].apply(null, parameters));\n  //     }\n  //   });\n  //   if (\n  //     validatorFns.length &&\n  //     inArray(template.controlType, [\"FormGroup\", \"FormArray\"])\n  //   ) {\n  //     validatorFn =\n  //       validatorFns.length > 1\n  //         ? JsonValidators.compose(validatorFns)\n  //         : validatorFns[0];\n  //   }\n  // }\n  if (hasOwn(template, \"controlType\")) {\n    switch (template.controlType) {\n      case \"FormGroup\":\n        const groupControls: { [key: string]: AbstractControl } = {};\n        forEach(template.controls, (controls, key) => {\n          const newControl: AbstractControl = buildFormGroup(controls);\n          if (newControl) {\n            groupControls[key] = newControl;\n          }\n        });\n        return new FormGroup(groupControls, validatorFn);\n      case \"FormArray\":\n        return new FormArray(\n          filter(\n            map(template.controls, (controls) => buildFormGroup(controls))\n          ),\n          validatorFn\n        );\n      case \"FormControl\":\n        return new FormControl(template.value, validatorFns);\n    }\n  }\n  return null;\n}\n\n/**\n * 'mergeValues' function\n *\n * //  {any[]} ...valuesToMerge - Multiple values to merge\n * // {any} - Merged values\n */\nexport function mergeValues(...valuesToMerge) {\n  let mergedValues: any = null;\n  for (const currentValue of valuesToMerge) {\n    if (!isEmpty(currentValue)) {\n      if (\n        typeof currentValue === \"object\" &&\n        (isEmpty(mergedValues) || typeof mergedValues !== \"object\")\n      ) {\n        if (isArray(currentValue)) {\n          mergedValues = [...currentValue];\n        } else if (isObject(currentValue)) {\n          mergedValues = { ...currentValue };\n        }\n      } else if (typeof currentValue !== \"object\") {\n        mergedValues = currentValue;\n      } else if (isObject(mergedValues) && isObject(currentValue)) {\n        Object.assign(mergedValues, currentValue);\n      } else if (isObject(mergedValues) && isArray(currentValue)) {\n        const newValues = [];\n        for (const value of currentValue) {\n          newValues.push(mergeValues(mergedValues, value));\n        }\n        mergedValues = newValues;\n      } else if (isArray(mergedValues) && isObject(currentValue)) {\n        const newValues = [];\n        for (const value of mergedValues) {\n          newValues.push(mergeValues(value, currentValue));\n        }\n        mergedValues = newValues;\n      } else if (isArray(mergedValues) && isArray(currentValue)) {\n        const newValues = [];\n        for (\n          let i = 0;\n          i < Math.max(mergedValues.length, currentValue.length);\n          i++\n        ) {\n          if (i < mergedValues.length && i < currentValue.length) {\n            newValues.push(mergeValues(mergedValues[i], currentValue[i]));\n          } else if (i < mergedValues.length) {\n            newValues.push(mergedValues[i]);\n          } else if (i < currentValue.length) {\n            newValues.push(currentValue[i]);\n          }\n        }\n        mergedValues = newValues;\n      }\n    }\n  }\n  return mergedValues;\n}\n\n/**\n * 'setRequiredFields' function\n *\n * // {schema} schema - JSON Schema\n * // {object} formControlTemplate - Form Control Template object\n * // {boolean} - true if any fields have been set to required, false if not\n */\nexport function setRequiredFields(\n  schema: any,\n  formControlTemplate: any\n): boolean {\n  let fieldsRequired = false;\n  if (hasOwn(schema, \"required\") && !isEmpty(schema.required)) {\n    fieldsRequired = true;\n    let requiredArray = isArray(schema.required)\n      ? schema.required\n      : [schema.required];\n    requiredArray = forEach(requiredArray, (key) =>\n      JsonPointer.set(\n        formControlTemplate,\n        \"/\" + key + \"/validators/required\",\n        []\n      )\n    );\n  }\n  return fieldsRequired;\n\n  // TODO: Add support for patternProperties\n  // https://spacetelescope.github.io/understanding-json-schema/reference/object.html#pattern-properties\n}\n\n/**\n * 'formatFormData' function\n *\n * // {any} formData - Angular FormGroup data object\n * // {Map<string, any>} dataMap -\n * // {Map<string, string>} recursiveRefMap -\n * // {Map<string, number>} arrayMap -\n * // {boolean = false} fixErrors - if TRUE, tries to fix data\n * // {any} - formatted data object\n */\nexport function formatFormData(\n  formData: any,\n  dataMap: Map<string, any>,\n  recursiveRefMap: Map<string, string>,\n  arrayMap: Map<string, number>,\n  returnEmptyFields = false,\n  fixErrors = false\n): any {\n  if (formData === null || typeof formData !== \"object\") {\n    return formData;\n  }\n  const formattedData = isArray(formData) ? [] : {};\n  JsonPointer.forEachDeep(formData, (value, dataPointer) => {\n    // If returnEmptyFields === true,\n    // add empty arrays and objects to all allowed keys\n    if (returnEmptyFields && isArray(value)) {\n      JsonPointer.set(formattedData, dataPointer, []);\n    } else if (returnEmptyFields && isObject(value) && !isDate(value)) {\n      JsonPointer.set(formattedData, dataPointer, {});\n    } else {\n      const genericPointer = JsonPointer.has(dataMap, [\n        dataPointer,\n        \"schemaType\",\n      ])\n        ? dataPointer\n        : removeRecursiveReferences(dataPointer, recursiveRefMap, arrayMap);\n      if (JsonPointer.has(dataMap, [genericPointer, \"schemaType\"])) {\n        const schemaType:\n          | SchemaPrimitiveType\n          | SchemaPrimitiveType[] = dataMap\n          .get(genericPointer)\n          .get(\"schemaType\");\n        if (schemaType === \"null\") {\n          JsonPointer.set(formattedData, dataPointer, null);\n        } else if (\n          (hasValue(value) || returnEmptyFields) &&\n          inArray(schemaType, [\"string\", \"integer\", \"number\", \"boolean\"])\n        ) {\n          const newValue =\n            fixErrors || (value === null && returnEmptyFields)\n              ? toSchemaType(value, schemaType)\n              : toJavaScriptType(value, schemaType);\n          if (isDefined(newValue) || returnEmptyFields) {\n            JsonPointer.set(formattedData, dataPointer, newValue);\n          }\n\n          // If returnEmptyFields === false,\n          // only add empty arrays and objects to required keys\n        } else if (schemaType === \"object\" && !returnEmptyFields) {\n          (dataMap.get(genericPointer).get(\"required\") || []).forEach((key) => {\n            const keySchemaType = dataMap\n              .get(`${genericPointer}/${key}`)\n              .get(\"schemaType\");\n            if (keySchemaType === \"array\") {\n              JsonPointer.set(formattedData, `${dataPointer}/${key}`, []);\n            } else if (keySchemaType === \"object\") {\n              JsonPointer.set(formattedData, `${dataPointer}/${key}`, {});\n            }\n          });\n        }\n\n        // Finish incomplete 'date-time' entries\n        if (dataMap.get(genericPointer).get(\"schemaFormat\") === \"date-time\") {\n          // \"2000-03-14T01:59:26.535\" -> \"2000-03-14T01:59:26.535Z\" (add \"Z\")\n          if (\n            /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d:[0-5]\\d(?:\\.\\d+)?$/i.test(\n              value\n            )\n          ) {\n            JsonPointer.set(formattedData, dataPointer, `${value}Z`);\n            // \"2000-03-14T01:59\" -> \"2000-03-14T01:59:00Z\" (add \":00Z\")\n          } else if (\n            /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s][0-2]\\d:[0-5]\\d$/i.test(value)\n          ) {\n            JsonPointer.set(formattedData, dataPointer, `${value}:00Z`);\n            // \"2000-03-14\" -> \"2000-03-14T00:00:00Z\" (add \"T00:00:00Z\")\n          } else if (fixErrors && /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/i.test(value)) {\n            JsonPointer.set(formattedData, dataPointer, `${value}:00:00:00Z`);\n          }\n        }\n      } else if (\n        typeof value !== \"object\" ||\n        isDate(value) ||\n        (value === null && returnEmptyFields)\n      ) {\n        console.error(\n          \"formatFormData error: \" +\n            `Schema type not found for form value at ${genericPointer}`\n        );\n        console.error(\"dataMap\", dataMap);\n        console.error(\"recursiveRefMap\", recursiveRefMap);\n        console.error(\"genericPointer\", genericPointer);\n      }\n    }\n  });\n  return formattedData;\n}\n\n/**\n * 'getControl' function\n *\n * Uses a JSON Pointer for a data object to retrieve a control from\n * an Angular formGroup or formGroup template. (Note: though a formGroup\n * template is much simpler, its basic structure is idential to a formGroup).\n *\n * If the optional third parameter 'returnGroup' is set to TRUE, the group\n * containing the control is returned, rather than the control itself.\n *\n * // {FormGroup} formGroup - Angular FormGroup to get value from\n * // {Pointer} dataPointer - JSON Pointer (string or array)\n * // {boolean = false} returnGroup - If true, return group containing control\n * // {group} - Located value (or null, if no control found)\n */\nexport function getControl(\n  formGroup: any,\n  dataPointer: Pointer,\n  returnGroup = false\n): any {\n  if (!isObject(formGroup) || !JsonPointer.isJsonPointer(dataPointer)) {\n    if (!JsonPointer.isJsonPointer(dataPointer)) {\n      // If dataPointer input is not a valid JSON pointer, check to\n      // see if it is instead a valid object path, using dot notaion\n      if (typeof dataPointer === \"string\") {\n        const formControl = formGroup.get(dataPointer);\n        if (formControl) {\n          return formControl;\n        }\n      }\n      console.error(`getControl error: Invalid JSON Pointer: ${dataPointer}`);\n    }\n    if (!isObject(formGroup)) {\n      console.error(`getControl error: Invalid formGroup: ${formGroup}`);\n    }\n    return null;\n  }\n  let dataPointerArray = JsonPointer.parse(dataPointer);\n  if (returnGroup) {\n    dataPointerArray = dataPointerArray.slice(0, -1);\n  }\n\n  // If formGroup input is a real formGroup (not a formGroup template)\n  // try using formGroup.get() to return the control\n  if (\n    typeof formGroup.get === \"function\" &&\n    dataPointerArray.every((key) => key.indexOf(\".\") === -1)\n  ) {\n    const formControl = formGroup.get(dataPointerArray.join(\".\"));\n    if (formControl) {\n      return formControl;\n    }\n  }\n\n  // If formGroup input is a formGroup template,\n  // or formGroup.get() failed to return the control,\n  // search the formGroup object for dataPointer's control\n  let subGroup = formGroup;\n  for (const key of dataPointerArray) {\n    if (hasOwn(subGroup, \"controls\")) {\n      subGroup = subGroup.controls;\n    }\n    if (isArray(subGroup) && key === \"-\") {\n      subGroup = subGroup[subGroup.length - 1];\n    } else if (hasOwn(subGroup, key)) {\n      subGroup = subGroup[key];\n    } else {\n      console.error(\n        `getControl error: Unable to find \"${key}\" item in FormGroup.`\n      );\n      console.error(dataPointer);\n      console.error(formGroup);\n      return;\n    }\n  }\n  return subGroup;\n}\n","import uniqueId from 'lodash/uniqueId';\nimport cloneDeep from 'lodash/cloneDeep';\nimport {\n  checkInlineType,\n  getFromSchema,\n  getInputType,\n  isInputRequired,\n  removeRecursiveReferences,\n  updateInputOptions\n  } from './json-schema.functions';\nimport {\n  copy,\n  fixTitle,\n  forEach,\n  hasOwn\n  } from './utility.functions';\nimport {\n  inArray,\n  isArray,\n  isDefined,\n  isEmpty,\n  isNumber,\n  isObject,\n  isString\n  } from './validator.functions';\nimport { JsonPointer } from './jsonpointer.functions';\nimport { TitleMapItem } from '../json-schema-form.service';\n\n\n\n/**\n * Layout function library:\n *\n * buildLayout:            Builds a complete layout from an input layout and schema\n *\n * buildLayoutFromSchema:  Builds a complete layout entirely from an input schema\n *\n * mapLayout:\n *\n * getLayoutNode:\n *\n * buildTitleMap:\n */\n\n/**\n * 'buildLayout' function\n *\n * //   jsf\n * //   widgetLibrary\n * //\n */\nexport function buildLayout(jsf, widgetLibrary) {\n  let hasSubmitButton = !JsonPointer.get(jsf, '/formOptions/addSubmit');\n  const formLayout = mapLayout(jsf.layout, (layoutItem, index, layoutPointer) => {\n    const newNode: any = {\n      _id: uniqueId(),\n      options: {},\n    };\n    if (isObject(layoutItem)) {\n      Object.assign(newNode, layoutItem);\n      Object.keys(newNode)\n        .filter(option => !inArray(option, [\n          '_id', '$ref', 'arrayItem', 'arrayItemType', 'dataPointer', 'dataType',\n          'items', 'key', 'name', 'options', 'recursiveReference', 'type', 'widget'\n        ]))\n        .forEach(option => {\n          newNode.options[option] = newNode[option];\n          delete newNode[option];\n        });\n      if (!hasOwn(newNode, 'type') && isString(newNode.widget)) {\n        newNode.type = newNode.widget;\n        delete newNode.widget;\n      }\n      if (!hasOwn(newNode.options, 'title')) {\n        if (hasOwn(newNode.options, 'legend')) {\n          newNode.options.title = newNode.options.legend;\n          delete newNode.options.legend;\n        }\n      }\n      if (!hasOwn(newNode.options, 'validationMessages')) {\n        if (hasOwn(newNode.options, 'errorMessages')) {\n          newNode.options.validationMessages = newNode.options.errorMessages;\n          delete newNode.options.errorMessages;\n\n          // Convert Angular Schema Form (AngularJS) 'validationMessage' to\n          // Angular JSON Schema Form 'validationMessages'\n          // TV4 codes from https://github.com/geraintluff/tv4/blob/master/source/api.js\n        } else if (hasOwn(newNode.options, 'validationMessage')) {\n          if (typeof newNode.options.validationMessage === 'string') {\n            newNode.options.validationMessages = newNode.options.validationMessage;\n          } else {\n            newNode.options.validationMessages = {};\n            Object.keys(newNode.options.validationMessage).forEach(key => {\n              const code = key + '';\n              const newKey =\n                code === '0' ? 'type' :\n                  code === '1' ? 'enum' :\n                    code === '100' ? 'multipleOf' :\n                      code === '101' ? 'minimum' :\n                        code === '102' ? 'exclusiveMinimum' :\n                          code === '103' ? 'maximum' :\n                            code === '104' ? 'exclusiveMaximum' :\n                              code === '200' ? 'minLength' :\n                                code === '201' ? 'maxLength' :\n                                  code === '202' ? 'pattern' :\n                                    code === '300' ? 'minProperties' :\n                                      code === '301' ? 'maxProperties' :\n                                        code === '302' ? 'required' :\n                                          code === '304' ? 'dependencies' :\n                                            code === '400' ? 'minItems' :\n                                              code === '401' ? 'maxItems' :\n                                                code === '402' ? 'uniqueItems' :\n                                                  code === '500' ? 'format' : code + '';\n              newNode.options.validationMessages[newKey] = newNode.options.validationMessage[key];\n            });\n          }\n          delete newNode.options.validationMessage;\n        }\n      }\n    } else if (JsonPointer.isJsonPointer(layoutItem)) {\n      newNode.dataPointer = layoutItem;\n    } else if (isString(layoutItem)) {\n      newNode.key = layoutItem;\n    } else {\n      console.error('buildLayout error: Form layout element not recognized:');\n      console.error(layoutItem);\n      return null;\n    }\n    let nodeSchema: any = null;\n\n    // If newNode does not have a dataPointer, try to find an equivalent\n    if (!hasOwn(newNode, 'dataPointer')) {\n\n      // If newNode has a key, change it to a dataPointer\n      if (hasOwn(newNode, 'key')) {\n        newNode.dataPointer = newNode.key === '*' ? newNode.key :\n          JsonPointer.compile(JsonPointer.parseObjectPath(newNode.key), '-');\n        delete newNode.key;\n\n        // If newNode is an array, search for dataPointer in child nodes\n      } else if (hasOwn(newNode, 'type') && newNode.type.slice(-5) === 'array') {\n        const findDataPointer = (items) => {\n          if (items === null || typeof items !== 'object') { return; }\n          if (hasOwn(items, 'dataPointer')) { return items.dataPointer; }\n          if (isArray(items.items)) {\n            for (const item of items.items) {\n              if (hasOwn(item, 'dataPointer') && item.dataPointer.indexOf('/-') !== -1) {\n                return item.dataPointer;\n              }\n              if (hasOwn(item, 'items')) {\n                const searchItem = findDataPointer(item);\n                if (searchItem) { return searchItem; }\n              }\n            }\n          }\n        };\n        const childDataPointer = findDataPointer(newNode);\n        if (childDataPointer) {\n          newNode.dataPointer =\n            childDataPointer.slice(0, childDataPointer.lastIndexOf('/-'));\n        }\n      }\n    }\n\n    if (hasOwn(newNode, 'dataPointer')) {\n      if (newNode.dataPointer === '*') {\n        return buildLayoutFromSchema(jsf, widgetLibrary, jsf.formValues);\n      }\n      const nodeValue =\n        JsonPointer.get(jsf.formValues, newNode.dataPointer.replace(/\\/-/g, '/1'));\n\n      // TODO: Create function getFormValues(jsf, dataPointer, forRefLibrary)\n      // check formOptions.setSchemaDefaults and formOptions.setLayoutDefaults\n      // then set apropriate values from initialVaues, schema, or layout\n\n      newNode.dataPointer =\n        JsonPointer.toGenericPointer(newNode.dataPointer, jsf.arrayMap);\n      const LastKey = JsonPointer.toKey(newNode.dataPointer);\n      if (!newNode.name && isString(LastKey) && LastKey !== '-') {\n        newNode.name = LastKey;\n      }\n      const shortDataPointer = removeRecursiveReferences(\n        newNode.dataPointer, jsf.dataRecursiveRefMap, jsf.arrayMap\n      );\n      const recursive = !shortDataPointer.length ||\n        shortDataPointer !== newNode.dataPointer;\n      let schemaPointer: string;\n      if (!jsf.dataMap.has(shortDataPointer)) {\n        jsf.dataMap.set(shortDataPointer, new Map());\n      }\n      const nodeDataMap = jsf.dataMap.get(shortDataPointer);\n      if (nodeDataMap.has('schemaPointer')) {\n        schemaPointer = nodeDataMap.get('schemaPointer');\n      } else {\n        schemaPointer = JsonPointer.toSchemaPointer(shortDataPointer, jsf.schema);\n        nodeDataMap.set('schemaPointer', schemaPointer);\n      }\n      nodeDataMap.set('disabled', !!newNode.options.disabled);\n      nodeSchema = JsonPointer.get(jsf.schema, schemaPointer);\n      if (nodeSchema) {\n        if (!hasOwn(newNode, 'type')) {\n          newNode.type = getInputType(nodeSchema, newNode);\n        } else if (!widgetLibrary.hasWidget(newNode.type)) {\n          const oldWidgetType = newNode.type;\n          newNode.type = getInputType(nodeSchema, newNode);\n          console.error(`error: widget type \"${oldWidgetType}\" ` +\n            `not found in library. Replacing with \"${newNode.type}\".`);\n        } else {\n          newNode.type = checkInlineType(newNode.type, nodeSchema, newNode);\n        }\n        if (nodeSchema.type === 'object' && isArray(nodeSchema.required)) {\n          nodeDataMap.set('required', nodeSchema.required);\n        }\n        newNode.dataType =\n          nodeSchema.type || (hasOwn(nodeSchema, '$ref') ? '$ref' : null);\n        updateInputOptions(newNode, nodeSchema, jsf);\n\n        // Present checkboxes as single control, rather than array\n        if (newNode.type === 'checkboxes' && hasOwn(nodeSchema, 'items')) {\n          updateInputOptions(newNode, nodeSchema.items, jsf);\n        } else if (newNode.dataType === 'array') {\n          newNode.options.maxItems = Math.min(\n            nodeSchema.maxItems || 1000, newNode.options.maxItems || 1000\n          );\n          newNode.options.minItems = Math.max(\n            nodeSchema.minItems || 0, newNode.options.minItems || 0\n          );\n          newNode.options.listItems = Math.max(\n            newNode.options.listItems || 0, isArray(nodeValue) ? nodeValue.length : 0\n          );\n          newNode.options.tupleItems =\n            isArray(nodeSchema.items) ? nodeSchema.items.length : 0;\n          if (newNode.options.maxItems < newNode.options.tupleItems) {\n            newNode.options.tupleItems = newNode.options.maxItems;\n            newNode.options.listItems = 0;\n          } else if (newNode.options.maxItems <\n            newNode.options.tupleItems + newNode.options.listItems\n          ) {\n            newNode.options.listItems =\n              newNode.options.maxItems - newNode.options.tupleItems;\n          } else if (newNode.options.minItems >\n            newNode.options.tupleItems + newNode.options.listItems\n          ) {\n            newNode.options.listItems =\n              newNode.options.minItems - newNode.options.tupleItems;\n          }\n          if (!nodeDataMap.has('maxItems')) {\n            nodeDataMap.set('maxItems', newNode.options.maxItems);\n            nodeDataMap.set('minItems', newNode.options.minItems);\n            nodeDataMap.set('tupleItems', newNode.options.tupleItems);\n            nodeDataMap.set('listItems', newNode.options.listItems);\n          }\n          if (!jsf.arrayMap.has(shortDataPointer)) {\n            jsf.arrayMap.set(shortDataPointer, newNode.options.tupleItems);\n          }\n        }\n        if (isInputRequired(jsf.schema, schemaPointer)) {\n          newNode.options.required = true;\n          jsf.fieldsRequired = true;\n        }\n      } else {\n        // TODO: create item in FormGroup model from layout key (?)\n        updateInputOptions(newNode, {}, jsf);\n      }\n\n      if (!newNode.options.title && !/^\\d+$/.test(newNode.name)) {\n        newNode.options.title = fixTitle(newNode.name);\n      }\n\n      if (hasOwn(newNode.options, 'copyValueTo')) {\n        if (typeof newNode.options.copyValueTo === 'string') {\n          newNode.options.copyValueTo = [newNode.options.copyValueTo];\n        }\n        if (isArray(newNode.options.copyValueTo)) {\n          newNode.options.copyValueTo = newNode.options.copyValueTo.map(item =>\n            JsonPointer.compile(JsonPointer.parseObjectPath(item), '-')\n          );\n        }\n      }\n\n      newNode.widget = widgetLibrary.getWidget(newNode.type);\n      nodeDataMap.set('inputType', newNode.type);\n      nodeDataMap.set('widget', newNode.widget);\n\n      if (newNode.dataType === 'array' &&\n        (hasOwn(newNode, 'items') || hasOwn(newNode, 'additionalItems'))\n      ) {\n        const itemRefPointer = removeRecursiveReferences(\n          newNode.dataPointer + '/-', jsf.dataRecursiveRefMap, jsf.arrayMap\n        );\n        if (!jsf.dataMap.has(itemRefPointer)) {\n          jsf.dataMap.set(itemRefPointer, new Map());\n        }\n        jsf.dataMap.get(itemRefPointer).set('inputType', 'section');\n\n        // Fix insufficiently nested array item groups\n        if (newNode.items.length > 1) {\n          const arrayItemGroup = [];\n          for (let i = newNode.items.length - 1; i >= 0; i--) {\n            const subItem = newNode.items[i];\n            if (hasOwn(subItem, 'dataPointer') &&\n              subItem.dataPointer.slice(0, itemRefPointer.length) === itemRefPointer\n            ) {\n              const arrayItem = newNode.items.splice(i, 1)[0];\n              arrayItem.dataPointer = newNode.dataPointer + '/-' +\n                arrayItem.dataPointer.slice(itemRefPointer.length);\n              arrayItemGroup.unshift(arrayItem);\n            } else {\n              subItem.arrayItem = true;\n              // TODO: Check schema to get arrayItemType and removable\n              subItem.arrayItemType = 'list';\n              subItem.removable = newNode.options.removable !== false;\n            }\n          }\n          if (arrayItemGroup.length) {\n            newNode.items.push({\n              _id: uniqueId(),\n              arrayItem: true,\n              arrayItemType: newNode.options.tupleItems > newNode.items.length ?\n                'tuple' : 'list',\n              items: arrayItemGroup,\n              options: { removable: newNode.options.removable !== false, },\n              dataPointer: newNode.dataPointer + '/-',\n              type: 'section',\n              widget: widgetLibrary.getWidget('section'),\n            });\n          }\n        } else {\n          // TODO: Fix to hndle multiple items\n          newNode.items[0].arrayItem = true;\n          if (!newNode.items[0].dataPointer) {\n            newNode.items[0].dataPointer =\n              JsonPointer.toGenericPointer(itemRefPointer, jsf.arrayMap);\n          }\n          if (!JsonPointer.has(newNode, '/items/0/options/removable')) {\n            newNode.items[0].options.removable = true;\n          }\n          if (newNode.options.orderable === false) {\n            newNode.items[0].options.orderable = false;\n          }\n          newNode.items[0].arrayItemType =\n            newNode.options.tupleItems ? 'tuple' : 'list';\n        }\n\n        if (isArray(newNode.items)) {\n          const arrayListItems =\n            newNode.items.filter(item => item.type !== '$ref').length -\n            newNode.options.tupleItems;\n          if (arrayListItems > newNode.options.listItems) {\n            newNode.options.listItems = arrayListItems;\n            nodeDataMap.set('listItems', arrayListItems);\n          }\n        }\n\n        if (!hasOwn(jsf.layoutRefLibrary, itemRefPointer)) {\n          jsf.layoutRefLibrary[itemRefPointer] =\n            cloneDeep(newNode.items[newNode.items.length - 1]);\n          if (recursive) {\n            jsf.layoutRefLibrary[itemRefPointer].recursiveReference = true;\n          }\n          forEach(jsf.layoutRefLibrary[itemRefPointer], (item, key) => {\n            if (hasOwn(item, '_id')) { item._id = null; }\n            if (recursive) {\n              if (hasOwn(item, 'dataPointer')) {\n                item.dataPointer = item.dataPointer.slice(itemRefPointer.length);\n              }\n            }\n          }, 'top-down');\n        }\n\n        // Add any additional default items\n        if (!newNode.recursiveReference || newNode.options.required) {\n          const arrayLength = Math.min(Math.max(\n            newNode.options.tupleItems + newNode.options.listItems,\n            isArray(nodeValue) ? nodeValue.length : 0\n          ), newNode.options.maxItems);\n          for (let i = newNode.items.length; i < arrayLength; i++) {\n            newNode.items.push(getLayoutNode({\n              $ref: itemRefPointer,\n              dataPointer: newNode.dataPointer,\n              recursiveReference: newNode.recursiveReference,\n            }, jsf, widgetLibrary));\n          }\n        }\n\n        // If needed, add button to add items to array\n        if (newNode.options.addable !== false &&\n          newNode.options.minItems < newNode.options.maxItems &&\n          (newNode.items[newNode.items.length - 1] || {}).type !== '$ref'\n        ) {\n          let buttonText = 'Add';\n          if (newNode.options.title) {\n            if (/^add\\b/i.test(newNode.options.title)) {\n              buttonText = newNode.options.title;\n            } else {\n              buttonText += ' ' + newNode.options.title;\n            }\n          } else if (newNode.name && !/^\\d+$/.test(newNode.name)) {\n            if (/^add\\b/i.test(newNode.name)) {\n              buttonText += ' ' + fixTitle(newNode.name);\n            } else {\n              buttonText = fixTitle(newNode.name);\n            }\n\n            // If newNode doesn't have a title, look for title of parent array item\n          } else {\n            const parentSchema =\n              getFromSchema(jsf.schema, newNode.dataPointer, 'parentSchema');\n            if (hasOwn(parentSchema, 'title')) {\n              buttonText += ' to ' + parentSchema.title;\n            } else {\n              const pointerArray = JsonPointer.parse(newNode.dataPointer);\n              buttonText += ' to ' + fixTitle(pointerArray[pointerArray.length - 2]);\n            }\n          }\n          newNode.items.push({\n            _id: uniqueId(),\n            arrayItem: true,\n            arrayItemType: 'list',\n            dataPointer: newNode.dataPointer + '/-',\n            options: {\n              listItems: newNode.options.listItems,\n              maxItems: newNode.options.maxItems,\n              minItems: newNode.options.minItems,\n              removable: false,\n              title: buttonText,\n              tupleItems: newNode.options.tupleItems,\n            },\n            recursiveReference: recursive,\n            type: '$ref',\n            widget: widgetLibrary.getWidget('$ref'),\n            $ref: itemRefPointer,\n          });\n          if (isString(JsonPointer.get(newNode, '/style/add'))) {\n            newNode.items[newNode.items.length - 1].options.fieldStyle =\n              newNode.style.add;\n            delete newNode.style.add;\n            if (isEmpty(newNode.style)) { delete newNode.style; }\n          }\n        }\n      } else {\n        newNode.arrayItem = false;\n      }\n    } else if (hasOwn(newNode, 'type') || hasOwn(newNode, 'items')) {\n      const parentType: string =\n        JsonPointer.get(jsf.layout, layoutPointer, 0, -2).type;\n      if (!hasOwn(newNode, 'type')) {\n        newNode.type =\n          inArray(parentType, ['tabs', 'tabarray']) ? 'tab' : 'array';\n      }\n      newNode.arrayItem = parentType === 'array';\n      newNode.widget = widgetLibrary.getWidget(newNode.type);\n      updateInputOptions(newNode, {}, jsf);\n    }\n    if (newNode.type === 'submit') { hasSubmitButton = true; }\n    return newNode;\n  });\n  if (jsf.hasRootReference) {\n    const fullLayout = cloneDeep(formLayout);\n    if (fullLayout[fullLayout.length - 1].type === 'submit') { fullLayout.pop(); }\n    jsf.layoutRefLibrary[''] = {\n      _id: null,\n      dataPointer: '',\n      dataType: 'object',\n      items: fullLayout,\n      name: '',\n      options: cloneDeep(jsf.formOptions.defautWidgetOptions),\n      recursiveReference: true,\n      required: false,\n      type: 'section',\n      widget: widgetLibrary.getWidget('section'),\n    };\n  }\n  if (!hasSubmitButton) {\n    formLayout.push({\n      _id: uniqueId(),\n      options: { title: 'Submit' },\n      type: 'submit',\n      widget: widgetLibrary.getWidget('submit'),\n    });\n  }\n  return formLayout;\n}\n\n/**\n * 'buildLayoutFromSchema' function\n *\n * //   jsf -\n * //   widgetLibrary -\n * //   nodeValue -\n * //  { string = '' } schemaPointer -\n * //  { string = '' } dataPointer -\n * //  { boolean = false } arrayItem -\n * //  { string = null } arrayItemType -\n * //  { boolean = null } removable -\n * //  { boolean = false } forRefLibrary -\n * //  { string = '' } dataPointerPrefix -\n * //\n */\nexport function buildLayoutFromSchema(\n  jsf, widgetLibrary, nodeValue = null, schemaPointer = '',\n  dataPointer = '', arrayItem = false, arrayItemType: string = null,\n  removable: boolean = null, forRefLibrary = false, dataPointerPrefix = ''\n) {\n  const schema = JsonPointer.get(jsf.schema, schemaPointer);\n  if (!hasOwn(schema, 'type') && !hasOwn(schema, '$ref') &&\n    !hasOwn(schema, 'x-schema-form')\n  ) { return null; }\n  const newNodeType: string = getInputType(schema);\n  if (!isDefined(nodeValue) && (\n    jsf.formOptions.setSchemaDefaults === true ||\n    (jsf.formOptions.setSchemaDefaults === 'auto' && isEmpty(jsf.formValues))\n  )) {\n    nodeValue = JsonPointer.get(jsf.schema, schemaPointer + '/default');\n  }\n  let newNode: any = {\n    _id: forRefLibrary ? null : uniqueId(),\n    arrayItem: arrayItem,\n    dataPointer: JsonPointer.toGenericPointer(dataPointer, jsf.arrayMap),\n    dataType: schema.type || (hasOwn(schema, '$ref') ? '$ref' : null),\n    options: {},\n    required: isInputRequired(jsf.schema, schemaPointer),\n    type: newNodeType,\n    widget: widgetLibrary.getWidget(newNodeType),\n  };\n  const lastDataKey = JsonPointer.toKey(newNode.dataPointer);\n  if (lastDataKey !== '-') { newNode.name = lastDataKey; }\n  if (newNode.arrayItem) {\n    newNode.arrayItemType = arrayItemType;\n    newNode.options.removable = removable !== false;\n  }\n  const shortDataPointer = removeRecursiveReferences(\n    dataPointerPrefix + dataPointer, jsf.dataRecursiveRefMap, jsf.arrayMap\n  );\n  const recursive = !shortDataPointer.length ||\n    shortDataPointer !== dataPointerPrefix + dataPointer;\n  if (!jsf.dataMap.has(shortDataPointer)) {\n    jsf.dataMap.set(shortDataPointer, new Map());\n  }\n  const nodeDataMap = jsf.dataMap.get(shortDataPointer);\n  if (!nodeDataMap.has('inputType')) {\n    nodeDataMap.set('schemaPointer', schemaPointer);\n    nodeDataMap.set('inputType', newNode.type);\n    nodeDataMap.set('widget', newNode.widget);\n    nodeDataMap.set('disabled', !!newNode.options.disabled);\n  }\n  updateInputOptions(newNode, schema, jsf);\n  if (!newNode.options.title && newNode.name && !/^\\d+$/.test(newNode.name)) {\n    newNode.options.title = fixTitle(newNode.name);\n  }\n\n  if (newNode.dataType === 'object') {\n    if (isArray(schema.required) && !nodeDataMap.has('required')) {\n      nodeDataMap.set('required', schema.required);\n    }\n    if (isObject(schema.properties)) {\n      const newSection: any[] = [];\n      const propertyKeys = schema['ui:order'] || Object.keys(schema.properties);\n      if (propertyKeys.includes('*') && !hasOwn(schema.properties, '*')) {\n        const unnamedKeys = Object.keys(schema.properties)\n          .filter(key => !propertyKeys.includes(key));\n        for (let i = propertyKeys.length - 1; i >= 0; i--) {\n          if (propertyKeys[i] === '*') {\n            propertyKeys.splice(i, 1, ...unnamedKeys);\n          }\n        }\n      }\n      propertyKeys\n        .filter(key => hasOwn(schema.properties, key) ||\n          hasOwn(schema, 'additionalProperties')\n        )\n        .forEach(key => {\n          const keySchemaPointer = hasOwn(schema.properties, key) ?\n            '/properties/' + key : '/additionalProperties';\n          const innerItem = buildLayoutFromSchema(\n            jsf, widgetLibrary, isObject(nodeValue) ? nodeValue[key] : null,\n            schemaPointer + keySchemaPointer,\n            dataPointer + '/' + key,\n            false, null, null, forRefLibrary, dataPointerPrefix\n          );\n          if (innerItem) {\n            if (isInputRequired(schema, '/' + key)) {\n              innerItem.options.required = true;\n              jsf.fieldsRequired = true;\n            }\n            newSection.push(innerItem);\n          }\n        });\n      if (dataPointer === '' && !forRefLibrary) {\n        newNode = newSection;\n      } else {\n        newNode.items = newSection;\n      }\n    }\n    // TODO: Add patternProperties and additionalProperties inputs?\n    // ... possibly provide a way to enter both key names and values?\n    // if (isObject(schema.patternProperties)) { }\n    // if (isObject(schema.additionalProperties)) { }\n\n  } else if (newNode.dataType === 'array') {\n    newNode.items = [];\n    newNode.options.maxItems = Math.min(\n      schema.maxItems || 1000, newNode.options.maxItems || 1000\n    );\n    newNode.options.minItems = Math.max(\n      schema.minItems || 0, newNode.options.minItems || 0\n    );\n    if (!newNode.options.minItems && isInputRequired(jsf.schema, schemaPointer)) {\n      newNode.options.minItems = 1;\n    }\n    if (!hasOwn(newNode.options, 'listItems')) { newNode.options.listItems = 1; }\n    newNode.options.tupleItems = isArray(schema.items) ? schema.items.length : 0;\n    if (newNode.options.maxItems <= newNode.options.tupleItems) {\n      newNode.options.tupleItems = newNode.options.maxItems;\n      newNode.options.listItems = 0;\n    } else if (newNode.options.maxItems <\n      newNode.options.tupleItems + newNode.options.listItems\n    ) {\n      newNode.options.listItems = newNode.options.maxItems - newNode.options.tupleItems;\n    } else if (newNode.options.minItems >\n      newNode.options.tupleItems + newNode.options.listItems\n    ) {\n      newNode.options.listItems = newNode.options.minItems - newNode.options.tupleItems;\n    }\n    if (!nodeDataMap.has('maxItems')) {\n      nodeDataMap.set('maxItems', newNode.options.maxItems);\n      nodeDataMap.set('minItems', newNode.options.minItems);\n      nodeDataMap.set('tupleItems', newNode.options.tupleItems);\n      nodeDataMap.set('listItems', newNode.options.listItems);\n    }\n    if (!jsf.arrayMap.has(shortDataPointer)) {\n      jsf.arrayMap.set(shortDataPointer, newNode.options.tupleItems);\n    }\n    removable = newNode.options.removable !== false;\n    let additionalItemsSchemaPointer: string = null;\n\n    // If 'items' is an array = tuple items\n    if (isArray(schema.items)) {\n      newNode.items = [];\n      for (let i = 0; i < newNode.options.tupleItems; i++) {\n        let newItem: any;\n        const itemRefPointer = removeRecursiveReferences(\n          shortDataPointer + '/' + i, jsf.dataRecursiveRefMap, jsf.arrayMap\n        );\n        const itemRecursive = !itemRefPointer.length ||\n          itemRefPointer !== shortDataPointer + '/' + i;\n\n        // If removable, add tuple item layout to layoutRefLibrary\n        if (removable && i >= newNode.options.minItems) {\n          if (!hasOwn(jsf.layoutRefLibrary, itemRefPointer)) {\n            // Set to null first to prevent recursive reference from causing endless loop\n            jsf.layoutRefLibrary[itemRefPointer] = null;\n            jsf.layoutRefLibrary[itemRefPointer] = buildLayoutFromSchema(\n              jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null,\n              schemaPointer + '/items/' + i,\n              itemRecursive ? '' : dataPointer + '/' + i,\n              true, 'tuple', true, true, itemRecursive ? dataPointer + '/' + i : ''\n            );\n            if (itemRecursive) {\n              jsf.layoutRefLibrary[itemRefPointer].recursiveReference = true;\n            }\n          }\n          newItem = getLayoutNode({\n            $ref: itemRefPointer,\n            dataPointer: dataPointer + '/' + i,\n            recursiveReference: itemRecursive,\n          }, jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null);\n        } else {\n          newItem = buildLayoutFromSchema(\n            jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null,\n            schemaPointer + '/items/' + i,\n            dataPointer + '/' + i,\n            true, 'tuple', false, forRefLibrary, dataPointerPrefix\n          );\n        }\n        if (newItem) { newNode.items.push(newItem); }\n      }\n\n      // If 'additionalItems' is an object = additional list items, after tuple items\n      if (isObject(schema.additionalItems)) {\n        additionalItemsSchemaPointer = schemaPointer + '/additionalItems';\n      }\n\n      // If 'items' is an object = list items only (no tuple items)\n    } else if (isObject(schema.items)) {\n      additionalItemsSchemaPointer = schemaPointer + '/items';\n    }\n\n    if (additionalItemsSchemaPointer) {\n      const itemRefPointer = removeRecursiveReferences(\n        shortDataPointer + '/-', jsf.dataRecursiveRefMap, jsf.arrayMap\n      );\n      const itemRecursive = !itemRefPointer.length ||\n        itemRefPointer !== shortDataPointer + '/-';\n      const itemSchemaPointer = removeRecursiveReferences(\n        additionalItemsSchemaPointer, jsf.schemaRecursiveRefMap, jsf.arrayMap\n      );\n      // Add list item layout to layoutRefLibrary\n      if (itemRefPointer.length && !hasOwn(jsf.layoutRefLibrary, itemRefPointer)) {\n        // Set to null first to prevent recursive reference from causing endless loop\n        jsf.layoutRefLibrary[itemRefPointer] = null;\n        jsf.layoutRefLibrary[itemRefPointer] = buildLayoutFromSchema(\n          jsf, widgetLibrary, null,\n          itemSchemaPointer,\n          itemRecursive ? '' : dataPointer + '/-',\n          true, 'list', removable, true, itemRecursive ? dataPointer + '/-' : ''\n        );\n        if (itemRecursive) {\n          jsf.layoutRefLibrary[itemRefPointer].recursiveReference = true;\n        }\n      }\n\n      // Add any additional default items\n      if (!itemRecursive || newNode.options.required) {\n        const arrayLength = Math.min(Math.max(\n          itemRecursive ? 0 :\n            newNode.options.tupleItems + newNode.options.listItems,\n          isArray(nodeValue) ? nodeValue.length : 0\n        ), newNode.options.maxItems);\n        if (newNode.items.length < arrayLength) {\n          for (let i = newNode.items.length; i < arrayLength; i++) {\n            newNode.items.push(getLayoutNode({\n              $ref: itemRefPointer,\n              dataPointer: dataPointer + '/-',\n              recursiveReference: itemRecursive,\n            }, jsf, widgetLibrary, isArray(nodeValue) ? nodeValue[i] : null));\n          }\n        }\n      }\n\n      // If needed, add button to add items to array\n      if (newNode.options.addable !== false &&\n        newNode.options.minItems < newNode.options.maxItems &&\n        (newNode.items[newNode.items.length - 1] || {}).type !== '$ref'\n      ) {\n        let buttonText =\n          ((jsf.layoutRefLibrary[itemRefPointer] || {}).options || {}).title;\n        const prefix = buttonText ? 'Add ' : 'Add to ';\n        if (!buttonText) {\n          buttonText = schema.title || fixTitle(JsonPointer.toKey(dataPointer));\n        }\n        if (!/^add\\b/i.test(buttonText)) { buttonText = prefix + buttonText; }\n        newNode.items.push({\n          _id: uniqueId(),\n          arrayItem: true,\n          arrayItemType: 'list',\n          dataPointer: newNode.dataPointer + '/-',\n          options: {\n            listItems: newNode.options.listItems,\n            maxItems: newNode.options.maxItems,\n            minItems: newNode.options.minItems,\n            removable: false,\n            title: buttonText,\n            tupleItems: newNode.options.tupleItems,\n          },\n          recursiveReference: itemRecursive,\n          type: '$ref',\n          widget: widgetLibrary.getWidget('$ref'),\n          $ref: itemRefPointer,\n        });\n      }\n    }\n\n  } else if (newNode.dataType === '$ref') {\n    const schemaRef = JsonPointer.compile(schema.$ref);\n    const dataRef = JsonPointer.toDataPointer(schemaRef, jsf.schema);\n    let buttonText = '';\n\n    // Get newNode title\n    if (newNode.options.add) {\n      buttonText = newNode.options.add;\n    } else if (newNode.name && !/^\\d+$/.test(newNode.name)) {\n      buttonText =\n        (/^add\\b/i.test(newNode.name) ? '' : 'Add ') + fixTitle(newNode.name);\n\n      // If newNode doesn't have a title, look for title of parent array item\n    } else {\n      const parentSchema =\n        JsonPointer.get(jsf.schema, schemaPointer, 0, -1);\n      if (hasOwn(parentSchema, 'title')) {\n        buttonText = 'Add to ' + parentSchema.title;\n      } else {\n        const pointerArray = JsonPointer.parse(newNode.dataPointer);\n        buttonText = 'Add to ' + fixTitle(pointerArray[pointerArray.length - 2]);\n      }\n    }\n    Object.assign(newNode, {\n      recursiveReference: true,\n      widget: widgetLibrary.getWidget('$ref'),\n      $ref: dataRef,\n    });\n    Object.assign(newNode.options, {\n      removable: false,\n      title: buttonText,\n    });\n    if (isNumber(JsonPointer.get(jsf.schema, schemaPointer, 0, -1).maxItems)) {\n      newNode.options.maxItems =\n        JsonPointer.get(jsf.schema, schemaPointer, 0, -1).maxItems;\n    }\n\n    // Add layout template to layoutRefLibrary\n    if (dataRef.length) {\n      if (!hasOwn(jsf.layoutRefLibrary, dataRef)) {\n        // Set to null first to prevent recursive reference from causing endless loop\n        jsf.layoutRefLibrary[dataRef] = null;\n        const newLayout = buildLayoutFromSchema(\n          jsf, widgetLibrary, null, schemaRef, '',\n          newNode.arrayItem, newNode.arrayItemType, true, true, dataPointer\n        );\n        if (newLayout) {\n          newLayout.recursiveReference = true;\n          jsf.layoutRefLibrary[dataRef] = newLayout;\n        } else {\n          delete jsf.layoutRefLibrary[dataRef];\n        }\n      } else if (!jsf.layoutRefLibrary[dataRef].recursiveReference) {\n        jsf.layoutRefLibrary[dataRef].recursiveReference = true;\n      }\n    }\n  }\n  return newNode;\n}\n\n/**\n * 'mapLayout' function\n *\n * Creates a new layout by running each element in an existing layout through\n * an iteratee. Recursively maps within array elements 'items' and 'tabs'.\n * The iteratee is invoked with four arguments: (value, index, layout, path)\n *\n * The returned layout may be longer (or shorter) then the source layout.\n *\n * If an item from the source layout returns multiple items (as '*' usually will),\n * this function will keep all returned items in-line with the surrounding items.\n *\n * If an item from the source layout causes an error and returns null, it is\n * skipped without error, and the function will still return all non-null items.\n *\n * //   layout - the layout to map\n * //  { (v: any, i?: number, l?: any, p?: string) => any }\n *   function - the funciton to invoke on each element\n * //  { string|string[] = '' } layoutPointer - the layoutPointer to layout, inside rootLayout\n * //  { any[] = layout } rootLayout - the root layout, which conatins layout\n * //\n */\nexport function mapLayout(layout, fn, layoutPointer = '', rootLayout = layout) {\n  let indexPad = 0;\n  let newLayout: any[] = [];\n  forEach(layout, (item, index) => {\n    const realIndex = +index + indexPad;\n    const newLayoutPointer = layoutPointer + '/' + realIndex;\n    let newNode: any = copy(item);\n    let itemsArray: any[] = [];\n    if (isObject(item)) {\n      if (hasOwn(item, 'tabs')) {\n        item.items = item.tabs;\n        delete item.tabs;\n      }\n      if (hasOwn(item, 'items')) {\n        itemsArray = isArray(item.items) ? item.items : [item.items];\n      }\n    }\n    if (itemsArray.length) {\n      newNode.items = mapLayout(itemsArray, fn, newLayoutPointer + '/items', rootLayout);\n    }\n    newNode = fn(newNode, realIndex, newLayoutPointer, rootLayout);\n    if (!isDefined(newNode)) {\n      indexPad--;\n    } else {\n      if (isArray(newNode)) { indexPad += newNode.length - 1; }\n      newLayout = newLayout.concat(newNode);\n    }\n  });\n  return newLayout;\n}\n\n/**\n * 'getLayoutNode' function\n * Copy a new layoutNode from layoutRefLibrary\n *\n * //   refNode -\n * //   layoutRefLibrary -\n * //  { any = null } widgetLibrary -\n * //  { any = null } nodeValue -\n * //  copied layoutNode\n */\nexport function getLayoutNode(\n  refNode, jsf, widgetLibrary: any = null, nodeValue: any = null\n) {\n\n  // If recursive reference and building initial layout, return Add button\n  if (refNode.recursiveReference && widgetLibrary) {\n    const newLayoutNode = cloneDeep(refNode);\n    if (!newLayoutNode.options) { newLayoutNode.options = {}; }\n    Object.assign(newLayoutNode, {\n      recursiveReference: true,\n      widget: widgetLibrary.getWidget('$ref'),\n    });\n    Object.assign(newLayoutNode.options, {\n      removable: false,\n      title: 'Add ' + newLayoutNode.$ref,\n    });\n    return newLayoutNode;\n\n    // Otherwise, return referenced layout\n  } else {\n    let newLayoutNode = jsf.layoutRefLibrary[refNode.$ref];\n    // If value defined, build new node from schema (to set array lengths)\n    if (isDefined(nodeValue)) {\n      newLayoutNode = buildLayoutFromSchema(\n        jsf, widgetLibrary, nodeValue,\n        JsonPointer.toSchemaPointer(refNode.$ref, jsf.schema),\n        refNode.$ref, newLayoutNode.arrayItem,\n        newLayoutNode.arrayItemType, newLayoutNode.options.removable, false\n      );\n    } else {\n      // If value not defined, copy node from layoutRefLibrary\n      newLayoutNode = cloneDeep(newLayoutNode);\n      JsonPointer.forEachDeep(newLayoutNode, (subNode, pointer) => {\n\n        // Reset all _id's in newLayoutNode to unique values\n        if (hasOwn(subNode, '_id')) { subNode._id = uniqueId(); }\n\n        // If adding a recursive item, prefix current dataPointer\n        // to all dataPointers in new layoutNode\n        if (refNode.recursiveReference && hasOwn(subNode, 'dataPointer')) {\n          subNode.dataPointer = refNode.dataPointer + subNode.dataPointer;\n        }\n      });\n    }\n    return newLayoutNode;\n  }\n}\n\n/**\n * 'buildTitleMap' function\n *\n * //   titleMap -\n * //   enumList -\n * //  { boolean = true } fieldRequired -\n * //  { boolean = true } flatList -\n * // { TitleMapItem[] }\n */\nexport function buildTitleMap(\n  titleMap, enumList, fieldRequired = true, flatList = true\n) {\n  let newTitleMap: TitleMapItem[] = [];\n  let hasEmptyValue = false;\n  if (titleMap) {\n    if (isArray(titleMap)) {\n      if (enumList) {\n        for (const i of Object.keys(titleMap)) {\n          if (isObject(titleMap[i])) { // JSON Form style\n            const value = titleMap[i].value;\n            if (enumList.includes(value)) {\n              const name = titleMap[i].name;\n              newTitleMap.push({ name, value });\n              if (value === undefined || value === null) { hasEmptyValue = true; }\n            }\n          } else if (isString(titleMap[i])) { // React Jsonschema Form style\n            if (i < enumList.length) {\n              const name = titleMap[i];\n              const value = enumList[i];\n              newTitleMap.push({ name, value });\n              if (value === undefined || value === null) { hasEmptyValue = true; }\n            }\n          }\n        }\n      } else { // If array titleMap and no enum list, just return the titleMap - Angular Schema Form style\n        newTitleMap = titleMap;\n        if (!fieldRequired) {\n          hasEmptyValue = !!newTitleMap\n            .filter(i => i.value === undefined || i.value === null)\n            .length;\n        }\n      }\n    } else if (enumList) { // Alternate JSON Form style, with enum list\n      for (const i of Object.keys(enumList)) {\n        const value = enumList[i];\n        if (hasOwn(titleMap, value)) {\n          const name = titleMap[value];\n          newTitleMap.push({ name, value });\n          if (value === undefined || value === null) { hasEmptyValue = true; }\n        }\n      }\n    } else { // Alternate JSON Form style, without enum list\n      for (const value of Object.keys(titleMap)) {\n        const name = titleMap[value];\n        newTitleMap.push({ name, value });\n        if (value === undefined || value === null) { hasEmptyValue = true; }\n      }\n    }\n  } else if (enumList) { // Build map from enum list alone\n    for (const i of Object.keys(enumList)) {\n      const name = enumList[i];\n      const value = enumList[i];\n      newTitleMap.push({ name, value });\n      if (value === undefined || value === null) { hasEmptyValue = true; }\n    }\n  } else { // If no titleMap and no enum list, return default map of boolean values\n    newTitleMap = [{ name: 'True', value: true }, { name: 'False', value: false }];\n  }\n\n  // Does titleMap have groups?\n  if (newTitleMap.some(title => hasOwn(title, 'group'))) {\n    hasEmptyValue = false;\n\n    // If flatList = true, flatten items & update name to group: name\n    if (flatList) {\n      newTitleMap = newTitleMap.reduce((groupTitleMap, title) => {\n        if (hasOwn(title, 'group')) {\n          if (isArray(title.items)) {\n            groupTitleMap = [\n              ...groupTitleMap,\n              ...title.items.map(item =>\n                ({ ...item, ...{ name: `${title.group}: ${item.name}` } })\n              )\n            ];\n            if (title.items.some(item => item.value === undefined || item.value === null)) {\n              hasEmptyValue = true;\n            }\n          }\n          if (hasOwn(title, 'name') && hasOwn(title, 'value')) {\n            title.name = `${title.group}: ${title.name}`;\n            delete title.group;\n            groupTitleMap.push(title);\n            if (title.value === undefined || title.value === null) {\n              hasEmptyValue = true;\n            }\n          }\n        } else {\n          groupTitleMap.push(title);\n          if (title.value === undefined || title.value === null) {\n            hasEmptyValue = true;\n          }\n        }\n        return groupTitleMap;\n      }, []);\n\n      // If flatList = false, combine items from matching groups\n    } else {\n      newTitleMap = newTitleMap.reduce((groupTitleMap, title) => {\n        if (hasOwn(title, 'group')) {\n          if (title.group !== (groupTitleMap[groupTitleMap.length - 1] || {}).group) {\n            groupTitleMap.push({ group: title.group, items: title.items || [] });\n          }\n          if (hasOwn(title, 'name') && hasOwn(title, 'value')) {\n            groupTitleMap[groupTitleMap.length - 1].items\n              .push({ name: title.name, value: title.value });\n            if (title.value === undefined || title.value === null) {\n              hasEmptyValue = true;\n            }\n          }\n        } else {\n          groupTitleMap.push(title);\n          if (title.value === undefined || title.value === null) {\n            hasEmptyValue = true;\n          }\n        }\n        return groupTitleMap;\n      }, []);\n    }\n  }\n  if (!fieldRequired && !hasEmptyValue) {\n    newTitleMap.unshift({ name: '<em>None</em>', value: null });\n  }\n  return newTitleMap;\n}\n","export const longMonths = ['January', 'February', 'March', 'April', 'May', 'June',\n    'July', 'August', 'September', 'October', 'November', 'December'];\nexport const longDays = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nexport const shortMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nexport const shortDays = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n","import { longDays, longMonths, shortDays, shortMonths } from '../locale-dates/en-US';\n\n/**\n *\n * @param date\n * @param options\n * return a date string which follows the JSON schema standard\n */\nexport function dateToString(date: string | Date, options: any = {}): string {\n  const dateFormat = options.dateFormat || 'YYYY-MM-DD';\n  // TODO: Use options.locale to change default format and names\n  // const locale = options.locale || 'en-US';\n  date = new Date(date || undefined);\n  if (!date.getDate()) { return null; }\n  const year = date.getFullYear().toString();\n  const month = date.getMonth();\n  const day = date.getDate();\n  const dayOfWeek = date.getDay();\n  return dateFormat\n    .replace(/S/g, getOrdinal(day))\n    .replace(/YYYY/g, year)\n    .replace(/YY/g, year.slice(-2))\n    .replace(/MMMM/g, longMonths[month])\n    .replace(/MMM/g, shortMonths[month])\n    .replace(/MM/g, ('0' + (month + 1)).slice(-2))\n    .replace(/M/g, month + 1)\n    .replace(/DDDD/g, longDays[dayOfWeek])\n    .replace(/DDD/g, shortDays[dayOfWeek])\n    .replace(/DD/g, ('0' + day).slice(-2))\n    .replace(/D/g, day);\n}\n\nexport function getOrdinal(day: number): string {\n  if (day > 3 && day < 21) { return 'th'; }\n  switch (day % 10) {\n    case 1: return 'st';\n    case 2: return 'nd';\n    case 3: return 'rd';\n    default: return 'th';\n  }\n}\n","export const enValidationMessages: any = { // Default English error messages\n  required: 'This field is required.',\n  minLength: 'Must be {{minimumLength}} characters or longer (current length: {{currentLength}})',\n  maxLength: 'Must be {{maximumLength}} characters or shorter (current length: {{currentLength}})',\n  pattern: 'Must match pattern: {{requiredPattern}}',\n  format: function (error) {\n    switch (error.requiredFormat) {\n      case 'date':\n        return 'Must be a date, like \"2000-12-31\"';\n      case 'time':\n        return 'Must be a time, like \"16:20\" or \"03:14:15.9265\"';\n      case 'date-time':\n        return 'Must be a date-time, like \"2000-03-14T01:59\" or \"2000-03-14T01:59:26.535Z\"';\n      case 'email':\n        return 'Must be an email address, like \"name@example.com\"';\n      case 'hostname':\n        return 'Must be a hostname, like \"example.com\"';\n      case 'ipv4':\n        return 'Must be an IPv4 address, like \"127.0.0.1\"';\n      case 'ipv6':\n        return 'Must be an IPv6 address, like \"1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0\"';\n      // TODO: add examples for 'uri', 'uri-reference', and 'uri-template'\n      // case 'uri': case 'uri-reference': case 'uri-template':\n      case 'url':\n        return 'Must be a url, like \"http://www.example.com/page.html\"';\n      case 'uuid':\n        return 'Must be a uuid, like \"12345678-9ABC-DEF0-1234-56789ABCDEF0\"';\n      case 'color':\n        return 'Must be a color, like \"#FFFFFF\" or \"rgb(255, 255, 255)\"';\n      case 'json-pointer':\n        return 'Must be a JSON Pointer, like \"/pointer/to/something\"';\n      case 'relative-json-pointer':\n        return 'Must be a relative JSON Pointer, like \"2/pointer/to/something\"';\n      case 'regex':\n        return 'Must be a regular expression, like \"(1-)?\\\\d{3}-\\\\d{3}-\\\\d{4}\"';\n      default:\n        return 'Must be a correctly formatted ' + error.requiredFormat;\n    }\n  },\n  minimum: 'Must be {{minimumValue}} or more',\n  exclusiveMinimum: 'Must be more than {{exclusiveMinimumValue}}',\n  maximum: 'Must be {{maximumValue}} or less',\n  exclusiveMaximum: 'Must be less than {{exclusiveMaximumValue}}',\n  multipleOf: function (error) {\n    if ((1 / error.multipleOfValue) % 10 === 0) {\n      const decimals = Math.log10(1 / error.multipleOfValue);\n      return `Must have ${decimals} or fewer decimal places.`;\n    } else {\n      return `Must be a multiple of ${error.multipleOfValue}.`;\n    }\n  },\n  minProperties: 'Must have {{minimumProperties}} or more items (current items: {{currentProperties}})',\n  maxProperties: 'Must have {{maximumProperties}} or fewer items (current items: {{currentProperties}})',\n  minItems: 'Must have {{minimumItems}} or more items (current items: {{currentItems}})',\n  maxItems: 'Must have {{maximumItems}} or fewer items (current items: {{currentItems}})',\n  uniqueItems: 'All items must be unique',\n  // Note: No default error messages for 'type', 'const', 'enum', or 'dependencies'\n};\n","export const frValidationMessages: any = { // French error messages\n  required: 'Est obligatoire.',\n  minLength: 'Doit avoir minimum {{minimumLength}} caractÃ¨res (actuellement: {{currentLength}})',\n  maxLength: 'Doit avoir maximum {{maximumLength}} caractÃ¨res (actuellement: {{currentLength}})',\n  pattern: 'Doit respecter: {{requiredPattern}}',\n  format: function (error) {\n    switch (error.requiredFormat) {\n      case 'date':\n        return 'Doit Ãªtre une date, tel que \"2000-12-31\"';\n      case 'time':\n        return 'Doit Ãªtre une heure, tel que \"16:20\" ou \"03:14:15.9265\"';\n      case 'date-time':\n        return 'Doit Ãªtre une date et une heure, tel que \"2000-03-14T01:59\" ou \"2000-03-14T01:59:26.535Z\"';\n      case 'email':\n        return 'Doit Ãªtre une adresse e-mail, tel que \"name@example.com\"';\n      case 'hostname':\n        return 'Doit Ãªtre un nom de domaine, tel que \"example.com\"';\n      case 'ipv4':\n        return 'Doit Ãªtre une adresse IPv4, tel que \"127.0.0.1\"';\n      case 'ipv6':\n        return 'Doit Ãªtre une adresse IPv6, tel que \"1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0\"';\n      // TODO: add examples for 'uri', 'uri-reference', and 'uri-template'\n      // case 'uri': case 'uri-reference': case 'uri-template':\n      case 'url':\n        return 'Doit Ãªtre une URL, tel que \"http://www.example.com/page.html\"';\n      case 'uuid':\n        return 'Doit Ãªtre un UUID, tel que \"12345678-9ABC-DEF0-1234-56789ABCDEF0\"';\n      case 'color':\n        return 'Doit Ãªtre une couleur, tel que \"#FFFFFF\" or \"rgb(255, 255, 255)\"';\n      case 'json-pointer':\n        return 'Doit Ãªtre un JSON Pointer, tel que \"/pointer/to/something\"';\n      case 'relative-json-pointer':\n        return 'Doit Ãªtre un relative JSON Pointer, tel que \"2/pointer/to/something\"';\n      case 'regex':\n        return 'Doit Ãªtre une expression rÃ©guliÃ¨re, tel que \"(1-)?\\\\d{3}-\\\\d{3}-\\\\d{4}\"';\n      default:\n        return 'Doit Ãªtre avoir le format correct: ' + error.requiredFormat;\n    }\n  },\n  minimum: 'Doit Ãªtre supÃ©rieur Ã  {{minimumValue}}',\n  exclusiveMinimum: 'Doit avoir minimum {{exclusiveMinimumValue}} charactÃ¨res',\n  maximum: 'Doit Ãªtre infÃ©rieur Ã  {{maximumValue}}',\n  exclusiveMaximum: 'Doit avoir maximum {{exclusiveMaximumValue}} charactÃ¨res',\n  multipleOf: function (error) {\n    if ((1 / error.multipleOfValue) % 10 === 0) {\n      const decimals = Math.log10(1 / error.multipleOfValue);\n      return `Doit comporter ${decimals} ou moins de decimales.`;\n    } else {\n      return `Doit Ãªtre un multiple de ${error.multipleOfValue}.`;\n    }\n  },\n  minProperties: 'Doit comporter au minimum {{minimumProperties}} Ã©lÃ©ments',\n  maxProperties: 'Doit comporter au maximum {{maximumProperties}} Ã©lÃ©ments',\n  minItems: 'Doit comporter au minimum {{minimumItems}} Ã©lÃ©ments',\n  maxItems: 'Doit comporter au maximum {{minimumItems}} Ã©lÃ©ments',\n  uniqueItems: 'Tous les Ã©lÃ©ments doivent Ãªtre uniques',\n  // Note: No default error messages for 'type', 'const', 'enum', or 'dependencies'\n};\n","export const itValidationMessages: any = { // Default Italian error messages\n  required: 'Il campo Ã¨ obbligatorio',\n  minLength: 'Deve inserire almeno {{minimumLength}} caratteri (lunghezza corrente: {{currentLength}})',\n  maxLength: 'Il numero massimo di caratteri consentito Ã¨ {{maximumLength}} (lunghezza corrente: {{currentLength}})',\n  pattern: 'Devi rispettare il pattern : {{requiredPattern}}',\n  format: function (error) {\n    switch (error.requiredFormat) {\n      case 'date':\n        return 'Deve essere una data, come \"31-12-2000\"';\n      case 'time':\n        return 'Deve essere un orario, come \"16:20\" o \"03:14:15.9265\"';\n      case 'date-time':\n        return 'Deve essere data-orario, come \"14-03-2000T01:59\" or \"14-03-2000T01:59:26.535Z\"';\n      case 'email':\n        return 'Deve essere un indirzzo email, come \"name@example.com\"';\n      case 'hostname':\n        return 'Deve essere un hostname, come \"example.com\"';\n      case 'ipv4':\n        return 'Deve essere un indirizzo IPv4, come \"127.0.0.1\"';\n      case 'ipv6':\n        return 'Deve essere un indirizzo IPv6, come \"1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0\"';\n      // TODO: add examples for 'uri', 'uri-reference', and 'uri-template'\n      // case 'uri': case 'uri-reference': case 'uri-template':\n      case 'url':\n        return 'Deve essere un url, come \"http://www.example.com/page.html\"';\n      case 'uuid':\n        return 'Deve essere un uuid, come \"12345678-9ABC-DEF0-1234-56789ABCDEF0\"';\n      case 'color':\n        return 'Deve essere un colore, come \"#FFFFFF\" o \"rgb(255, 255, 255)\"';\n      case 'json-pointer':\n        return 'Deve essere un JSON Pointer, come \"/pointer/to/something\"';\n      case 'relative-json-pointer':\n        return 'Deve essere un JSON Pointer relativo, come \"2/pointer/to/something\"';\n      case 'regex':\n        return 'Deve essere una regular expression, come \"(1-)?\\\\d{3}-\\\\d{3}-\\\\d{4}\"';\n      default:\n        return 'Deve essere formattato correttamente ' + error.requiredFormat;\n    }\n  },\n  minimum: 'Deve essere {{minimumValue}} o piÃ¹',\n  exclusiveMinimum: 'Deve essere piÃ¹ di {{exclusiveMinimumValue}}',\n  maximum: 'Deve essere {{maximumValue}} o meno',\n  exclusiveMaximum: 'Deve essere minore di {{exclusiveMaximumValue}}',\n  multipleOf: function (error) {\n    if ((1 / error.multipleOfValue) % 10 === 0) {\n      const decimals = Math.log10(1 / error.multipleOfValue);\n      return `Deve avere ${decimals} o meno decimali.`;\n    } else {\n      return `Deve essere multiplo di ${error.multipleOfValue}.`;\n    }\n  },\n  minProperties: 'Deve avere {{minimumProperties}} o piÃ¹ elementi (elementi correnti: {{currentProperties}})',\n  maxProperties: 'Deve avere {{maximumProperties}} o meno elementi (elementi correnti: {{currentProperties}})',\n  minItems: 'Deve avere {{minimumItems}} o piÃ¹ elementi (elementi correnti: {{currentItems}})',\n  maxItems: 'Deve avere {{maximumItems}} o meno elementi (elementi correnti: {{currentItems}})',\n  uniqueItems: 'Tutti gli elementi devono essere unici',\n  // Note: No default error messages for 'type', 'const', 'enum', or 'dependencies'\n};\n","export const ptValidationMessages: any = { // Brazilian Portuguese error messages\n  required: 'Este campo Ã© obrigatÃ³rio.',\n  minLength: 'Ã preciso no mÃ­nimo {{minimumLength}} caracteres ou mais (tamanho atual: {{currentLength}})',\n  maxLength: 'Ã preciso no mÃ¡ximo  {{maximumLength}} caracteres ou menos (tamanho atual: {{currentLength}})',\n  pattern: 'Tem que ajustar ao formato: {{requiredPattern}}',\n  format: function (error) {\n    switch (error.requiredFormat) {\n      case 'date':\n        return 'Tem que ser uma data, por exemplo \"2000-12-31\"';\n      case 'time':\n        return 'Tem que ser horÃ¡rio, por exemplo \"16:20\" ou \"03:14:15.9265\"';\n      case 'date-time':\n        return 'Tem que ser data e hora, por exemplo \"2000-03-14T01:59\" ou \"2000-03-14T01:59:26.535Z\"';\n      case 'email':\n        return 'Tem que ser um email, por exemplo \"fulano@exemplo.com.br\"';\n      case 'hostname':\n        return 'Tem que ser uma nome de domÃ­nio, por exemplo \"exemplo.com.br\"';\n      case 'ipv4':\n        return 'Tem que ser um endereÃ§o IPv4, por exemplo \"127.0.0.1\"';\n      case 'ipv6':\n        return 'Tem que ser um endereÃ§o IPv6, por exemplo \"1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0\"';\n      // TODO: add examples for 'uri', 'uri-reference', and 'uri-template'\n      // case 'uri': case 'uri-reference': case 'uri-template':\n      case 'url':\n        return 'Tem que ser uma URL, por exemplo \"http://www.exemplo.com.br/pagina.html\"';\n      case 'uuid':\n        return 'Tem que ser um uuid, por exemplo \"12345678-9ABC-DEF0-1234-56789ABCDEF0\"';\n      case 'color':\n        return 'Tem que ser uma cor, por exemplo \"#FFFFFF\" ou \"rgb(255, 255, 255)\"';\n      case 'json-pointer':\n        return 'Tem que ser um JSON Pointer, por exemplo \"/referencia/para/algo\"';\n      case 'relative-json-pointer':\n        return 'Tem que ser um JSON Pointer relativo, por exemplo \"2/referencia/para/algo\"';\n      case 'regex':\n        return 'Tem que ser uma expressÃ£o regular, por exemplo \"(1-)?\\\\d{3}-\\\\d{3}-\\\\d{4}\"';\n      default:\n        return 'Tem que ser no formato: ' + error.requiredFormat;\n    }\n  },\n  minimum: 'Tem que ser {{minimumValue}} ou mais',\n  exclusiveMinimum: 'Tem que ser mais que {{exclusiveMinimumValue}}',\n  maximum: 'Tem que ser {{maximumValue}} ou menos',\n  exclusiveMaximum: 'Tem que ser menor que {{exclusiveMaximumValue}}',\n  multipleOf: function (error) {\n    if ((1 / error.multipleOfValue) % 10 === 0) {\n      const decimals = Math.log10(1 / error.multipleOfValue);\n      return `Tem que ter ${decimals} ou menos casas decimais.`;\n    } else {\n      return `Tem que ser um mÃºltiplo de ${error.multipleOfValue}.`;\n    }\n  },\n  minProperties: 'Deve ter {{minimumProperties}} ou mais itens (itens atÃ© o momento: {{currentProperties}})',\n  maxProperties: 'Deve ter {{maximumProperties}} ou menos intens (itens atÃ© o momento: {{currentProperties}})',\n  minItems: 'Deve ter {{minimumItems}} ou mais itens (itens atÃ© o momento: {{currentItems}})',\n  maxItems: 'Deve ter {{maximumItems}} ou menos itens (itens atÃ© o momento: {{currentItems}})',\n  uniqueItems: 'Todos os itens devem ser Ãºnicos',\n  // Note: No default error messages for 'type', 'const', 'enum', or 'dependencies'\n};\n","export const zhValidationMessages: any = { // Chinese error messages\n  required: 'å¿å¡«å­æ®µ.',\n  minLength: 'å­ç¬¦é¿åº¦å¿é¡»å¤§äºæèç­äº {{minimumLength}} (å½åé¿åº¦: {{currentLength}})',\n  maxLength: 'å­ç¬¦é¿åº¦å¿é¡»å°äºæèç­äº {{maximumLength}} (å½åé¿åº¦: {{currentLength}})',\n  pattern: 'å¿é¡»å¹éæ­£åè¡¨è¾¾å¼: {{requiredPattern}}',\n  format: function (error) {\n    switch (error.requiredFormat) {\n      case 'date':\n        return 'å¿é¡»ä¸ºæ¥ææ ¼å¼, æ¯å¦ \"2000-12-31\"';\n      case 'time':\n        return 'å¿é¡»ä¸ºæ¶é´æ ¼å¼, æ¯å¦ \"16:20\" æè \"03:14:15.9265\"';\n      case 'date-time':\n        return 'å¿é¡»ä¸ºæ¥ææ¶é´æ ¼å¼, æ¯å¦ \"2000-03-14T01:59\" æè \"2000-03-14T01:59:26.535Z\"';\n      case 'email':\n        return 'å¿é¡»ä¸ºé®ç®±å°å, æ¯å¦ \"name@example.com\"';\n      case 'hostname':\n        return 'å¿é¡»ä¸ºä¸»æºå, æ¯å¦ \"example.com\"';\n      case 'ipv4':\n        return 'å¿é¡»ä¸º IPv4 å°å, æ¯å¦ \"127.0.0.1\"';\n      case 'ipv6':\n        return 'å¿é¡»ä¸º IPv6 å°å, æ¯å¦ \"1234:5678:9ABC:DEF0:1234:5678:9ABC:DEF0\"';\n      // TODO: add examples for 'uri', 'uri-reference', and 'uri-template'\n      // case 'uri': case 'uri-reference': case 'uri-template':\n      case 'url':\n        return 'å¿é¡»ä¸º url, æ¯å¦ \"http://www.example.com/page.html\"';\n      case 'uuid':\n        return 'å¿é¡»ä¸º uuid, æ¯å¦ \"12345678-9ABC-DEF0-1234-56789ABCDEF0\"';\n      case 'color':\n        return 'å¿é¡»ä¸ºé¢è²å¼, æ¯å¦ \"#FFFFFF\" æè \"rgb(255, 255, 255)\"';\n      case 'json-pointer':\n        return 'å¿é¡»ä¸º JSON Pointer, æ¯å¦ \"/pointer/to/something\"';\n      case 'relative-json-pointer':\n        return 'å¿é¡»ä¸ºç¸å¯¹ç JSON Pointer, æ¯å¦ \"2/pointer/to/something\"';\n      case 'regex':\n        return 'å¿é¡»ä¸ºæ­£åè¡¨è¾¾å¼, æ¯å¦ \"(1-)?\\\\d{3}-\\\\d{3}-\\\\d{4}\"';\n      default:\n        return 'å¿é¡»ä¸ºæ ¼å¼æ­£ç¡®ç ' + error.requiredFormat;\n    }\n  },\n  minimum: 'å¿é¡»å¤§äºæèç­äºæå°å¼: {{minimumValue}}',\n  exclusiveMinimum: 'å¿é¡»å¤§äºæå°å¼: {{exclusiveMinimumValue}}',\n  maximum: 'å¿é¡»å°äºæèç­äºæå¤§å¼: {{maximumValue}}',\n  exclusiveMaximum: 'å¿é¡»å°äºæå¤§å¼: {{exclusiveMaximumValue}}',\n  multipleOf: function (error) {\n    if ((1 / error.multipleOfValue) % 10 === 0) {\n      const decimals = Math.log10(1 / error.multipleOfValue);\n      return `å¿é¡»æ ${decimals} ä½ææ´å°çå°æ°ä½`;\n    } else {\n      return `å¿é¡»ä¸º ${error.multipleOfValue} çåæ°`;\n    }\n  },\n  minProperties: 'é¡¹ç®æ°å¿é¡»å¤§äºæèç­äº {{minimumProperties}} (å½åé¡¹ç®æ°: {{currentProperties}})',\n  maxProperties: 'é¡¹ç®æ°å¿é¡»å°äºæèç­äº {{maximumProperties}} (å½åé¡¹ç®æ°: {{currentProperties}})',\n  minItems: 'é¡¹ç®æ°å¿é¡»å¤§äºæèç­äº {{minimumItems}} (å½åé¡¹ç®æ°: {{currentItems}})',\n  maxItems: 'é¡¹ç®æ°å¿é¡»å°äºæèç­äº {{maximumItems}} (å½åé¡¹ç®æ°: {{currentItems}})',\n  uniqueItems: 'ææé¡¹ç®å¿é¡»æ¯å¯ä¸ç',\n  // Note: No default error messages for 'type', 'const', 'enum', or 'dependencies'\n};\n","import { Injectable } from \"@angular/core\";\nimport { AbstractControl, FormArray, FormGroup } from \"@angular/forms\";\nimport { Subject } from \"rxjs\";\nimport cloneDeep from \"lodash/cloneDeep\";\nimport Ajv from \"ajv\";\nimport jsonDraft6 from \"ajv/lib/refs/json-schema-draft-06.json\";\nimport {\n  buildFormGroup,\n  buildFormGroupTemplate,\n  formatFormData,\n  getControl,\n  fixTitle,\n  forEach,\n  hasOwn,\n  toTitleCase,\n  buildLayout,\n  getLayoutNode,\n  buildSchemaFromData,\n  buildSchemaFromLayout,\n  removeRecursiveReferences,\n  hasValue,\n  isArray,\n  isDefined,\n  isEmpty,\n  isObject,\n  JsonPointer,\n} from \"./shared\";\nimport {\n  enValidationMessages,\n  frValidationMessages,\n  itValidationMessages,\n  ptValidationMessages,\n  zhValidationMessages,\n} from \"./locale\";\n\nexport interface TitleMapItem {\n  name?: string;\n  value?: any;\n  checked?: boolean;\n  group?: string;\n  items?: TitleMapItem[];\n}\nexport interface ErrorMessages {\n  [control_name: string]: {\n    message: string | Function | Object;\n    code: string;\n  }[];\n}\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class JsonSchemaFormService {\n  JsonFormCompatibility = false;\n  ReactJsonSchemaFormCompatibility = false;\n  AngularSchemaFormCompatibility = false;\n  tpldata: any = {};\n\n  ajvOptions: any = {\n    allErrors: true,\n    jsonPointers: true,\n    unknownFormats: \"ignore\",\n  };\n  ajv: any = new Ajv(this.ajvOptions); // AJV: Another JSON Schema Validator\n  validateFormData: any = null; // Compiled AJV function to validate active form's schema\n\n  formValues: any = {}; // Internal form data (may not have correct types)\n  data: any = {}; // Output form data (formValues, formatted with correct data types)\n  schema: any = {}; // Internal JSON Schema\n  layout: any[] = []; // Internal form layout\n  formGroupTemplate: any = {}; // Template used to create formGroup\n  formGroup: any = null; // Angular formGroup, which powers the reactive form\n  framework: any = null; // Active framework component\n  formOptions: any; // Active options, used to configure the form\n\n  validData: any = null; // Valid form data (or null) (=== isValid ? data : null)\n  isValid: boolean = null; // Is current form data valid?\n  ajvErrors: any = null; // Ajv errors for current data\n  validationErrors: any = null; // Any validation errors for current data\n  dataErrors: any = new Map(); //\n  formValueSubscription: any = null; // Subscription to formGroup.valueChanges observable (for un- and re-subscribing)\n  dataChanges: Subject<any> = new Subject(); // Form data observable\n  isValidChanges: Subject<any> = new Subject(); // isValid observable\n  validationErrorChanges: Subject<any> = new Subject(); // validationErrors observable\n\n  arrayMap: Map<string, number> = new Map(); // Maps arrays in data object and number of tuple values\n  dataMap: Map<string, any> = new Map(); // Maps paths in form data to schema and formGroup paths\n  dataRecursiveRefMap: Map<string, string> = new Map(); // Maps recursive reference points in form data\n  schemaRecursiveRefMap: Map<string, string> = new Map(); // Maps recursive reference points in schema\n  schemaRefLibrary: any = {}; // Library of schemas for resolving schema $refs\n  layoutRefLibrary: any = { \"\": null }; // Library of layout nodes for adding to form\n  templateRefLibrary: any = {}; // Library of formGroup templates for adding to form\n  hasRootReference = false; // Does the form include a recursive reference to itself?\n\n  language = \"en-US\"; // Does the form include a recursive reference to itself?\n\n  // Default global form options\n  defaultFormOptions: any = {\n    autocomplete: true, // Allow the web browser to remember previous form submission values as defaults\n    addSubmit: \"auto\", // Add a submit button if layout does not have one?\n    // for addSubmit: true = always, false = never,\n    // 'auto' = only if layout is undefined (form is built from schema alone)\n    debug: false, // Show debugging output?\n    disableInvalidSubmit: true, // Disable submit if form invalid?\n    formDisabled: false, // Set entire form as disabled? (not editable, and disables outputs)\n    formReadonly: false, // Set entire form as read only? (not editable, but outputs still enabled)\n    fieldsRequired: false, // (set automatically) Are there any required fields in the form?\n    framework: \"no-framework\", // The framework to load\n    loadExternalAssets: false, // Load external css and JavaScript for framework?\n    pristine: { errors: true, success: true },\n    supressPropertyTitles: false,\n    setSchemaDefaults: \"auto\", // Set fefault values from schema?\n    // true = always set (unless overridden by layout default or formValues)\n    // false = never set\n    // 'auto' = set in addable components, and everywhere if formValues not set\n    setLayoutDefaults: \"auto\", // Set fefault values from layout?\n    // true = always set (unless overridden by formValues)\n    // false = never set\n    // 'auto' = set in addable components, and everywhere if formValues not set\n    validateOnRender: \"auto\", // Validate fields immediately, before they are touched?\n    // true = validate all fields immediately\n    // false = only validate fields after they are touched by user\n    // 'auto' = validate fields with values immediately, empty fields after they are touched\n    widgets: {}, // Any custom widgets to load\n    defautWidgetOptions: {\n      // Default options for form control widgets\n      listItems: 1, // Number of list items to initially add to arrays with no default value\n      addable: true, // Allow adding items to an array or $ref point?\n      orderable: true, // Allow reordering items within an array?\n      removable: true, // Allow removing items from an array or $ref point?\n      enableErrorState: true, // Apply 'has-error' class when field fails validation?\n      // disableErrorState: false, // Don't apply 'has-error' class when field fails validation?\n      enableSuccessState: true, // Apply 'has-success' class when field validates?\n      // disableSuccessState: false, // Don't apply 'has-success' class when field validates?\n      feedback: false, // Show inline feedback icons?\n      feedbackOnRender: false, // Show errorMessage on Render?\n      notitle: false, // Hide title?\n      disabled: false, // Set control as disabled? (not editable, and excluded from output)\n      readonly: false, // Set control as read only? (not editable, but included in output)\n      returnEmptyFields: true, // return values for fields that contain no data?\n      validationMessages: {}, // set by setLanguage()\n    },\n  };\n\n  constructor() {\n    this.setLanguage(this.language);\n    this.ajv.addMetaSchema(jsonDraft6);\n  }\n\n  setLanguage(language: string = \"en-US\") {\n    this.language = language;\n    const languageValidationMessages = {\n      fr: frValidationMessages,\n      en: enValidationMessages,\n      it: itValidationMessages,\n      pt: ptValidationMessages,\n      zh: zhValidationMessages,\n    };\n    const languageCode = language.slice(0, 2);\n\n    const validationMessages = languageValidationMessages[languageCode];\n\n    this.defaultFormOptions.defautWidgetOptions.validationMessages = cloneDeep(\n      validationMessages\n    );\n  }\n\n  getData() {\n    return this.data;\n  }\n\n  getSchema() {\n    return this.schema;\n  }\n\n  getLayout() {\n    return this.layout;\n  }\n\n  resetAllValues() {\n    this.JsonFormCompatibility = false;\n    this.ReactJsonSchemaFormCompatibility = false;\n    this.AngularSchemaFormCompatibility = false;\n    this.tpldata = {};\n    this.validateFormData = null;\n    this.formValues = {};\n    this.schema = {};\n    this.layout = [];\n    this.formGroupTemplate = {};\n    this.formGroup = null;\n    this.framework = null;\n    this.data = {};\n    this.validData = null;\n    this.isValid = null;\n    this.validationErrors = null;\n    this.arrayMap = new Map();\n    this.dataMap = new Map();\n    this.dataRecursiveRefMap = new Map();\n    this.schemaRecursiveRefMap = new Map();\n    this.layoutRefLibrary = {};\n    this.schemaRefLibrary = {};\n    this.templateRefLibrary = {};\n    this.formOptions = cloneDeep(this.defaultFormOptions);\n  }\n\n  /**\n   * 'buildRemoteError' function\n   *\n   * Example errors:\n   * {\n   *   last_name: [ {\n   *     message: 'Last name must by start with capital letter.',\n   *     code: 'capital_letter'\n   *   } ],\n   *   email: [ {\n   *     message: 'Email must be from example.com domain.',\n   *     code: 'special_domain'\n   *   }, {\n   *     message: 'Email must contain an @ symbol.',\n   *     code: 'at_symbol'\n   *   } ]\n   * }\n   * //{ErrorMessages} errors\n   */\n  buildRemoteError(errors: ErrorMessages) {\n    forEach(errors, (value, key) => {\n      if (key in this.formGroup.controls) {\n        for (const error of value) {\n          const err = {};\n          err[error[\"code\"]] = error[\"message\"];\n          this.formGroup.get(key).setErrors(err, { emitEvent: true });\n        }\n      }\n    });\n  }\n\n  validateData(newValue: any, updateSubscriptions = true): void {\n    // Format raw form data to correct data types\n    this.data = formatFormData(\n      newValue,\n      this.dataMap,\n      this.dataRecursiveRefMap,\n      this.arrayMap,\n      this.formOptions.returnEmptyFields\n    );\n    this.isValid = this.validateFormData(this.data);\n    this.validData = this.isValid ? this.data : null;\n    const compileErrors = (errors) => {\n      const compiledErrors = {};\n      (errors || []).forEach((error) => {\n        if (!compiledErrors[error.dataPath]) {\n          compiledErrors[error.dataPath] = [];\n        }\n        compiledErrors[error.dataPath].push(error.message);\n      });\n      return compiledErrors;\n    };\n    this.ajvErrors = this.validateFormData.errors;\n    this.validationErrors = compileErrors(this.validateFormData.errors);\n    if (updateSubscriptions) {\n      this.dataChanges.next(this.data);\n      this.isValidChanges.next(this.isValid);\n      this.validationErrorChanges.next(this.ajvErrors);\n    }\n  }\n\n  buildFormGroupTemplate(formValues: any = null, setValues = true) {\n    this.formGroupTemplate = buildFormGroupTemplate(\n      this,\n      formValues,\n      setValues\n    );\n  }\n\n  buildFormGroup() {\n    this.formGroup = <FormGroup>buildFormGroup(this.formGroupTemplate);\n    if (this.formGroup) {\n      this.compileAjvSchema();\n      this.validateData(this.formGroup.value);\n\n      // Set up observables to emit data and validation info when form data changes\n      if (this.formValueSubscription) {\n        this.formValueSubscription.unsubscribe();\n      }\n      this.formValueSubscription = this.formGroup.valueChanges.subscribe(\n        (formValue) => this.validateData(formValue)\n      );\n    }\n  }\n\n  buildLayout(widgetLibrary: any) {\n    this.layout = buildLayout(this, widgetLibrary);\n  }\n\n  setOptions(newOptions: any) {\n    if (isObject(newOptions)) {\n      const addOptions = cloneDeep(newOptions);\n      // Backward compatibility for 'defaultOptions' (renamed 'defautWidgetOptions')\n      if (isObject(addOptions.defaultOptions)) {\n        Object.assign(\n          this.formOptions.defautWidgetOptions,\n          addOptions.defaultOptions\n        );\n        delete addOptions.defaultOptions;\n      }\n      if (isObject(addOptions.defautWidgetOptions)) {\n        Object.assign(\n          this.formOptions.defautWidgetOptions,\n          addOptions.defautWidgetOptions\n        );\n        delete addOptions.defautWidgetOptions;\n      }\n      Object.assign(this.formOptions, addOptions);\n\n      // convert disableErrorState / disableSuccessState to enable...\n      const globalDefaults = this.formOptions.defautWidgetOptions;\n      [\"ErrorState\", \"SuccessState\"]\n        .filter((suffix) => hasOwn(globalDefaults, \"disable\" + suffix))\n        .forEach((suffix) => {\n          globalDefaults[\"enable\" + suffix] = !globalDefaults[\n            \"disable\" + suffix\n          ];\n          delete globalDefaults[\"disable\" + suffix];\n        });\n    }\n  }\n\n  compileAjvSchema() {\n    if (!this.validateFormData) {\n      // if 'ui:order' exists in properties, move it to root before compiling with ajv\n      if (Array.isArray(this.schema.properties[\"ui:order\"])) {\n        this.schema[\"ui:order\"] = this.schema.properties[\"ui:order\"];\n        delete this.schema.properties[\"ui:order\"];\n      }\n      this.ajv.removeSchema(this.schema);\n      this.validateFormData = this.ajv.compile(this.schema);\n    }\n  }\n\n  buildSchemaFromData(data?: any, requireAllFields = false): any {\n    if (data) {\n      return buildSchemaFromData(data, requireAllFields);\n    }\n    this.schema = buildSchemaFromData(this.formValues, requireAllFields);\n  }\n\n  buildSchemaFromLayout(layout?: any): any {\n    if (layout) {\n      return buildSchemaFromLayout(layout);\n    }\n    this.schema = buildSchemaFromLayout(this.layout);\n  }\n\n  setTpldata(newTpldata: any = {}): void {\n    this.tpldata = newTpldata;\n  }\n\n  parseText(\n    text = \"\",\n    value: any = {},\n    values: any = {},\n    key: number | string = null\n  ): string {\n    if (!text || !/{{.+?}}/.test(text)) {\n      return text;\n    }\n    return text.replace(/{{(.+?)}}/g, (...a) =>\n      this.parseExpression(a[1], value, values, key, this.tpldata)\n    );\n  }\n\n  parseExpression(\n    expression = \"\",\n    value: any = {},\n    values: any = {},\n    key: number | string = null,\n    tpldata: any = null\n  ) {\n    if (typeof expression !== \"string\") {\n      return \"\";\n    }\n    const index = typeof key === \"number\" ? key + 1 + \"\" : key || \"\";\n    expression = expression.trim();\n    if (\n      (expression[0] === \"'\" || expression[0] === '\"') &&\n      expression[0] === expression[expression.length - 1] &&\n      expression.slice(1, expression.length - 1).indexOf(expression[0]) === -1\n    ) {\n      return expression.slice(1, expression.length - 1);\n    }\n    if (expression === \"idx\" || expression === \"$index\") {\n      return index;\n    }\n    if (expression === \"value\" && !hasOwn(values, \"value\")) {\n      return value;\n    }\n    if (\n      ['\"', \"'\", \" \", \"||\", \"&&\", \"+\"].every(\n        (delim) => expression.indexOf(delim) === -1\n      )\n    ) {\n      const pointer = JsonPointer.parseObjectPath(expression);\n      return pointer[0] === \"value\" && JsonPointer.has(value, pointer.slice(1))\n        ? JsonPointer.get(value, pointer.slice(1))\n        : pointer[0] === \"values\" && JsonPointer.has(values, pointer.slice(1))\n        ? JsonPointer.get(values, pointer.slice(1))\n        : pointer[0] === \"tpldata\" && JsonPointer.has(tpldata, pointer.slice(1))\n        ? JsonPointer.get(tpldata, pointer.slice(1))\n        : JsonPointer.has(values, pointer)\n        ? JsonPointer.get(values, pointer)\n        : \"\";\n    }\n    if (expression.indexOf(\"[idx]\") > -1) {\n      expression = expression.replace(/\\[idx\\]/g, <string>index);\n    }\n    if (expression.indexOf(\"[$index]\") > -1) {\n      expression = expression.replace(/\\[$index\\]/g, <string>index);\n    }\n    // TODO: Improve expression evaluation by parsing quoted strings first\n    // let expressionArray = expression.match(/([^\"']+|\"[^\"]+\"|'[^']+')/g);\n    if (expression.indexOf(\"||\") > -1) {\n      return expression\n        .split(\"||\")\n        .reduce(\n          (all, term) =>\n            all || this.parseExpression(term, value, values, key, tpldata),\n          \"\"\n        );\n    }\n    if (expression.indexOf(\"&&\") > -1) {\n      return expression\n        .split(\"&&\")\n        .reduce(\n          (all, term) =>\n            all && this.parseExpression(term, value, values, key, tpldata),\n          \" \"\n        )\n        .trim();\n    }\n    if (expression.indexOf(\"+\") > -1) {\n      return expression\n        .split(\"+\")\n        .map((term) => this.parseExpression(term, value, values, key, tpldata))\n        .join(\"\");\n    }\n    return \"\";\n  }\n\n  setArrayItemTitle(\n    parentCtx: any = {},\n    childNode: any = null,\n    index: number = null\n  ): string {\n    const parentNode = parentCtx.layoutNode;\n    const parentValues: any = this.getFormControlValue(parentCtx);\n    const isArrayItem =\n      (parentNode.type || \"\").slice(-5) === \"array\" && isArray(parentValues);\n    const text = JsonPointer.getFirst(\n      isArrayItem && childNode.type !== \"$ref\"\n        ? [\n            [childNode, \"/options/legend\"],\n            [childNode, \"/options/title\"],\n            [parentNode, \"/options/title\"],\n            [parentNode, \"/options/legend\"],\n          ]\n        : [\n            [childNode, \"/options/title\"],\n            [childNode, \"/options/legend\"],\n            [parentNode, \"/options/title\"],\n            [parentNode, \"/options/legend\"],\n          ]\n    );\n    if (!text) {\n      return text;\n    }\n    const childValue =\n      isArray(parentValues) && index < parentValues.length\n        ? parentValues[index]\n        : parentValues;\n    return this.parseText(text, childValue, parentValues, index);\n  }\n\n  setItemTitle(ctx: any) {\n    return !ctx.options.title && /^(\\d+|-)$/.test(ctx.layoutNode.name)\n      ? null\n      : this.parseText(\n          ctx.options.title || toTitleCase(ctx.layoutNode.name),\n          this.getFormControlValue(this),\n          (this.getFormControlGroup(this) || <any>{}).value,\n          ctx.dataIndex[ctx.dataIndex.length - 1]\n        );\n  }\n\n  evaluateCondition(layoutNode: any, dataIndex: number[]): boolean {\n    const arrayIndex = dataIndex && dataIndex[dataIndex.length - 1];\n    let result = true;\n    if (hasValue((layoutNode.options || {}).condition)) {\n      if (typeof layoutNode.options.condition === \"string\") {\n        let pointer = layoutNode.options.condition;\n        if (hasValue(arrayIndex)) {\n          pointer = pointer.replace(\"[arrayIndex]\", `[${arrayIndex}]`);\n        }\n        pointer = JsonPointer.parseObjectPath(pointer);\n        result = !!JsonPointer.get(this.data, pointer);\n        if (!result && pointer[0] === \"model\") {\n          result = !!JsonPointer.get({ model: this.data }, pointer);\n        }\n      } else if (typeof layoutNode.options.condition === \"function\") {\n        result = layoutNode.options.condition(this.data);\n      } else if (\n        typeof layoutNode.options.condition.functionBody === \"string\"\n      ) {\n        try {\n          const dynFn = new Function(\n            \"model\",\n            \"arrayIndices\",\n            layoutNode.options.condition.functionBody\n          );\n          result = dynFn(this.data, dataIndex);\n        } catch (e) {\n          result = true;\n          console.error(\n            \"condition functionBody errored out on evaluation: \" +\n              layoutNode.options.condition.functionBody\n          );\n        }\n      }\n    }\n    return result;\n  }\n\n  initializeControl(ctx: any, bind = true): boolean {\n    if (!isObject(ctx)) {\n      return false;\n    }\n    if (isEmpty(ctx.options)) {\n      ctx.options = !isEmpty((ctx.layoutNode || {}).options)\n        ? ctx.layoutNode.options\n        : cloneDeep(this.formOptions);\n    }\n    ctx.formControl = this.getFormControl(ctx);\n    ctx.boundControl = bind && !!ctx.formControl;\n    if (ctx.formControl) {\n      ctx.controlName = this.getFormControlName(ctx);\n      ctx.controlValue = ctx.formControl.value;\n      ctx.controlDisabled = ctx.formControl.disabled;\n      // Initial error message\n      ctx.options.errorMessage =\n        ctx.formControl.status === \"VALID\"\n          ? null\n          : this.formatErrors(\n              ctx.formControl.errors,\n              ctx.options.validationMessages\n            );\n      ctx.options.showErrors =\n        this.formOptions.validateOnRender === true ||\n        (this.formOptions.validateOnRender === \"auto\" &&\n          hasValue(ctx.controlValue));\n      // Subscription for error messages\n      // ctx.formControl.statusChanges.subscribe(\n      //   (status) =>\n      //     (ctx.options.errorMessage =\n      //       status === \"VALID\"\n      //         ? null\n      //         : this.formatErrors(\n      //             ctx.formControl.errors,\n      //             ctx.options.validationMessages\n      //           ))\n      // );\n      this.validationErrorChanges.subscribe((errors) => {\n        ctx.options.errorMessage = `${errors}`;\n      });\n      ctx.formControl.valueChanges.subscribe((value) => {\n        if (!!value) {\n          ctx.controlValue = value;\n        }\n      });\n    } else {\n      ctx.controlName = ctx.layoutNode.name;\n      ctx.controlValue = ctx.layoutNode.value || null;\n      const dataPointer = this.getDataPointer(ctx);\n      if (bind && dataPointer) {\n        console.error(\n          `warning: control \"${dataPointer}\" is not bound to the Angular FormGroup.`\n        );\n      }\n    }\n    return ctx.boundControl;\n  }\n\n  formatErrors(errors: any, validationMessages: any = {}): string {\n    if (isEmpty(errors)) {\n      return null;\n    }\n    if (!isObject(validationMessages)) {\n      validationMessages = {};\n    }\n    const addSpaces = (string) =>\n      string[0].toUpperCase() +\n      (string.slice(1) || \"\")\n        .replace(/([a-z])([A-Z])/g, \"$1 $2\")\n        .replace(/_/g, \" \");\n    const formatError = (error) =>\n      typeof error === \"object\"\n        ? Object.keys(error)\n            .map((key) =>\n              error[key] === true\n                ? addSpaces(key)\n                : error[key] === false\n                ? \"Not \" + addSpaces(key)\n                : addSpaces(key) + \": \" + formatError(error[key])\n            )\n            .join(\", \")\n        : addSpaces(error.toString());\n    const messages = [];\n    return (\n      Object.keys(errors)\n        // Hide 'required' error, unless it is the only one\n        .filter(\n          (errorKey) =>\n            errorKey !== \"required\" || Object.keys(errors).length === 1\n        )\n        .map((errorKey) =>\n          // If validationMessages is a string, return it\n          typeof validationMessages === \"string\"\n            ? validationMessages\n            : // If custom error message is a function, return function result\n            typeof validationMessages[errorKey] === \"function\"\n            ? validationMessages[errorKey](errors[errorKey])\n            : // If custom error message is a string, replace placeholders and return\n            typeof validationMessages[errorKey] === \"string\"\n            ? // Does error message have any {{property}} placeholders?\n              !/{{.+?}}/.test(validationMessages[errorKey])\n              ? validationMessages[errorKey]\n              : // Replace {{property}} placeholders with values\n                Object.keys(errors[errorKey]).reduce(\n                  (errorMessage, errorProperty) =>\n                    errorMessage.replace(\n                      new RegExp(\"{{\" + errorProperty + \"}}\", \"g\"),\n                      errors[errorKey][errorProperty]\n                    ),\n                  validationMessages[errorKey]\n                )\n            : // If no custom error message, return formatted error data instead\n              addSpaces(errorKey) + \" Error: \" + formatError(errors[errorKey])\n        )\n        .join(\"<br>\")\n    );\n  }\n\n  updateValue(ctx: any, value: any): void {\n    // Set value of current control\n    ctx.controlValue = value;\n    if (ctx.boundControl) {\n      ctx.formControl.setValue(value);\n      ctx.formControl.markAsDirty();\n    }\n    ctx.layoutNode.value = value;\n\n    // Set values of any related controls in copyValueTo array\n    if (isArray(ctx.options.copyValueTo)) {\n      for (const item of ctx.options.copyValueTo) {\n        const targetControl = getControl(this.formGroup, item);\n        if (\n          isObject(targetControl) &&\n          typeof targetControl.setValue === \"function\"\n        ) {\n          targetControl.setValue(value);\n          targetControl.markAsDirty();\n        }\n      }\n    }\n  }\n\n  updateArrayCheckboxList(ctx: any, checkboxList: TitleMapItem[]): void {\n    const formArray = <FormArray>this.getFormControl(ctx);\n\n    // Remove all existing items\n    while (formArray.value.length) {\n      formArray.removeAt(0);\n    }\n\n    // Re-add an item for each checked box\n    const refPointer = removeRecursiveReferences(\n      ctx.layoutNode.dataPointer + \"/-\",\n      this.dataRecursiveRefMap,\n      this.arrayMap\n    );\n    for (const checkboxItem of checkboxList) {\n      if (checkboxItem.checked) {\n        const newFormControl = buildFormGroup(\n          this.templateRefLibrary[refPointer]\n        );\n        newFormControl.setValue(checkboxItem.value);\n        formArray.push(newFormControl);\n      }\n    }\n    formArray.markAsDirty();\n  }\n\n  getFormControl(ctx: any): AbstractControl {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.dataPointer) ||\n      ctx.layoutNode.type === \"$ref\"\n    ) {\n      return null;\n    }\n    return getControl(this.formGroup, this.getDataPointer(ctx));\n  }\n\n  getFormControlValue(ctx: any): AbstractControl {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.dataPointer) ||\n      ctx.layoutNode.type === \"$ref\"\n    ) {\n      return null;\n    }\n    const control = getControl(this.formGroup, this.getDataPointer(ctx));\n    return control ? control.value : null;\n  }\n\n  getFormControlGroup(ctx: any): FormArray | FormGroup {\n    if (!ctx.layoutNode || !isDefined(ctx.layoutNode.dataPointer)) {\n      return null;\n    }\n    return getControl(this.formGroup, this.getDataPointer(ctx), true);\n  }\n\n  getFormControlName(ctx: any): string {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.dataPointer) ||\n      !hasValue(ctx.dataIndex)\n    ) {\n      return null;\n    }\n    return JsonPointer.toKey(this.getDataPointer(ctx));\n  }\n\n  getLayoutArray(ctx: any): any[] {\n    return JsonPointer.get(this.layout, this.getLayoutPointer(ctx), 0, -1);\n  }\n\n  getParentNode(ctx: any): any {\n    return JsonPointer.get(this.layout, this.getLayoutPointer(ctx), 0, -2);\n  }\n\n  getDataPointer(ctx: any): string {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.dataPointer) ||\n      !hasValue(ctx.dataIndex)\n    ) {\n      return null;\n    }\n    return JsonPointer.toIndexedPointer(\n      ctx.layoutNode.dataPointer,\n      ctx.dataIndex,\n      this.arrayMap\n    );\n  }\n\n  getLayoutPointer(ctx: any): string {\n    if (!hasValue(ctx.layoutIndex)) {\n      return null;\n    }\n    return \"/\" + ctx.layoutIndex.join(\"/items/\");\n  }\n\n  isControlBound(ctx: any): boolean {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.dataPointer) ||\n      !hasValue(ctx.dataIndex)\n    ) {\n      return false;\n    }\n    const controlGroup = this.getFormControlGroup(ctx);\n    const name = this.getFormControlName(ctx);\n    return controlGroup ? hasOwn(controlGroup.controls, name) : false;\n  }\n\n  addItem(ctx: any, name?: string): boolean {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.$ref) ||\n      !hasValue(ctx.dataIndex) ||\n      !hasValue(ctx.layoutIndex)\n    ) {\n      return false;\n    }\n\n    // Create a new Angular form control from a template in templateRefLibrary\n    const newFormGroup = buildFormGroup(\n      this.templateRefLibrary[ctx.layoutNode.$ref]\n    );\n\n    // Add the new form control to the parent formArray or formGroup\n    if (ctx.layoutNode.arrayItem) {\n      // Add new array item to formArray\n      (<FormArray>this.getFormControlGroup(ctx)).push(newFormGroup);\n    } else {\n      // Add new $ref item to formGroup\n      (<FormGroup>this.getFormControlGroup(ctx)).addControl(\n        name || this.getFormControlName(ctx),\n        newFormGroup\n      );\n    }\n\n    // Copy a new layoutNode from layoutRefLibrary\n    const newLayoutNode = getLayoutNode(ctx.layoutNode, this);\n    newLayoutNode.arrayItem = ctx.layoutNode.arrayItem;\n    if (ctx.layoutNode.arrayItemType) {\n      newLayoutNode.arrayItemType = ctx.layoutNode.arrayItemType;\n    } else {\n      delete newLayoutNode.arrayItemType;\n    }\n    if (name) {\n      newLayoutNode.name = name;\n      newLayoutNode.dataPointer += \"/\" + JsonPointer.escape(name);\n      newLayoutNode.options.title = fixTitle(name);\n    }\n\n    // Add the new layoutNode to the form layout\n    JsonPointer.insert(this.layout, this.getLayoutPointer(ctx), newLayoutNode);\n\n    return true;\n  }\n\n  moveArrayItem(ctx: any, oldIndex: number, newIndex: number): boolean {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.dataPointer) ||\n      !hasValue(ctx.dataIndex) ||\n      !hasValue(ctx.layoutIndex) ||\n      !isDefined(oldIndex) ||\n      !isDefined(newIndex) ||\n      oldIndex === newIndex\n    ) {\n      return false;\n    }\n\n    // Move item in the formArray\n    const formArray = <FormArray>this.getFormControlGroup(ctx);\n    const arrayItem = formArray.at(oldIndex);\n    formArray.removeAt(oldIndex);\n    formArray.insert(newIndex, arrayItem);\n    formArray.updateValueAndValidity();\n\n    // Move layout item\n    const layoutArray = this.getLayoutArray(ctx);\n    layoutArray.splice(newIndex, 0, layoutArray.splice(oldIndex, 1)[0]);\n    return true;\n  }\n\n  removeItem(ctx: any): boolean {\n    if (\n      !ctx.layoutNode ||\n      !isDefined(ctx.layoutNode.dataPointer) ||\n      !hasValue(ctx.dataIndex) ||\n      !hasValue(ctx.layoutIndex)\n    ) {\n      return false;\n    }\n\n    // Remove the Angular form control from the parent formArray or formGroup\n    if (ctx.layoutNode.arrayItem) {\n      // Remove array item from formArray\n      (<FormArray>this.getFormControlGroup(ctx)).removeAt(\n        ctx.dataIndex[ctx.dataIndex.length - 1]\n      );\n    } else {\n      // Remove $ref item from formGroup\n      (<FormGroup>this.getFormControlGroup(ctx)).removeControl(\n        this.getFormControlName(ctx)\n      );\n    }\n\n    // Remove layoutNode from layout\n    JsonPointer.remove(this.layout, this.getLayoutPointer(ctx));\n    return true;\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnInit\n  } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'add-reference-widget',\n  template: `\n    <button *ngIf=\"showAddButton\"\n      [class]=\"options?.fieldHtmlClass || ''\"\n      [disabled]=\"options?.readonly\"\n      (click)=\"addItem($event)\">\n      <span *ngIf=\"options?.icon\" [class]=\"options?.icon\"></span>\n      <span *ngIf=\"options?.title\" [innerHTML]=\"buttonText\"></span>\n    </button>`,\n    changeDetection: ChangeDetectionStrategy.Default,\n})\nexport class AddReferenceComponent implements OnInit {\n  options: any;\n  itemCount: number;\n  previousLayoutIndex: number[];\n  previousDataIndex: number[];\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n  }\n\n  get showAddButton(): boolean {\n    return !this.layoutNode.arrayItem ||\n      this.layoutIndex[this.layoutIndex.length - 1] < this.options.maxItems;\n  }\n\n  addItem(event) {\n    event.preventDefault();\n    this.jsf.addItem(this);\n  }\n\n  get buttonText(): string {\n    const parent: any = {\n      dataIndex: this.dataIndex.slice(0, -1),\n      layoutIndex: this.layoutIndex.slice(0, -1),\n      layoutNode: this.jsf.getParentNode(this)\n    };\n    return parent.layoutNode.add ||\n      this.jsf.setArrayItemTitle(parent, this.layoutNode, this.itemCount);\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'button-widget',\n  template: `\n    <div\n      [class]=\"options?.htmlClass || ''\">\n      <button\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [disabled]=\"controlDisabled\"\n        [name]=\"controlName\"\n        [type]=\"layoutNode?.type\"\n        [value]=\"controlValue\"\n        (click)=\"updateValue($event)\">\n        <span *ngIf=\"options?.icon || options?.title\"\n          [class]=\"options?.icon\"\n          [innerHTML]=\"options?.title\"></span>\n      </button>\n    </div>`,\n})\nexport class ButtonComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n  }\n\n  updateValue(event) {\n    if (typeof this.options.onClick === 'function') {\n      this.options.onClick(event);\n    } else {\n      this.jsf.updateValue(this, event.target.value);\n    }\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'checkbox-widget',\n  template: `\n    <label\n      [attr.for]=\"'control' + layoutNode?._id\"\n      [class]=\"options?.itemLabelHtmlClass || ''\">\n      <input *ngIf=\"boundControl\"\n        [formControl]=\"formControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        type=\"checkbox\">\n      <input *ngIf=\"!boundControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [checked]=\"isChecked ? 'checked' : null\"\n        [class]=\"(options?.fieldHtmlClass || '') + (isChecked ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        [value]=\"controlValue\"\n        type=\"checkbox\"\n        (change)=\"updateValue($event)\">\n      <span *ngIf=\"options?.title\"\n        [style.display]=\"options?.notitle ? 'none' : ''\"\n        [innerHTML]=\"options?.title\"></span>\n    </label>`,\n})\nexport class CheckboxComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  trueValue: any = true;\n  falseValue: any = false;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n    if (this.controlValue === null || this.controlValue === undefined) {\n      this.controlValue = this.options.title;\n    }\n  }\n\n  updateValue(event) {\n    event.preventDefault();\n    this.jsf.updateValue(this, event.target.checked ? this.trueValue : this.falseValue);\n  }\n\n  get isChecked() {\n    return this.jsf.getFormControlValue(this) === this.trueValue;\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { buildTitleMap } from '../shared';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService, TitleMapItem } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'checkboxes-widget',\n  template: `\n    <label *ngIf=\"options?.title\"\n      [class]=\"options?.labelHtmlClass || ''\"\n      [style.display]=\"options?.notitle ? 'none' : ''\"\n      [innerHTML]=\"options?.title\"></label>\n\n    <!-- 'horizontal' = checkboxes-inline or checkboxbuttons -->\n    <div *ngIf=\"layoutOrientation === 'horizontal'\" [class]=\"options?.htmlClass || ''\">\n      <label *ngFor=\"let checkboxItem of checkboxList\"\n        [attr.for]=\"'control' + layoutNode?._id + '/' + checkboxItem.value\"\n        [class]=\"(options?.itemLabelHtmlClass || '') + (checkboxItem.checked ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\">\n        <input type=\"checkbox\"\n          [attr.required]=\"options?.required\"\n          [checked]=\"checkboxItem.checked\"\n          [class]=\"options?.fieldHtmlClass || ''\"\n          [disabled]=\"controlDisabled\"\n          [id]=\"'control' + layoutNode?._id + '/' + checkboxItem.value\"\n          [name]=\"checkboxItem?.name\"\n          [readonly]=\"options?.readonly ? 'readonly' : null\"\n          [value]=\"checkboxItem.value\"\n          (change)=\"updateValue($event)\">\n        <span [innerHTML]=\"checkboxItem.name\"></span>\n      </label>\n    </div>\n\n    <!-- 'vertical' = regular checkboxes -->\n    <div *ngIf=\"layoutOrientation === 'vertical'\">\n      <div *ngFor=\"let checkboxItem of checkboxList\" [class]=\"options?.htmlClass || ''\">\n        <label\n          [attr.for]=\"'control' + layoutNode?._id + '/' + checkboxItem.value\"\n          [class]=\"(options?.itemLabelHtmlClass || '') + (checkboxItem.checked ?\n            (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n            (' ' + (options?.style?.unselected || '')))\">\n          <input type=\"checkbox\"\n            [attr.required]=\"options?.required\"\n            [checked]=\"checkboxItem.checked\"\n            [class]=\"options?.fieldHtmlClass || ''\"\n            [disabled]=\"controlDisabled\"\n            [id]=\"options?.name + '/' + checkboxItem.value\"\n            [name]=\"checkboxItem?.name\"\n            [readonly]=\"options?.readonly ? 'readonly' : null\"\n            [value]=\"checkboxItem.value\"\n            (change)=\"updateValue($event)\">\n          <span [innerHTML]=\"checkboxItem?.name\"></span>\n        </label>\n      </div>\n    </div>`,\n})\nexport class CheckboxesComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  layoutOrientation: string;\n  formArray: AbstractControl;\n  checkboxList: TitleMapItem[] = [];\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.layoutOrientation = (this.layoutNode.type === 'checkboxes-inline' ||\n      this.layoutNode.type === 'checkboxbuttons') ? 'horizontal' : 'vertical';\n    this.jsf.initializeControl(this);\n    this.checkboxList = buildTitleMap(\n      this.options.titleMap || this.options.enumNames, this.options.enum, true\n    );\n    if (this.boundControl) {\n      const formArray = this.jsf.getFormControl(this);\n      this.checkboxList.forEach(checkboxItem =>\n        checkboxItem.checked = formArray.value.includes(checkboxItem.value)\n      );\n    }\n  }\n\n  updateValue(event) {\n    for (const checkboxItem of this.checkboxList) {\n      if (event.target.value === checkboxItem.value) {\n        checkboxItem.checked = event.target.checked;\n      }\n    }\n    if (this.boundControl) {\n      this.jsf.updateArrayCheckboxList(this, this.checkboxList);\n    }\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n// TODO: Add this control\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'file-widget',\n  template: ``,\n})\nexport class FileComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n  }\n\n  updateValue(event) {\n    this.jsf.updateValue(this, event.target.value);\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'input-widget',\n  template: `\n    <div [class]=\"options?.htmlClass || ''\">\n      <label *ngIf=\"options?.title\"\n        [attr.for]=\"'control' + layoutNode?._id\"\n        [class]=\"options?.labelHtmlClass || ''\"\n        [style.display]=\"options?.notitle ? 'none' : ''\"\n        [innerHTML]=\"options?.title\"></label>\n      <input *ngIf=\"boundControl\"\n        [formControl]=\"formControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\n        [attr.maxlength]=\"options?.maxLength\"\n        [attr.minlength]=\"options?.minLength\"\n        [attr.pattern]=\"options?.pattern\"\n        [attr.placeholder]=\"options?.placeholder\"\n        [attr.required]=\"options?.required\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        [type]=\"layoutNode?.type\">\n      <input *ngIf=\"!boundControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.list]=\"'control' + layoutNode?._id + 'Autocomplete'\"\n        [attr.maxlength]=\"options?.maxLength\"\n        [attr.minlength]=\"options?.minLength\"\n        [attr.pattern]=\"options?.pattern\"\n        [attr.placeholder]=\"options?.placeholder\"\n        [attr.required]=\"options?.required\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        [type]=\"layoutNode?.type\"\n        [value]=\"controlValue\"\n        (input)=\"updateValue($event)\">\n        <datalist *ngIf=\"options?.typeahead?.source\"\n          [id]=\"'control' + layoutNode?._id + 'Autocomplete'\">\n          <option *ngFor=\"let word of options?.typeahead?.source\" [value]=\"word\">\n        </datalist>\n    </div>`,\n})\nexport class InputComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: string;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  autoCompleteList: string[] = [];\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n  }\n\n  updateValue(event) {\n    this.jsf.updateValue(this, event.target.value);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'message-widget',\n  template: `\n    <span *ngIf=\"message\"\n      [class]=\"options?.labelHtmlClass || ''\"\n      [innerHTML]=\"message\"></span>`,\n})\nexport class MessageComponent implements OnInit {\n  options: any;\n  message: string = null;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.message = this.options.help || this.options.helpvalue ||\n      this.options.msg || this.options.message;\n  }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'none-widget',\n  template: ``,\n})\nexport class NoneComponent {\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\n\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'number-widget',\n  template: `\n    <div [class]=\"options?.htmlClass || ''\">\n      <label *ngIf=\"options?.title\"\n        [attr.for]=\"'control' + layoutNode?._id\"\n        [class]=\"options?.labelHtmlClass || ''\"\n        [style.display]=\"options?.notitle ? 'none' : ''\"\n        [innerHTML]=\"options?.title\"></label>\n      <input *ngIf=\"boundControl\"\n        [formControl]=\"formControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.max]=\"options?.maximum\"\n        [attr.min]=\"options?.minimum\"\n        [attr.placeholder]=\"options?.placeholder\"\n        [attr.required]=\"options?.required\"\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.step]=\"options?.multipleOf || options?.step || 'any'\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        [title]=\"lastValidNumber\"\n        [type]=\"layoutNode?.type === 'range' ? 'range' : 'number'\">\n      <input *ngIf=\"!boundControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.max]=\"options?.maximum\"\n        [attr.min]=\"options?.minimum\"\n        [attr.placeholder]=\"options?.placeholder\"\n        [attr.required]=\"options?.required\"\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.step]=\"options?.multipleOf || options?.step || 'any'\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [readonly]=\"options?.readonly ? 'readonly' : null\"\n        [title]=\"lastValidNumber\"\n        [type]=\"layoutNode?.type === 'range' ? 'range' : 'number'\"\n        [value]=\"controlValue\"\n        (input)=\"updateValue($event)\">\n      <span *ngIf=\"layoutNode?.type === 'range'\" [innerHTML]=\"controlValue\"></span>\n    </div>`,\n})\nexport class NumberComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  allowNegative = true;\n  allowDecimal = true;\n  allowExponents = false;\n  lastValidNumber = '';\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n    if (this.layoutNode.dataType === 'integer') { this.allowDecimal = false; }\n  }\n\n  updateValue(event) {\n    this.jsf.updateValue(this, event.target.value);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AbstractControl } from '@angular/forms';\n\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n// TODO: Add this control\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'one-of-widget',\n  template: ``,\n})\nexport class OneOfComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n  }\n\n  updateValue(event) {\n    this.jsf.updateValue(this, event.target.value);\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { buildTitleMap } from '../shared';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'radios-widget',\n  template: `\n    <label *ngIf=\"options?.title\"\n      [attr.for]=\"'control' + layoutNode?._id\"\n      [class]=\"options?.labelHtmlClass || ''\"\n      [style.display]=\"options?.notitle ? 'none' : ''\"\n      [innerHTML]=\"options?.title\"></label>\n\n    <!-- 'horizontal' = radios-inline or radiobuttons -->\n    <div *ngIf=\"layoutOrientation === 'horizontal'\"\n      [class]=\"options?.htmlClass || ''\">\n      <label *ngFor=\"let radioItem of radiosList\"\n        [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n        [class]=\"(options?.itemLabelHtmlClass || '') +\n          ((controlValue + '' === radioItem?.value + '') ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + (options?.style?.unselected || '')))\">\n        <input type=\"radio\"\n          [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n          [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n          [attr.required]=\"options?.required\"\n          [checked]=\"radioItem?.value === controlValue\"\n          [class]=\"options?.fieldHtmlClass || ''\"\n          [disabled]=\"controlDisabled\"\n          [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n          [name]=\"controlName\"\n          [value]=\"radioItem?.value\"\n          (change)=\"updateValue($event)\">\n        <span [innerHTML]=\"radioItem?.name\"></span>\n      </label>\n    </div>\n\n    <!-- 'vertical' = regular radios -->\n    <div *ngIf=\"layoutOrientation !== 'horizontal'\">\n      <div *ngFor=\"let radioItem of radiosList\"\n        [class]=\"options?.htmlClass || ''\">\n        <label\n          [attr.for]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n          [class]=\"(options?.itemLabelHtmlClass || '') +\n            ((controlValue + '' === radioItem?.value + '') ?\n            (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n            (' ' + (options?.style?.unselected || '')))\">\n          <input type=\"radio\"\n            [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n            [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n            [attr.required]=\"options?.required\"\n            [checked]=\"radioItem?.value === controlValue\"\n            [class]=\"options?.fieldHtmlClass || ''\"\n            [disabled]=\"controlDisabled\"\n            [id]=\"'control' + layoutNode?._id + '/' + radioItem?.value\"\n            [name]=\"controlName\"\n            [value]=\"radioItem?.value\"\n            (change)=\"updateValue($event)\">\n          <span [innerHTML]=\"radioItem?.name\"></span>\n        </label>\n      </div>\n    </div>`,\n})\nexport class RadiosComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  layoutOrientation = 'vertical';\n  radiosList: any[] = [];\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    if (this.layoutNode.type === 'radios-inline' ||\n      this.layoutNode.type === 'radiobuttons'\n    ) {\n      this.layoutOrientation = 'horizontal';\n    }\n    this.radiosList = buildTitleMap(\n      this.options.titleMap || this.options.enumNames,\n      this.options.enum, true\n    );\n    this.jsf.initializeControl(this);\n  }\n\n  updateValue(event) {\n    this.jsf.updateValue(this, event.target.value);\n  }\n}\n","import { Component, Input } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'root-widget',\n  template: `\n    <div *ngFor=\"let layoutItem of layout; let i = index\"\n      [class.form-flex-item]=\"isFlexItem\"\n      [style.align-self]=\"(layoutItem.options || {})['align-self']\"\n      [style.flex-basis]=\"getFlexAttribute(layoutItem, 'flex-basis')\"\n      [style.flex-grow]=\"getFlexAttribute(layoutItem, 'flex-grow')\"\n      [style.flex-shrink]=\"getFlexAttribute(layoutItem, 'flex-shrink')\"\n      [style.order]=\"(layoutItem.options || {}).order\">\n      <div\n        [dataIndex]=\"layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])\"\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\n        [layoutNode]=\"layoutItem\"\n        [orderable]=\"isDraggable(layoutItem)\">\n        <select-framework-widget *ngIf=\"showWidget(layoutItem)\"\n          [dataIndex]=\"layoutItem?.arrayItem ? (dataIndex || []).concat(i) : (dataIndex || [])\"\n          [layoutIndex]=\"(layoutIndex || []).concat(i)\"\n          [layoutNode]=\"layoutItem\"></select-framework-widget>\n      </div>\n    </div>`,\n  styles: [`\n    [draggable=true] {\n      transition: all 150ms cubic-bezier(.4, 0, .2, 1);\n    }\n    [draggable=true]:hover {\n      cursor: move;\n      box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n      position: relative; z-index: 10;\n      margin-top: -1px;\n      margin-left: -1px;\n      margin-right: 1px;\n      margin-bottom: 1px;\n    }\n    [draggable=true].drag-target-top {\n      box-shadow: 0 -2px 0 #000;\n      position: relative; z-index: 20;\n    }\n    [draggable=true].drag-target-bottom {\n      box-shadow: 0 2px 0 #000;\n      position: relative; z-index: 20;\n    }\n  `],\n})\nexport class RootComponent {\n  options: any;\n  @Input() dataIndex: number[];\n  @Input() layoutIndex: number[];\n  @Input() layout: any[];\n  @Input() isOrderable: boolean;\n  @Input() isFlexItem = false;\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  isDraggable(node: any): boolean {\n    return node.arrayItem && node.type !== '$ref' &&\n      node.arrayItemType === 'list' && this.isOrderable !== false;\n  }\n\n  // Set attributes for flexbox child\n  // (container attributes are set in section.component)\n  getFlexAttribute(node: any, attribute: string) {\n    const index = ['flex-grow', 'flex-shrink', 'flex-basis'].indexOf(attribute);\n    return ((node.options || {}).flex || '').split(/\\s+/)[index] ||\n      (node.options || {})[attribute] || ['1', '1', 'auto'][index];\n  }\n\n  showWidget(layoutNode: any): boolean {\n    return this.jsf.evaluateCondition(layoutNode, this.dataIndex);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'section-widget',\n  template: `\n    <div *ngIf=\"containerType === 'div'\"\n      [class]=\"options?.htmlClass || ''\"\n      [class.expandable]=\"options?.expandable && !expanded\"\n      [class.expanded]=\"options?.expandable && expanded\">\n      <label *ngIf=\"sectionTitle\"\n        class=\"legend\"\n        [class]=\"options?.labelHtmlClass || ''\"\n        [innerHTML]=\"sectionTitle\"\n        (click)=\"toggleExpanded()\"></label>\n      <root-widget *ngIf=\"expanded\"\n        [dataIndex]=\"dataIndex\"\n        [layout]=\"layoutNode.items\"\n        [layoutIndex]=\"layoutIndex\"\n        [isFlexItem]=\"getFlexAttribute('is-flex')\"\n        [isOrderable]=\"options?.orderable\"\n        [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\n        [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\n        [style.align-content]=\"getFlexAttribute('align-content')\"\n        [style.align-items]=\"getFlexAttribute('align-items')\"\n        [style.display]=\"getFlexAttribute('display')\"\n        [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\n        [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\n        [style.justify-content]=\"getFlexAttribute('justify-content')\"></root-widget>\n    </div>\n    <fieldset *ngIf=\"containerType === 'fieldset'\"\n      [class]=\"options?.htmlClass || ''\"\n      [class.expandable]=\"options?.expandable && !expanded\"\n      [class.expanded]=\"options?.expandable && expanded\"\n      [disabled]=\"options?.readonly\">\n      <legend *ngIf=\"sectionTitle\"\n        class=\"legend\"\n        [class]=\"options?.labelHtmlClass || ''\"\n        [innerHTML]=\"sectionTitle\"\n        (click)=\"toggleExpanded()\"></legend>\n      <div *ngIf=\"options?.messageLocation !== 'bottom'\">\n        <p *ngIf=\"options?.description\"\n        class=\"help-block\"\n        [class]=\"options?.labelHelpBlockClass || ''\"\n        [innerHTML]=\"options?.description\"></p>\n      </div>\n      <root-widget *ngIf=\"expanded\"\n        [dataIndex]=\"dataIndex\"\n        [layout]=\"layoutNode.items\"\n        [layoutIndex]=\"layoutIndex\"\n        [isFlexItem]=\"getFlexAttribute('is-flex')\"\n        [isOrderable]=\"options?.orderable\"\n        [class.form-flex-column]=\"getFlexAttribute('flex-direction') === 'column'\"\n        [class.form-flex-row]=\"getFlexAttribute('flex-direction') === 'row'\"\n        [style.align-content]=\"getFlexAttribute('align-content')\"\n        [style.align-items]=\"getFlexAttribute('align-items')\"\n        [style.display]=\"getFlexAttribute('display')\"\n        [style.flex-direction]=\"getFlexAttribute('flex-direction')\"\n        [style.flex-wrap]=\"getFlexAttribute('flex-wrap')\"\n        [style.justify-content]=\"getFlexAttribute('justify-content')\"></root-widget>\n      <div *ngIf=\"options?.messageLocation === 'bottom'\">\n        <p *ngIf=\"options?.description\"\n        class=\"help-block\"\n        [class]=\"options?.labelHelpBlockClass || ''\"\n        [innerHTML]=\"options?.description\"></p>\n      </div>\n    </fieldset>`,\n  styles: [`\n    .legend { font-weight: bold; }\n    .expandable > legend:before, .expandable > label:before  { content: 'â¶'; padding-right: .3em; }\n    .expanded > legend:before, .expanded > label:before  { content: 'â¼'; padding-right: .2em; }\n  `],\n})\nexport class SectionComponent implements OnInit {\n  options: any;\n  expanded = true;\n  containerType: string;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  get sectionTitle() {\n    return this.options.notitle ? null : this.jsf.setItemTitle(this);\n  }\n\n  ngOnInit() {\n    this.jsf.initializeControl(this);\n    this.options = this.layoutNode.options || {};\n    this.expanded = typeof this.options.expanded === 'boolean' ?\n      this.options.expanded : !this.options.expandable;\n    switch (this.layoutNode.type) {\n      case 'fieldset': case 'array': case 'tab': case 'advancedfieldset':\n      case 'authfieldset': case 'optionfieldset': case 'selectfieldset':\n        this.containerType = 'fieldset';\n      break;\n      default: // 'div', 'flex', 'section', 'conditional', 'actions', 'tagsinput'\n        this.containerType = 'div';\n      break;\n    }\n  }\n\n  toggleExpanded() {\n    if (this.options.expandable) { this.expanded = !this.expanded; }\n  }\n\n  // Set attributes for flexbox container\n  // (child attributes are set in root.component)\n  getFlexAttribute(attribute: string) {\n    const flexActive: boolean =\n      this.layoutNode.type === 'flex' ||\n      !!this.options.displayFlex ||\n      this.options.display === 'flex';\n    if (attribute !== 'flex' && !flexActive) { return null; }\n    switch (attribute) {\n      case 'is-flex':\n        return flexActive;\n      case 'display':\n        return flexActive ? 'flex' : 'initial';\n      case 'flex-direction': case 'flex-wrap':\n        const index = ['flex-direction', 'flex-wrap'].indexOf(attribute);\n        return (this.options['flex-flow'] || '').split(/\\s+/)[index] ||\n          this.options[attribute] || ['column', 'nowrap'][index];\n      case 'justify-content': case 'align-items': case 'align-content':\n        return this.options[attribute];\n    }\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { buildTitleMap, isArray } from '../shared';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'select-widget',\n  template: `\n    <div\n      [class]=\"options?.htmlClass || ''\">\n      <label *ngIf=\"options?.title\"\n        [attr.for]=\"'control' + layoutNode?._id\"\n        [class]=\"options?.labelHtmlClass || ''\"\n        [style.display]=\"options?.notitle ? 'none' : ''\"\n        [innerHTML]=\"options?.title\"></label>\n      <select *ngIf=\"boundControl\"\n        [formControl]=\"formControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.required]=\"options?.required\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\">\n        <ng-template ngFor let-selectItem [ngForOf]=\"selectList\">\n          <option *ngIf=\"!isArray(selectItem?.items)\"\n            [value]=\"selectItem?.value\">\n            <span [innerHTML]=\"selectItem?.name\"></span>\n          </option>\n          <optgroup *ngIf=\"isArray(selectItem?.items)\"\n            [label]=\"selectItem?.group\">\n            <option *ngFor=\"let subItem of selectItem.items\"\n              [value]=\"subItem?.value\">\n              <span [innerHTML]=\"subItem?.name\"></span>\n            </option>\n          </optgroup>\n        </ng-template>\n      </select>\n      <select *ngIf=\"!boundControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.required]=\"options?.required\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        (change)=\"updateValue($event)\">\n        <ng-template ngFor let-selectItem [ngForOf]=\"selectList\">\n          <option *ngIf=\"!isArray(selectItem?.items)\"\n            [selected]=\"selectItem?.value === controlValue\"\n            [value]=\"selectItem?.value\">\n            <span [innerHTML]=\"selectItem?.name\"></span>\n          </option>\n          <optgroup *ngIf=\"isArray(selectItem?.items)\"\n            [label]=\"selectItem?.group\">\n            <option *ngFor=\"let subItem of selectItem.items\"\n              [attr.selected]=\"subItem?.value === controlValue\"\n              [value]=\"subItem?.value\">\n              <span [innerHTML]=\"subItem?.name\"></span>\n            </option>\n          </optgroup>\n        </ng-template>\n      </select>\n    </div>`,\n})\nexport class SelectComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  selectList: any[] = [];\n  isArray = isArray;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.selectList = buildTitleMap(\n      this.options.titleMap || this.options.enumNames,\n      this.options.enum, !!this.options.required, !!this.options.flatList\n    );\n    this.jsf.initializeControl(this);\n  }\n\n  updateValue(event) {\n    this.jsf.updateValue(this, event.target.value);\n  }\n}\n","import {\n  Component, ComponentFactoryResolver, ComponentRef, Input,\n  OnChanges, OnInit, ViewChild, ViewContainerRef\n} from '@angular/core';\n\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'select-framework-widget',\n  template: `<div #widgetContainer></div>`,\n})\nexport class SelectFrameworkComponent implements OnChanges, OnInit {\n  newComponent: ComponentRef<any> = null;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n  @ViewChild('widgetContainer', {\n      read: ViewContainerRef,\n      static: true })\n    widgetContainer: ViewContainerRef;\n\n  constructor(\n    private componentFactory: ComponentFactoryResolver,\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.updateComponent();\n  }\n\n  ngOnChanges() {\n    this.updateComponent();\n  }\n\n  updateComponent() {\n    if (this.widgetContainer && !this.newComponent && this.jsf.framework) {\n      this.newComponent = this.widgetContainer.createComponent(\n        this.componentFactory.resolveComponentFactory(this.jsf.framework)\n      );\n    }\n    if (this.newComponent) {\n      for (const input of ['layoutNode', 'layoutIndex', 'dataIndex']) {\n        this.newComponent.instance[input] = this[input];\n      }\n    }\n  }\n}\n","import {\n  Component, ComponentFactoryResolver, ComponentRef, Input,\n  OnChanges, OnInit, ViewChild, ViewContainerRef\n} from '@angular/core';\n\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'select-widget-widget',\n  template: `<div #widgetContainer></div>`,\n})\nexport class SelectWidgetComponent implements OnChanges, OnInit {\n  newComponent: ComponentRef<any> = null;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n  @ViewChild('widgetContainer', { read: ViewContainerRef, static: true })\n    widgetContainer: ViewContainerRef;\n\n  constructor(\n    private componentFactory: ComponentFactoryResolver,\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.updateComponent();\n  }\n\n  ngOnChanges() {\n    this.updateComponent();\n  }\n\n  updateComponent() {\n    if (this.widgetContainer && !this.newComponent && (this.layoutNode || {}).widget) {\n      this.newComponent = this.widgetContainer.createComponent(\n        this.componentFactory.resolveComponentFactory(this.layoutNode.widget)\n      );\n    }\n    if (this.newComponent) {\n      for (const input of ['layoutNode', 'layoutIndex', 'dataIndex']) {\n        this.newComponent.instance[input] = this[input];\n      }\n    }\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { hasOwn } from '../shared/utility.functions';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'submit-widget',\n  template: `\n    <div\n      [class]=\"options?.htmlClass || ''\">\n      <input\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.required]=\"options?.required\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [type]=\"layoutNode?.type\"\n        [value]=\"controlValue\"\n        (click)=\"updateValue($event)\">\n    </div>`,\n})\nexport class SubmitComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n    if (hasOwn(this.options, 'disabled')) {\n      this.controlDisabled = this.options.disabled;\n    } else if (this.jsf.formOptions.disableInvalidSubmit) {\n      this.controlDisabled = !this.jsf.isValid;\n      this.jsf.isValidChanges.subscribe(isValid => this.controlDisabled = !isValid);\n    }\n    if (this.controlValue === null || this.controlValue === undefined) {\n      this.controlValue = this.options.title;\n    }\n  }\n\n  updateValue(event) {\n    if (typeof this.options.onClick === 'function') {\n      this.options.onClick(event);\n    } else {\n      this.jsf.updateValue(this, event.target.value);\n    }\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'tabs-widget',\n  template: `\n    <ul\n      [class]=\"options?.labelHtmlClass || ''\">\n      <li *ngFor=\"let item of layoutNode?.items; let i = index\"\n        [class]=\"(options?.itemLabelHtmlClass || '') + (selectedItem === i ?\n          (' ' + (options?.activeClass || '') + ' ' + (options?.style?.selected || '')) :\n          (' ' + options?.style?.unselected))\"\n        role=\"presentation\"\n        data-tabs>\n        <a *ngIf=\"showAddTab || item.type !== '$ref'\"\n           [class]=\"'nav-link' + (selectedItem === i ? (' ' + options?.activeClass + ' ' + options?.style?.selected) :\n            (' ' + options?.style?.unselected))\"\n          [innerHTML]=\"setTabTitle(item, i)\"\n          (click)=\"select(i)\"></a>\n      </li>\n    </ul>\n\n    <div *ngFor=\"let layoutItem of layoutNode?.items; let i = index\"\n      [class]=\"options?.htmlClass || ''\">\n\n      <select-framework-widget *ngIf=\"selectedItem === i\"\n        [class]=\"(options?.fieldHtmlClass || '') +\n          ' ' + (options?.activeClass || '') +\n          ' ' + (options?.style?.selected || '')\"\n        [dataIndex]=\"layoutNode?.dataType === 'array' ? (dataIndex || []).concat(i) : dataIndex\"\n        [layoutIndex]=\"(layoutIndex || []).concat(i)\"\n        [layoutNode]=\"layoutItem\"></select-framework-widget>\n\n    </div>`,\n  styles: [` a { cursor: pointer; } `],\n})\nexport class TabsComponent implements OnInit {\n  options: any;\n  itemCount: number;\n  selectedItem = 0;\n  showAddTab = true;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.itemCount = this.layoutNode.items.length - 1;\n    this.updateControl();\n  }\n\n  select(index) {\n    if (this.layoutNode.items[index].type === '$ref') {\n      this.itemCount = this.layoutNode.items.length;\n      this.jsf.addItem({\n        layoutNode: this.layoutNode.items[index],\n        layoutIndex: this.layoutIndex.concat(index),\n        dataIndex: this.dataIndex.concat(index)\n      });\n      this.updateControl();\n    }\n    this.selectedItem = index;\n  }\n\n  updateControl() {\n    const lastItem = this.layoutNode.items[this.layoutNode.items.length - 1];\n    if (lastItem.type === '$ref' &&\n      this.itemCount >= (lastItem.options.maxItems || 1000)\n    ) {\n      this.showAddTab = false;\n    }\n  }\n\n  setTabTitle(item: any, index: number): string {\n    return this.jsf.setArrayItemTitle(this, item, index);\n  }\n}\n","import {\n  Component,\n  ComponentFactoryResolver,\n  ComponentRef,\n  Input,\n  OnChanges,\n  OnInit,\n  ViewChild,\n  ViewContainerRef\n  } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'template-widget',\n  template: `<div #widgetContainer></div>`,\n})\nexport class TemplateComponent implements OnInit, OnChanges {\n  newComponent: ComponentRef<any> = null;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n  @ViewChild('widgetContainer', { read: ViewContainerRef , static: true})\n    widgetContainer: ViewContainerRef;\n\n  constructor(\n    private componentFactory: ComponentFactoryResolver,\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.updateComponent();\n  }\n\n  ngOnChanges() {\n    this.updateComponent();\n  }\n\n  updateComponent() {\n    if (this.widgetContainer && !this.newComponent && this.layoutNode.options.template) {\n      this.newComponent = this.widgetContainer.createComponent(\n        this.componentFactory.resolveComponentFactory(this.layoutNode.options.template)\n      );\n    }\n    if (this.newComponent) {\n      for (const input of ['layoutNode', 'layoutIndex', 'dataIndex']) {\n        this.newComponent.instance[input] = this[input];\n      }\n    }\n  }\n}\n","import { AbstractControl } from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'textarea-widget',\n  template: `\n    <div\n      [class]=\"options?.htmlClass || ''\">\n      <label *ngIf=\"options?.title\"\n        [attr.for]=\"'control' + layoutNode?._id\"\n        [class]=\"options?.labelHtmlClass || ''\"\n        [style.display]=\"options?.notitle ? 'none' : ''\"\n        [innerHTML]=\"options?.title\"></label>\n      <textarea *ngIf=\"boundControl\"\n        [formControl]=\"formControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.maxlength]=\"options?.maxLength\"\n        [attr.minlength]=\"options?.minLength\"\n        [attr.pattern]=\"options?.pattern\"\n        [attr.placeholder]=\"options?.placeholder\"\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.required]=\"options?.required\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"></textarea>\n      <textarea *ngIf=\"!boundControl\"\n        [attr.aria-describedby]=\"'control' + layoutNode?._id + 'Status'\"\n        [attr.maxlength]=\"options?.maxLength\"\n        [attr.minlength]=\"options?.minLength\"\n        [attr.pattern]=\"options?.pattern\"\n        [attr.placeholder]=\"options?.placeholder\"\n        [attr.readonly]=\"options?.readonly ? 'readonly' : null\"\n        [attr.required]=\"options?.required\"\n        [class]=\"options?.fieldHtmlClass || ''\"\n        [disabled]=\"controlDisabled\"\n        [id]=\"'control' + layoutNode?._id\"\n        [name]=\"controlName\"\n        [value]=\"controlValue\"\n        (input)=\"updateValue($event)\">{{controlValue}}</textarea>\n    </div>`,\n})\nexport class TextareaComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  options: any;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n    this.jsf.initializeControl(this);\n  }\n\n  updateValue(event) {\n    this.jsf.updateValue(this, event.target.value);\n  }\n}\n","import { AddReferenceComponent } from './add-reference.component';\nimport { ButtonComponent } from './button.component';\nimport { CheckboxComponent } from './checkbox.component';\nimport { CheckboxesComponent } from './checkboxes.component';\nimport { FileComponent } from './file.component';\nimport { hasOwn } from '../shared/utility.functions';\nimport { Injectable } from '@angular/core';\nimport { InputComponent } from './input.component';\nimport { MessageComponent } from './message.component';\nimport { NoneComponent } from './none.component';\nimport { NumberComponent } from './number.component';\nimport { OneOfComponent } from './one-of.component';\nimport { RadiosComponent } from './radios.component';\nimport { RootComponent } from './root.component';\nimport { SectionComponent } from './section.component';\nimport { SelectComponent } from './select.component';\nimport { SelectFrameworkComponent } from './select-framework.component';\nimport { SelectWidgetComponent } from './select-widget.component';\nimport { SubmitComponent } from './submit.component';\nimport { TabsComponent } from './tabs.component';\nimport { TemplateComponent } from './template.component';\nimport { TextareaComponent } from './textarea.component';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class WidgetLibraryService {\n\n  defaultWidget = 'text';\n  widgetLibrary: any = {\n\n  // Angular JSON Schema Form administrative widgets\n    'none': NoneComponent, // Placeholder, for development - displays nothing\n    'root': RootComponent, // Form root, renders a complete layout\n    'select-framework': SelectFrameworkComponent, // Applies the selected framework to a specified widget\n    'select-widget': SelectWidgetComponent, // Displays a specified widget\n    '$ref': AddReferenceComponent, // Button to add a new array item or $ref element\n\n  // Free-form text HTML 'input' form control widgets <input type=\"...\">\n    'email': 'text',\n    'integer': 'number', // Note: 'integer' is not a recognized HTML input type\n    'number': NumberComponent,\n    'password': 'text',\n    'search': 'text',\n    'tel': 'text',\n    'text': InputComponent,\n    'url': 'text',\n\n  // Controlled text HTML 'input' form control widgets <input type=\"...\">\n    'color': 'text',\n    'date': 'text',\n    'datetime': 'text',\n    'datetime-local': 'text',\n    'month': 'text',\n    'range': 'number',\n    'time': 'text',\n    'week': 'text',\n\n  // Non-text HTML 'input' form control widgets <input type=\"...\">\n    // 'button': <input type=\"button\"> not used, use <button> instead\n    'checkbox': CheckboxComponent, // TODO: Set ternary = true for 3-state ??\n    'file': FileComponent, // TODO: Finish 'file' widget\n    'hidden': 'text',\n    'image': 'text', // TODO: Figure out how to handle these\n    'radio': 'radios',\n    'reset': 'submit', // TODO: Figure out how to handle these\n    'submit': SubmitComponent,\n\n  // Other (non-'input') HTML form control widgets\n    'button': ButtonComponent,\n    'select': SelectComponent,\n    // 'option': automatically generated by select widgets\n    // 'optgroup': automatically generated by select widgets\n    'textarea': TextareaComponent,\n\n  // HTML form control widget sets\n    'checkboxes': CheckboxesComponent, // Grouped list of checkboxes\n    'checkboxes-inline': 'checkboxes', // Checkboxes in one line\n    'checkboxbuttons': 'checkboxes', // Checkboxes as html buttons\n    'radios': RadiosComponent, // Grouped list of radio buttons\n    'radios-inline': 'radios', // Radio controls in one line\n    'radiobuttons': 'radios', // Radio controls as html buttons\n\n  // HTML Layout widgets\n    // 'label': automatically added to data widgets\n    // 'legend': automatically added to fieldsets\n    'section': SectionComponent, // Just a div <div>\n    'div': 'section', // Still just a div <div>\n    'fieldset': 'section', // A fieldset, with an optional legend <fieldset>\n    'flex': 'section', // A flexbox container <div style=\"display: flex\">\n\n  // Non-HTML layout widgets\n    'one-of': OneOfComponent, // A select box that changes another input\n                              // TODO: Finish 'one-of' widget\n    'array': 'section', // A list you can add, remove and reorder <fieldset>\n    'tabarray': 'tabs', // A tabbed version of array\n    'tab': 'section', // A tab group, similar to a fieldset or section <fieldset>\n    'tabs': TabsComponent, // A tabbed set of panels with different controls\n    'message': MessageComponent, // Insert arbitrary html\n    'help': 'message', // Insert arbitrary html\n    'msg': 'message', // Insert arbitrary html\n    'html': 'message', // Insert arbitrary html\n    'template': TemplateComponent, // Insert a custom Angular component\n\n  // Widgets included for compatibility with JSON Form API\n    'advancedfieldset': 'section', // Adds 'Advanced settings' title <fieldset>\n    'authfieldset': 'section', // Adds 'Authentication settings' title <fieldset>\n    'optionfieldset': 'one-of', // Option control, displays selected sub-item <fieldset>\n    'selectfieldset': 'one-of', // Select control, displays selected sub-item <fieldset>\n    'conditional': 'section', // Identical to 'section' (depeciated) <div>\n    'actions': 'section', // Horizontal button list, can only submit, uses buttons as items <div>\n    'tagsinput': 'section', // For entering short text tags <div>\n    // See: http://ulion.github.io/jsonform/playground/?example=fields-checkboxbuttons\n\n  // Widgets included for compatibility with React JSON Schema Form API\n    'updown': 'number',\n    'date-time': 'datetime-local',\n    'alt-datetime': 'datetime-local',\n    'alt-date': 'date',\n\n  // Widgets included for compatibility with Angular Schema Form API\n    'wizard': 'section', // TODO: Sequential panels with \"Next\" and \"Previous\" buttons\n\n  // Widgets included for compatibility with other libraries\n    'textline': 'text',\n\n  // Recommended 3rd-party add-on widgets (TODO: create wrappers for these...)\n    // 'ng2-select': Select control replacement - http://valor-software.com/ng2-select/\n    // 'flatpickr': Flatpickr date picker - https://github.com/chmln/flatpickr\n    // 'pikaday': Pikaday date picker - https://github.com/dbushell/Pikaday\n    // 'spectrum': Spectrum color picker - http://bgrins.github.io/spectrum\n    // 'bootstrap-slider': Bootstrap Slider range control - https://github.com/seiyria/bootstrap-slider\n    // 'ace': ACE code editor - https://ace.c9.io\n    // 'ckeditor': CKEditor HTML / rich text editor - http://ckeditor.com\n    // 'tinymce': TinyMCE HTML / rich text editor - https://www.tinymce.com\n    // 'imageselect': Bootstrap drop-down image selector - http://silviomoreto.github.io/bootstrap-select\n    // 'wysihtml5': HTML editor - http://jhollingworth.github.io/bootstrap-wysihtml5\n    // 'quill': Quill HTML / rich text editor (?) - https://quilljs.com\n  };\n  registeredWidgets: any = { };\n  frameworkWidgets: any = { };\n  activeWidgets: any = { };\n\n  constructor() {\n    this.setActiveWidgets();\n  }\n\n  setActiveWidgets(): boolean {\n    this.activeWidgets = Object.assign(\n      { }, this.widgetLibrary, this.frameworkWidgets, this.registeredWidgets\n    );\n    for (const widgetName of Object.keys(this.activeWidgets)) {\n      let widget: any = this.activeWidgets[widgetName];\n      // Resolve aliases\n      if (typeof widget === 'string') {\n        const usedAliases: string[] = [];\n        while (typeof widget === 'string' && !usedAliases.includes(widget)) {\n          usedAliases.push(widget);\n          widget = this.activeWidgets[widget];\n        }\n        if (typeof widget !== 'string') {\n          this.activeWidgets[widgetName] = widget;\n        }\n      }\n    }\n    return true;\n  }\n\n  setDefaultWidget(type: string): boolean {\n    if (!this.hasWidget(type)) { return false; }\n    this.defaultWidget = type;\n    return true;\n  }\n\n  hasWidget(type: string, widgetSet = 'activeWidgets'): boolean {\n    if (!type || typeof type !== 'string') { return false; }\n    return hasOwn(this[widgetSet], type);\n  }\n\n  hasDefaultWidget(type: string): boolean {\n    return this.hasWidget(type, 'widgetLibrary');\n  }\n\n  registerWidget(type: string, widget: any): boolean {\n    if (!type || !widget || typeof type !== 'string') { return false; }\n    this.registeredWidgets[type] = widget;\n    return this.setActiveWidgets();\n  }\n\n  unRegisterWidget(type: string): boolean {\n    if (!hasOwn(this.registeredWidgets, type)) { return false; }\n    delete this.registeredWidgets[type];\n    return this.setActiveWidgets();\n  }\n\n  unRegisterAllWidgets(unRegisterFrameworkWidgets = true): boolean {\n    this.registeredWidgets = { };\n    if (unRegisterFrameworkWidgets) { this.frameworkWidgets = { }; }\n    return this.setActiveWidgets();\n  }\n\n  registerFrameworkWidgets(widgets: any): boolean {\n    if (widgets === null || typeof widgets !== 'object') { widgets = { }; }\n    this.frameworkWidgets = widgets;\n    return this.setActiveWidgets();\n  }\n\n  unRegisterFrameworkWidgets(): boolean {\n    if (Object.keys(this.frameworkWidgets).length) {\n      this.frameworkWidgets = { };\n      return this.setActiveWidgets();\n    }\n    return false;\n  }\n\n  getWidget(type?: string, widgetSet = 'activeWidgets'): any {\n    if (this.hasWidget(type, widgetSet)) {\n      return this[widgetSet][type];\n    } else if (this.hasWidget(this.defaultWidget, widgetSet)) {\n      return this[widgetSet][this.defaultWidget];\n    } else {\n      return null;\n    }\n  }\n\n  getAllWidgets(): any {\n    return {\n      widgetLibrary: this.widgetLibrary,\n      registeredWidgets: this.registeredWidgets,\n      frameworkWidgets: this.frameworkWidgets,\n      activeWidgets: this.activeWidgets,\n    };\n  }\n}\n","import { Framework } from './framework';\nimport { hasOwn } from '../shared/utility.functions';\nimport { Inject, Injectable } from '@angular/core';\nimport { WidgetLibraryService } from '../widget-library/widget-library.service';\n\n// Possible future frameworks:\n// - Foundation 6:\n//   http://justindavis.co/2017/06/15/using-foundation-6-in-angular-4/\n//   https://github.com/zurb/foundation-sites\n// - Semantic UI:\n//   https://github.com/edcarroll/ng2-semantic-ui\n//   https://github.com/vladotesanovic/ngSemantic\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class FrameworkLibraryService {\n  activeFramework: Framework = null;\n  stylesheets: (HTMLStyleElement|HTMLLinkElement)[];\n  scripts: HTMLScriptElement[];\n  loadExternalAssets = false;\n  defaultFramework: string;\n  frameworkLibrary: { [name: string]: Framework } = {};\n\n  constructor(\n    @Inject(Framework) private frameworks: any[],\n    @Inject(WidgetLibraryService) private widgetLibrary: WidgetLibraryService\n  ) {\n    this.frameworks.forEach(framework =>\n      this.frameworkLibrary[framework.name] = framework\n    );\n    this.defaultFramework = this.frameworks[0].name;\n    this.setFramework(this.defaultFramework);\n  }\n\n  public setLoadExternalAssets(loadExternalAssets = true): void {\n    this.loadExternalAssets = !!loadExternalAssets;\n  }\n\n  public setFramework(\n    framework: string|Framework = this.defaultFramework,\n    loadExternalAssets = this.loadExternalAssets\n  ): boolean {\n    this.activeFramework =\n      typeof framework === 'string' && this.hasFramework(framework) ?\n        this.frameworkLibrary[framework] :\n      typeof framework === 'object' && hasOwn(framework, 'framework') ?\n        framework :\n        this.frameworkLibrary[this.defaultFramework];\n    return this.registerFrameworkWidgets(this.activeFramework);\n  }\n\n  registerFrameworkWidgets(framework: Framework): boolean {\n    return hasOwn(framework, 'widgets') ?\n      this.widgetLibrary.registerFrameworkWidgets(framework.widgets) :\n      this.widgetLibrary.unRegisterFrameworkWidgets();\n  }\n\n  public hasFramework(type: string): boolean {\n    return hasOwn(this.frameworkLibrary, type);\n  }\n\n  public getFramework(): any {\n    if (!this.activeFramework) { this.setFramework('default', true); }\n    return this.activeFramework.framework;\n  }\n\n  public getFrameworkWidgets(): any {\n    return this.activeFramework.widgets || {};\n  }\n\n  public getFrameworkStylesheets(load: boolean = this.loadExternalAssets): string[] {\n    return (load && this.activeFramework.stylesheets) || [];\n  }\n\n  public getFrameworkScripts(load: boolean = this.loadExternalAssets): string[] {\n    return (load && this.activeFramework.scripts) || [];\n  }\n}\n","import cloneDeep from 'lodash/cloneDeep';\nimport isEqual from 'lodash/isEqual';\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges,\n} from '@angular/core';\nimport { ControlValueAccessor } from '@angular/forms';\nimport { convertSchemaToDraft6 } from './shared/convert-schema-to-draft6.function';\nimport { forEach, hasOwn } from './shared/utility.functions';\nimport { FrameworkLibraryService } from './framework-library/framework-library.service';\nimport {\n  hasValue,\n  inArray,\n  isArray,\n  isEmpty,\n  isObject\n} from './shared/validator.functions';\nimport { JsonPointer } from './shared/jsonpointer.functions';\nimport { JsonSchemaFormService } from './json-schema-form.service';\nimport { resolveSchemaReferences } from './shared/json-schema.functions';\nimport { WidgetLibraryService } from './widget-library/widget-library.service';\n\n\n/**\n * @module 'JsonSchemaFormComponent' - Angular JSON Schema Form\n *\n * Root module of the Angular JSON Schema Form client-side library,\n * an Angular library which generates an HTML form from a JSON schema\n * structured data model and/or a JSON Schema Form layout description.\n *\n * This library also validates input data by the user, using both validators on\n * individual controls to provide real-time feedback while the user is filling\n * out the form, and then validating the entire input against the schema when\n * the form is submitted to make sure the returned JSON data object is valid.\n *\n * This library is similar to, and mostly API compatible with:\n *\n * - JSON Schema Form's Angular Schema Form library for AngularJs\n *   http://schemaform.io\n *   http://schemaform.io/examples/bootstrap-example.html (examples)\n *\n * - Mozilla's react-jsonschema-form library for React\n *   https://github.com/mozilla-services/react-jsonschema-form\n *   https://mozilla-services.github.io/react-jsonschema-form (examples)\n *\n * - Joshfire's JSON Form library for jQuery\n *   https://github.com/joshfire/jsonform\n *   http://ulion.github.io/jsonform/playground (examples)\n *\n * This library depends on:\n *  - Angular (obviously)                  https://angular.io\n *  - lodash, JavaScript utility library   https://github.com/lodash/lodash\n *  - ajv, Another JSON Schema validator   https://github.com/epoberezkin/ajv\n *\n * In addition, the Example Playground also depends on:\n *  - brace, Browserified Ace editor       http://thlorenz.github.io/brace\n */\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'json-schema-form',\n  templateUrl: './json-schema-form.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class JsonSchemaFormComponent implements ControlValueAccessor, OnChanges, OnInit {\n  debugOutput: any; // Debug information, if requested\n  formValueSubscription: any = null;\n  formInitialized = false;\n  objectWrap = false; // Is non-object input schema wrapped in an object?\n\n  formValuesInput: string; // Name of the input providing the form data\n  previousInputs: { // Previous input values, to detect which input triggers onChanges\n    schema: any, layout: any[], data: any, options: any, framework: any | string,\n    widgets: any, form: any, model: any, JSONSchema: any, UISchema: any,\n    formData: any, loadExternalAssets: boolean, debug: boolean,\n  } = {\n      schema: null, layout: null, data: null, options: null, framework: null,\n      widgets: null, form: null, model: null, JSONSchema: null, UISchema: null,\n      formData: null, loadExternalAssets: null, debug: null,\n    };\n\n  // Recommended inputs\n  @Input() schema: any; // The JSON Schema\n  @Input() layout: any[]; // The form layout\n  @Input() data: any; // The form data\n  @Input() options: any; // The global form options\n  @Input() framework: any | string; // The framework to load\n  @Input() widgets: any; // Any custom widgets to load\n\n  // Alternate combined single input\n  @Input() form: any; // For testing, and JSON Schema Form API compatibility\n\n  // Angular Schema Form API compatibility input\n  @Input() model: any; // Alternate input for form data\n\n  // React JSON Schema Form API compatibility inputs\n  @Input() JSONSchema: any; // Alternate input for JSON Schema\n  @Input() UISchema: any; // UI schema - alternate form layout format\n  @Input() formData: any; // Alternate input for form data\n\n  @Input() ngModel: any; // Alternate input for Angular forms\n\n  @Input() language: string; // Language\n\n  // Development inputs, for testing and debugging\n  @Input() loadExternalAssets: boolean; // Load external framework assets?\n  @Input() debug: boolean; // Show debug information?\n\n  @Input()\n  get value(): any {\n    return this.objectWrap ? this.jsf.data['1'] : this.jsf.data;\n  }\n  set value(value: any) {\n    this.setFormValues(value, false);\n  }\n\n  // Outputs\n  @Output() onChanges = new EventEmitter<any>(); // Live unvalidated internal form data\n  @Output() onSubmit = new EventEmitter<any>(); // Complete validated form data\n  @Output() isValid = new EventEmitter<boolean>(); // Is current data valid?\n  @Output() validationErrors = new EventEmitter<any>(); // Validation errors (if any)\n  @Output() formSchema = new EventEmitter<any>(); // Final schema used to create form\n  @Output() formLayout = new EventEmitter<any>(); // Final layout used to create form\n\n  // Outputs for possible 2-way data binding\n  // Only the one input providing the initial form data will be bound.\n  // If there is no inital data, input '{}' to activate 2-way data binding.\n  // There is no 2-way binding if inital data is combined inside the 'form' input.\n  @Output() dataChange = new EventEmitter<any>();\n  @Output() modelChange = new EventEmitter<any>();\n  @Output() formDataChange = new EventEmitter<any>();\n  @Output() ngModelChange = new EventEmitter<any>();\n\n  onChange: Function;\n  onTouched: Function;\n\n  constructor(\n    private changeDetector: ChangeDetectorRef,\n    private frameworkLibrary: FrameworkLibraryService,\n    private widgetLibrary: WidgetLibraryService,\n    public jsf: JsonSchemaFormService,\n  ) { }\n\n  private resetScriptsAndStyleSheets() {\n    document.querySelectorAll('.ajsf').forEach(element => element.remove());\n  }\n  private loadScripts() {\n    const scripts = this.frameworkLibrary.getFrameworkScripts();\n    scripts.map(script => {\n      const scriptTag: HTMLScriptElement = document.createElement('script');\n      scriptTag.src = script;\n      scriptTag.type = 'text/javascript';\n      scriptTag.async = true;\n      scriptTag.setAttribute('class', 'ajsf');\n      document.getElementsByTagName('head')[0].appendChild(scriptTag);\n    });\n  }\n  private loadStyleSheets() {\n    const stylesheets = this.frameworkLibrary.getFrameworkStylesheets();\n    stylesheets.map(stylesheet => {\n      const linkTag: HTMLLinkElement = document.createElement('link');\n      linkTag.rel = 'stylesheet';\n      linkTag.href = stylesheet;\n      linkTag.setAttribute('class', 'ajsf');\n      document.getElementsByTagName('head')[0].appendChild(linkTag);\n    });\n  }\n  private loadAssets() {\n    this.resetScriptsAndStyleSheets();\n    this.loadScripts();\n    this.loadStyleSheets();\n  }\n  ngOnInit() {\n    this.updateForm();\n    this.loadAssets();\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.updateForm();\n    // Check if there's changes in Framework then load assets if that's the\n    if (changes.framework) {\n      if (!changes.framework.isFirstChange() &&\n        (changes.framework.previousValue !== changes.framework.currentValue)) {\n        this.loadAssets();\n      }\n    }\n  }\n\n  writeValue(value: any) {\n    this.setFormValues(value, false);\n    if (!this.formValuesInput) { this.formValuesInput = 'ngModel'; }\n  }\n\n  registerOnChange(fn: Function) {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: Function) {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    if (this.jsf.formOptions.formDisabled !== !!isDisabled) {\n      this.jsf.formOptions.formDisabled = !!isDisabled;\n      this.initializeForm();\n    }\n  }\n\n  updateForm() {\n    if (!this.formInitialized || !this.formValuesInput ||\n      (this.language && this.language !== this.jsf.language)\n    ) {\n      this.initializeForm();\n    } else {\n      if (this.language && this.language !== this.jsf.language) {\n        this.jsf.setLanguage(this.language);\n      }\n\n      // Get names of changed inputs\n      let changedInput = Object.keys(this.previousInputs)\n        .filter(input => this.previousInputs[input] !== this[input]);\n      let resetFirst = true;\n      if (changedInput.length === 1 && changedInput[0] === 'form' &&\n        this.formValuesInput.startsWith('form.')\n      ) {\n        // If only 'form' input changed, get names of changed keys\n        changedInput = Object.keys(this.previousInputs.form || {})\n          .filter(key => !isEqual(this.previousInputs.form[key], this.form[key]))\n          .map(key => `form.${key}`);\n        resetFirst = false;\n      }\n\n      // If only input values have changed, update the form values\n      if (changedInput.length === 1 && changedInput[0] === this.formValuesInput) {\n        if (this.formValuesInput.indexOf('.') === -1) {\n          this.setFormValues(this[this.formValuesInput], resetFirst);\n        } else {\n          const [input, key] = this.formValuesInput.split('.');\n          this.setFormValues(this[input][key], resetFirst);\n        }\n\n        // If anything else has changed, re-render the entire form\n      } else if (changedInput.length) {\n        this.initializeForm();\n        if (this.onChange) { this.onChange(this.jsf.formValues); }\n        if (this.onTouched) { this.onTouched(this.jsf.formValues); }\n      }\n\n      // Update previous inputs\n      Object.keys(this.previousInputs)\n        .filter(input => this.previousInputs[input] !== this[input])\n        .forEach(input => this.previousInputs[input] = this[input]);\n    }\n  }\n\n  setFormValues(formValues: any, resetFirst = true) {\n    if (formValues) {\n      const newFormValues = this.objectWrap ? formValues['1'] : formValues;\n      if (!this.jsf.formGroup) {\n        this.jsf.formValues = formValues;\n        this.activateForm();\n      } else if (resetFirst) {\n        this.jsf.formGroup.reset();\n      }\n      if (this.jsf.formGroup) {\n        this.jsf.formGroup.patchValue(newFormValues);\n      }\n      if (this.onChange) { this.onChange(newFormValues); }\n      if (this.onTouched) { this.onTouched(newFormValues); }\n    } else {\n      this.jsf.formGroup.reset();\n    }\n  }\n\n  submitForm() {\n    const validData = this.jsf.validData;\n    this.onSubmit.emit(this.objectWrap ? validData['1'] : validData);\n  }\n\n  /**\n   * 'initializeForm' function\n   *\n   * - Update 'schema', 'layout', and 'formValues', from inputs.\n   *\n   * - Create 'schemaRefLibrary' and 'schemaRecursiveRefMap'\n   *   to resolve schema $ref links, including recursive $ref links.\n   *\n   * - Create 'dataRecursiveRefMap' to resolve recursive links in data\n   *   and corectly set output formats for recursively nested values.\n   *\n   * - Create 'layoutRefLibrary' and 'templateRefLibrary' to store\n   *   new layout nodes and formGroup elements to use when dynamically\n   *   adding form components to arrays and recursive $ref points.\n   *\n   * - Create 'dataMap' to map the data to the schema and template.\n   *\n   * - Create the master 'formGroupTemplate' then from it 'formGroup'\n   *   the Angular formGroup used to control the reactive form.\n   */\n  initializeForm() {\n    if (\n      this.schema || this.layout || this.data || this.form || this.model ||\n      this.JSONSchema || this.UISchema || this.formData || this.ngModel ||\n      this.jsf.data\n    ) {\n\n      this.jsf.resetAllValues();  // Reset all form values to defaults\n      this.initializeOptions();   // Update options\n      this.initializeSchema();    // Update schema, schemaRefLibrary,\n      // schemaRecursiveRefMap, & dataRecursiveRefMap\n      this.initializeLayout();    // Update layout, layoutRefLibrary,\n      this.initializeData();      // Update formValues\n      this.activateForm();        // Update dataMap, templateRefLibrary,\n      // formGroupTemplate, formGroup\n\n      // Uncomment individual lines to output debugging information to console:\n      // (These always work.)\n      // console.log('loading form...');\n      // console.log('schema', this.jsf.schema);\n      // console.log('layout', this.jsf.layout);\n      // console.log('options', this.options);\n      // console.log('formValues', this.jsf.formValues);\n      // console.log('formGroupTemplate', this.jsf.formGroupTemplate);\n      // console.log('formGroup', this.jsf.formGroup);\n      // console.log('formGroup.value', this.jsf.formGroup.value);\n      // console.log('schemaRefLibrary', this.jsf.schemaRefLibrary);\n      // console.log('layoutRefLibrary', this.jsf.layoutRefLibrary);\n      // console.log('templateRefLibrary', this.jsf.templateRefLibrary);\n      // console.log('dataMap', this.jsf.dataMap);\n      // console.log('arrayMap', this.jsf.arrayMap);\n      // console.log('schemaRecursiveRefMap', this.jsf.schemaRecursiveRefMap);\n      // console.log('dataRecursiveRefMap', this.jsf.dataRecursiveRefMap);\n\n      // Uncomment individual lines to output debugging information to browser:\n      // (These only work if the 'debug' option has also been set to 'true'.)\n      if (this.debug || this.jsf.formOptions.debug) {\n        const vars: any[] = [];\n        // vars.push(this.jsf.schema);\n        // vars.push(this.jsf.layout);\n        // vars.push(this.options);\n        // vars.push(this.jsf.formValues);\n        // vars.push(this.jsf.formGroup.value);\n        // vars.push(this.jsf.formGroupTemplate);\n        // vars.push(this.jsf.formGroup);\n        // vars.push(this.jsf.schemaRefLibrary);\n        // vars.push(this.jsf.layoutRefLibrary);\n        // vars.push(this.jsf.templateRefLibrary);\n        // vars.push(this.jsf.dataMap);\n        // vars.push(this.jsf.arrayMap);\n        // vars.push(this.jsf.schemaRecursiveRefMap);\n        // vars.push(this.jsf.dataRecursiveRefMap);\n        this.debugOutput = vars.map(v => JSON.stringify(v, null, 2)).join('\\n');\n      }\n      this.formInitialized = true;\n    }\n  }\n\n  /**\n   * 'initializeOptions' function\n   *\n   * Initialize 'options' (global form options) and set framework\n   * Combine available inputs:\n   * 1. options - recommended\n   * 2. form.options - Single input style\n   */\n  private initializeOptions() {\n    if (this.language && this.language !== this.jsf.language) {\n      this.jsf.setLanguage(this.language);\n    }\n    this.jsf.setOptions({ debug: !!this.debug });\n    let loadExternalAssets: boolean = this.loadExternalAssets || false;\n    let framework: any = this.framework || 'default';\n    if (isObject(this.options)) {\n      this.jsf.setOptions(this.options);\n      loadExternalAssets = this.options.loadExternalAssets || loadExternalAssets;\n      framework = this.options.framework || framework;\n    }\n    if (isObject(this.form) && isObject(this.form.options)) {\n      this.jsf.setOptions(this.form.options);\n      loadExternalAssets = this.form.options.loadExternalAssets || loadExternalAssets;\n      framework = this.form.options.framework || framework;\n    }\n    if (isObject(this.widgets)) {\n      this.jsf.setOptions({ widgets: this.widgets });\n    }\n    this.frameworkLibrary.setLoadExternalAssets(loadExternalAssets);\n    this.frameworkLibrary.setFramework(framework);\n    this.jsf.framework = this.frameworkLibrary.getFramework();\n    if (isObject(this.jsf.formOptions.widgets)) {\n      for (const widget of Object.keys(this.jsf.formOptions.widgets)) {\n        this.widgetLibrary.registerWidget(widget, this.jsf.formOptions.widgets[widget]);\n      }\n    }\n    if (isObject(this.form) && isObject(this.form.tpldata)) {\n      this.jsf.setTpldata(this.form.tpldata);\n    }\n  }\n\n  /**\n   * 'initializeSchema' function\n   *\n   * Initialize 'schema'\n   * Use first available input:\n   * 1. schema - recommended / Angular Schema Form style\n   * 2. form.schema - Single input / JSON Form style\n   * 3. JSONSchema - React JSON Schema Form style\n   * 4. form.JSONSchema - For testing single input React JSON Schema Forms\n   * 5. form - For testing single schema-only inputs\n   *\n   * ... if no schema input found, the 'activateForm' function, below,\n   *     will make two additional attempts to build a schema\n   * 6. If layout input - build schema from layout\n   * 7. If data input - build schema from data\n   */\n  private initializeSchema() {\n\n    // TODO: update to allow non-object schemas\n\n    if (isObject(this.schema)) {\n      this.jsf.AngularSchemaFormCompatibility = true;\n      this.jsf.schema = cloneDeep(this.schema);\n    } else if (hasOwn(this.form, 'schema') && isObject(this.form.schema)) {\n      this.jsf.schema = cloneDeep(this.form.schema);\n    } else if (isObject(this.JSONSchema)) {\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\n      this.jsf.schema = cloneDeep(this.JSONSchema);\n    } else if (hasOwn(this.form, 'JSONSchema') && isObject(this.form.JSONSchema)) {\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\n      this.jsf.schema = cloneDeep(this.form.JSONSchema);\n    } else if (hasOwn(this.form, 'properties') && isObject(this.form.properties)) {\n      this.jsf.schema = cloneDeep(this.form);\n    } else if (isObject(this.form)) {\n      // TODO: Handle other types of form input\n    }\n\n    if (!isEmpty(this.jsf.schema)) {\n\n      // If other types also allowed, render schema as an object\n      if (inArray('object', this.jsf.schema.type)) {\n        this.jsf.schema.type = 'object';\n      }\n\n      // Wrap non-object schemas in object.\n      if (hasOwn(this.jsf.schema, 'type') && this.jsf.schema.type !== 'object') {\n        this.jsf.schema = {\n          'type': 'object',\n          'properties': { 1: this.jsf.schema }\n        };\n        this.objectWrap = true;\n      } else if (!hasOwn(this.jsf.schema, 'type')) {\n\n        // Add type = 'object' if missing\n        if (isObject(this.jsf.schema.properties) ||\n          isObject(this.jsf.schema.patternProperties) ||\n          isObject(this.jsf.schema.additionalProperties)\n        ) {\n          this.jsf.schema.type = 'object';\n\n          // Fix JSON schema shorthand (JSON Form style)\n        } else {\n          this.jsf.JsonFormCompatibility = true;\n          this.jsf.schema = {\n            'type': 'object',\n            'properties': this.jsf.schema\n          };\n        }\n      }\n\n      // If needed, update JSON Schema to draft 6 format, including\n      // draft 3 (JSON Form style) and draft 4 (Angular Schema Form style)\n      this.jsf.schema = convertSchemaToDraft6(this.jsf.schema);\n\n      // Initialize ajv and compile schema\n      this.jsf.compileAjvSchema();\n\n      // Create schemaRefLibrary, schemaRecursiveRefMap, dataRecursiveRefMap, & arrayMap\n      this.jsf.schema = resolveSchemaReferences(\n        this.jsf.schema, this.jsf.schemaRefLibrary, this.jsf.schemaRecursiveRefMap,\n        this.jsf.dataRecursiveRefMap, this.jsf.arrayMap\n      );\n      if (hasOwn(this.jsf.schemaRefLibrary, '')) {\n        this.jsf.hasRootReference = true;\n      }\n\n      // TODO: (?) Resolve external $ref links\n      // // Create schemaRefLibrary & schemaRecursiveRefMap\n      // this.parser.bundle(this.schema)\n      //   .then(schema => this.schema = resolveSchemaReferences(\n      //     schema, this.jsf.schemaRefLibrary,\n      //     this.jsf.schemaRecursiveRefMap, this.jsf.dataRecursiveRefMap\n      //   ));\n    }\n  }\n\n  /**\n   * 'initializeData' function\n   *\n   * Initialize 'formValues'\n   * defulat or previously submitted values used to populate form\n   * Use first available input:\n   * 1. data - recommended\n   * 2. model - Angular Schema Form style\n   * 3. form.value - JSON Form style\n   * 4. form.data - Single input style\n   * 5. formData - React JSON Schema Form style\n   * 6. form.formData - For easier testing of React JSON Schema Forms\n   * 7. (none) no data - initialize data from schema and layout defaults only\n   */\n  private initializeData() {\n    if (hasValue(this.data)) {\n      this.jsf.formValues = cloneDeep(this.data);\n      this.formValuesInput = 'data';\n    } else if (hasValue(this.model)) {\n      this.jsf.AngularSchemaFormCompatibility = true;\n      this.jsf.formValues = cloneDeep(this.model);\n      this.formValuesInput = 'model';\n    } else if (hasValue(this.ngModel)) {\n      this.jsf.AngularSchemaFormCompatibility = true;\n      this.jsf.formValues = cloneDeep(this.ngModel);\n      this.formValuesInput = 'ngModel';\n    } else if (isObject(this.form) && hasValue(this.form.value)) {\n      this.jsf.JsonFormCompatibility = true;\n      this.jsf.formValues = cloneDeep(this.form.value);\n      this.formValuesInput = 'form.value';\n    } else if (isObject(this.form) && hasValue(this.form.data)) {\n      this.jsf.formValues = cloneDeep(this.form.data);\n      this.formValuesInput = 'form.data';\n    } else if (hasValue(this.formData)) {\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\n      this.formValuesInput = 'formData';\n    } else if (hasOwn(this.form, 'formData') && hasValue(this.form.formData)) {\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\n      this.jsf.formValues = cloneDeep(this.form.formData);\n      this.formValuesInput = 'form.formData';\n    } else {\n      this.formValuesInput = null;\n    }\n  }\n\n  /**\n   * 'initializeLayout' function\n   *\n   * Initialize 'layout'\n   * Use first available array input:\n   * 1. layout - recommended\n   * 2. form - Angular Schema Form style\n   * 3. form.form - JSON Form style\n   * 4. form.layout - Single input style\n   * 5. (none) no layout - set default layout instead\n   *    (full layout will be built later from the schema)\n   *\n   * Also, if alternate layout formats are available,\n   * import from 'UISchema' or 'customFormItems'\n   * used for React JSON Schema Form and JSON Form API compatibility\n   * Use first available input:\n   * 1. UISchema - React JSON Schema Form style\n   * 2. form.UISchema - For testing single input React JSON Schema Forms\n   * 2. form.customFormItems - JSON Form style\n   * 3. (none) no input - don't import\n   */\n  private initializeLayout() {\n\n    // Rename JSON Form-style 'options' lists to\n    // Angular Schema Form-style 'titleMap' lists.\n    const fixJsonFormOptions = (layout: any): any => {\n      if (isObject(layout) || isArray(layout)) {\n        forEach(layout, (value, key) => {\n          if (hasOwn(value, 'options') && isObject(value.options)) {\n            value.titleMap = value.options;\n            delete value.options;\n          }\n        }, 'top-down');\n      }\n      return layout;\n    };\n\n    // Check for layout inputs and, if found, initialize form layout\n    if (isArray(this.layout)) {\n      this.jsf.layout = cloneDeep(this.layout);\n    } else if (isArray(this.form)) {\n      this.jsf.AngularSchemaFormCompatibility = true;\n      this.jsf.layout = cloneDeep(this.form);\n    } else if (this.form && isArray(this.form.form)) {\n      this.jsf.JsonFormCompatibility = true;\n      this.jsf.layout = fixJsonFormOptions(cloneDeep(this.form.form));\n    } else if (this.form && isArray(this.form.layout)) {\n      this.jsf.layout = cloneDeep(this.form.layout);\n    } else {\n      this.jsf.layout = ['*'];\n    }\n\n    // Check for alternate layout inputs\n    let alternateLayout: any = null;\n    if (isObject(this.UISchema)) {\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\n      alternateLayout = cloneDeep(this.UISchema);\n    } else if (hasOwn(this.form, 'UISchema')) {\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\n      alternateLayout = cloneDeep(this.form.UISchema);\n    } else if (hasOwn(this.form, 'uiSchema')) {\n      this.jsf.ReactJsonSchemaFormCompatibility = true;\n      alternateLayout = cloneDeep(this.form.uiSchema);\n    } else if (hasOwn(this.form, 'customFormItems')) {\n      this.jsf.JsonFormCompatibility = true;\n      alternateLayout = fixJsonFormOptions(cloneDeep(this.form.customFormItems));\n    }\n\n    // if alternate layout found, copy alternate layout options into schema\n    if (alternateLayout) {\n      JsonPointer.forEachDeep(alternateLayout, (value, pointer) => {\n        const schemaPointer = pointer\n          .replace(/\\//g, '/properties/')\n          .replace(/\\/properties\\/items\\/properties\\//g, '/items/properties/')\n          .replace(/\\/properties\\/titleMap\\/properties\\//g, '/titleMap/properties/');\n        if (hasValue(value) && hasValue(pointer)) {\n          let key = JsonPointer.toKey(pointer);\n          const groupPointer = (JsonPointer.parse(schemaPointer) || []).slice(0, -2);\n          let itemPointer: string | string[];\n\n          // If 'ui:order' object found, copy into object schema root\n          if (key.toLowerCase() === 'ui:order') {\n            itemPointer = [...groupPointer, 'ui:order'];\n\n            // Copy other alternate layout options to schema 'x-schema-form',\n            // (like Angular Schema Form options) and remove any 'ui:' prefixes\n          } else {\n            if (key.slice(0, 3).toLowerCase() === 'ui:') { key = key.slice(3); }\n            itemPointer = [...groupPointer, 'x-schema-form', key];\n          }\n          if (JsonPointer.has(this.jsf.schema, groupPointer) &&\n            !JsonPointer.has(this.jsf.schema, itemPointer)\n          ) {\n            JsonPointer.set(this.jsf.schema, itemPointer, value);\n          }\n        }\n      });\n    }\n  }\n\n  /**\n   * 'activateForm' function\n   *\n   * ...continued from 'initializeSchema' function, above\n   * If 'schema' has not been initialized (i.e. no schema input found)\n   * 6. If layout input - build schema from layout input\n   * 7. If data input - build schema from data input\n   *\n   * Create final layout,\n   * build the FormGroup template and the Angular FormGroup,\n   * subscribe to changes,\n   * and activate the form.\n   */\n  private activateForm() {\n\n    // If 'schema' not initialized\n    if (isEmpty(this.jsf.schema)) {\n\n      // TODO: If full layout input (with no '*'), build schema from layout\n      // if (!this.jsf.layout.includes('*')) {\n      //   this.jsf.buildSchemaFromLayout();\n      // } else\n\n      // If data input, build schema from data\n      if (!isEmpty(this.jsf.formValues)) {\n        this.jsf.buildSchemaFromData();\n      }\n    }\n\n    if (!isEmpty(this.jsf.schema)) {\n\n      // If not already initialized, initialize ajv and compile schema\n      this.jsf.compileAjvSchema();\n\n      // Update all layout elements, add values, widgets, and validators,\n      // replace any '*' with a layout built from all schema elements,\n      // and update the FormGroup template with any new validators\n      this.jsf.buildLayout(this.widgetLibrary);\n\n      // Build the Angular FormGroup template from the schema\n      this.jsf.buildFormGroupTemplate(this.jsf.formValues);\n\n      // Build the real Angular FormGroup from the FormGroup template\n      this.jsf.buildFormGroup();\n    }\n\n    if (this.jsf.formGroup) {\n\n      // Reset initial form values\n      if (!isEmpty(this.jsf.formValues) &&\n        this.jsf.formOptions.setSchemaDefaults !== true &&\n        this.jsf.formOptions.setLayoutDefaults !== true\n      ) {\n        this.setFormValues(this.jsf.formValues);\n      }\n\n      // TODO: Figure out how to display calculated values without changing object data\n      // See http://ulion.github.io/jsonform/playground/?example=templating-values\n      // Calculate references to other fields\n      // if (!isEmpty(this.jsf.formGroup.value)) {\n      //   forEach(this.jsf.formGroup.value, (value, key, object, rootObject) => {\n      //     if (typeof value === 'string') {\n      //       object[key] = this.jsf.parseText(value, value, rootObject, key);\n      //     }\n      //   }, 'top-down');\n      // }\n\n      // Subscribe to form changes to output live data, validation, and errors\n      this.jsf.dataChanges.subscribe(data => {\n        this.onChanges.emit(this.objectWrap ? data['1'] : data);\n        if (this.formValuesInput && this.formValuesInput.indexOf('.') === -1) {\n          this[`${this.formValuesInput}Change`].emit(this.objectWrap ? data['1'] : data);\n        }\n      });\n\n      // Trigger change detection on statusChanges to show updated errors\n      this.jsf.formGroup.statusChanges.subscribe(() => this.changeDetector.markForCheck());\n      this.jsf.isValidChanges.subscribe(isValid => this.isValid.emit(isValid));\n      this.jsf.validationErrorChanges.subscribe(err => this.validationErrors.emit(err));\n\n      // Output final schema, final layout, and initial data\n      this.formSchema.emit(this.jsf.schema);\n      this.formLayout.emit(this.jsf.layout);\n      this.onChanges.emit(this.objectWrap ? this.jsf.data['1'] : this.jsf.data);\n\n      // If validateOnRender, output initial validation and any errors\n      const validateOnRender =\n        JsonPointer.get(this.jsf, '/formOptions/validateOnRender');\n      if (validateOnRender) { // validateOnRender === 'auto' || true\n        const touchAll = (control) => {\n          if (validateOnRender === true || hasValue(control.value)) {\n            control.markAsTouched();\n          }\n          Object.keys(control.controls || {})\n            .forEach(key => touchAll(control.controls[key]));\n        };\n        touchAll(this.jsf.formGroup);\n        this.isValid.emit(this.jsf.isValid);\n        this.validationErrors.emit(this.jsf.ajvErrors);\n      }\n    }\n  }\n}\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'no-framework',\n  templateUrl: './no-framework.component.html',\n})\nexport class NoFrameworkComponent {\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n}\n","import { Injectable } from '@angular/core';\nimport { Framework } from './framework';\nimport { NoFrameworkComponent } from './no-framework.component';\n// No framework - plain HTML controls (styles from form layout only)\n\n@Injectable()\nexport class NoFramework extends Framework {\n  name = 'no-framework';\n\n  framework = NoFrameworkComponent;\n}\n","import { AbstractControl } from '@angular/forms';\nimport { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'hidden-widget',\n  template: `\n    <input *ngIf=\"boundControl\"\n      [formControl]=\"formControl\"\n      [id]=\"'control' + layoutNode?._id\"\n      [name]=\"controlName\"\n      type=\"hidden\">\n    <input *ngIf=\"!boundControl\"\n      [disabled]=\"controlDisabled\"\n      [name]=\"controlName\"\n      [id]=\"'control' + layoutNode?._id\"\n      type=\"hidden\"\n      [value]=\"controlValue\">`,\n})\nexport class HiddenComponent implements OnInit {\n  formControl: AbstractControl;\n  controlName: string;\n  controlValue: any;\n  controlDisabled = false;\n  boundControl = false;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.jsf.initializeControl(this);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n@Component({\n  // tslint:disable-next-line:component-selector\n  selector: 'tab-widget',\n  template: `\n    <div [class]=\"options?.htmlClass || ''\">\n      <root-widget\n        [dataIndex]=\"dataIndex\"\n        [layoutIndex]=\"layoutIndex\"\n        [layout]=\"layoutNode.items\"></root-widget>\n    </div>`,\n})\nexport class TabComponent implements OnInit {\n  options: any;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private jsf: JsonSchemaFormService\n  ) { }\n\n  ngOnInit() {\n    this.options = this.layoutNode.options || {};\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  Input,\n  NgZone,\n  OnInit\n  } from '@angular/core';\nimport { JsonSchemaFormService } from '../json-schema-form.service';\n\n\n/**\n * OrderableDirective\n *\n * Enables array elements to be reordered by dragging and dropping.\n *\n * Only works for arrays that have at least two elements.\n *\n * Also detects arrays-within-arrays, and correctly moves either\n * the child array element or the parent array element,\n * depending on the drop targert.\n *\n * Listeners for movable element being dragged:\n * - dragstart: add 'dragging' class to element, set effectAllowed = 'move'\n * - dragover: set dropEffect = 'move'\n * - dragend: remove 'dragging' class from element\n *\n * Listeners for stationary items being dragged over:\n * - dragenter: add 'drag-target-...' classes to element\n * - dragleave: remove 'drag-target-...' classes from element\n * - drop: remove 'drag-target-...' classes from element, move dropped array item\n */\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[orderable]',\n})\nexport class OrderableDirective implements OnInit {\n  arrayLayoutIndex: string;\n  element: any;\n  overParentElement = false;\n  overChildElement = false;\n  @Input() orderable: boolean;\n  @Input() layoutNode: any;\n  @Input() layoutIndex: number[];\n  @Input() dataIndex: number[];\n\n  constructor(\n    private elementRef: ElementRef,\n    private jsf: JsonSchemaFormService,\n    private ngZone: NgZone\n  ) { }\n\n  ngOnInit() {\n    if (this.orderable && this.layoutNode && this.layoutIndex && this.dataIndex) {\n      this.element = this.elementRef.nativeElement;\n      this.element.draggable = true;\n      this.arrayLayoutIndex = 'move:' + this.layoutIndex.slice(0, -1).toString();\n\n      this.ngZone.runOutsideAngular(() => {\n\n        // Listeners for movable element being dragged:\n\n        this.element.addEventListener('dragstart', (event) => {\n          event.dataTransfer.effectAllowed = 'move';\n          event.dataTransfer.setData('text', '');\n          // Hack to bypass stupid HTML drag-and-drop dataTransfer protection\n          // so drag source info will be available on dragenter\n          const sourceArrayIndex = this.dataIndex[this.dataIndex.length - 1];\n          sessionStorage.setItem(this.arrayLayoutIndex, sourceArrayIndex + '');\n        });\n\n        this.element.addEventListener('dragover', (event) => {\n          if (event.preventDefault) { event.preventDefault(); }\n          event.dataTransfer.dropEffect = 'move';\n          return false;\n        });\n\n        // Listeners for stationary items being dragged over:\n\n        this.element.addEventListener('dragenter', (event) => {\n          // Part 1 of a hack, inspired by Dragster, to simulate mouseover and mouseout\n          // behavior while dragging items - http://bensmithett.github.io/dragster/\n          if (this.overParentElement) {\n            return this.overChildElement = true;\n          } else {\n            this.overParentElement = true;\n          }\n\n          const sourceArrayIndex = sessionStorage.getItem(this.arrayLayoutIndex);\n          if (sourceArrayIndex !== null) {\n            if (this.dataIndex[this.dataIndex.length - 1] < +sourceArrayIndex) {\n              this.element.classList.add('drag-target-top');\n            } else if (this.dataIndex[this.dataIndex.length - 1] > +sourceArrayIndex) {\n              this.element.classList.add('drag-target-bottom');\n            }\n          }\n        });\n\n        this.element.addEventListener('dragleave', (event) => {\n          // Part 2 of the Dragster hack\n          if (this.overChildElement) {\n            this.overChildElement = false;\n          } else if (this.overParentElement) {\n            this.overParentElement = false;\n          }\n\n          const sourceArrayIndex = sessionStorage.getItem(this.arrayLayoutIndex);\n          if (!this.overParentElement && !this.overChildElement && sourceArrayIndex !== null) {\n            this.element.classList.remove('drag-target-top');\n            this.element.classList.remove('drag-target-bottom');\n          }\n        });\n\n        this.element.addEventListener('drop', (event) => {\n          this.element.classList.remove('drag-target-top');\n          this.element.classList.remove('drag-target-bottom');\n          // Confirm that drop target is another item in the same array as source item\n          const sourceArrayIndex = sessionStorage.getItem(this.arrayLayoutIndex);\n          const destArrayIndex = this.dataIndex[this.dataIndex.length - 1];\n          if (sourceArrayIndex !== null && +sourceArrayIndex !== destArrayIndex) {\n            // Move array item\n            this.jsf.moveArrayItem(this, +sourceArrayIndex, destArrayIndex);\n          }\n          sessionStorage.removeItem(this.arrayLayoutIndex);\n          return false;\n        });\n\n      });\n    }\n  }\n}\n","import { AddReferenceComponent } from './add-reference.component';\nimport { ButtonComponent } from './button.component';\nimport { CheckboxComponent } from './checkbox.component';\nimport { CheckboxesComponent } from './checkboxes.component';\nimport { FileComponent } from './file.component';\nimport { HiddenComponent } from './hidden.component';\nimport { InputComponent } from './input.component';\nimport { MessageComponent } from './message.component';\nimport { NoneComponent } from './none.component';\nimport { NumberComponent } from './number.component';\nimport { OneOfComponent } from './one-of.component';\nimport { RadiosComponent } from './radios.component';\nimport { RootComponent } from './root.component';\nimport { SectionComponent } from './section.component';\nimport { SelectComponent } from './select.component';\nimport { SelectFrameworkComponent } from './select-framework.component';\nimport { SelectWidgetComponent } from './select-widget.component';\nimport { SubmitComponent } from './submit.component';\nimport { TabComponent } from './tab.component';\nimport { TabsComponent } from './tabs.component';\nimport { TemplateComponent } from './template.component';\nimport { TextareaComponent } from './textarea.component';\n\nexport const BASIC_WIDGETS = [\n  AddReferenceComponent, OneOfComponent, ButtonComponent, CheckboxComponent,\n  CheckboxesComponent, FileComponent, HiddenComponent, InputComponent,\n  MessageComponent, NoneComponent, NumberComponent, RadiosComponent,\n  RootComponent, SectionComponent, SelectComponent, SelectFrameworkComponent,\n  SelectWidgetComponent, SubmitComponent, TabComponent, TabsComponent,\n  TemplateComponent, TextareaComponent\n];\n\nexport { AddReferenceComponent } from './add-reference.component';\nexport { OneOfComponent } from './one-of.component';\nexport { ButtonComponent } from './button.component';\nexport { CheckboxComponent } from './checkbox.component';\nexport { CheckboxesComponent } from './checkboxes.component';\nexport { FileComponent } from './file.component';\nexport { HiddenComponent } from './hidden.component';\nexport { InputComponent } from './input.component';\nexport { MessageComponent } from './message.component';\nexport { NoneComponent } from './none.component';\nexport { NumberComponent } from './number.component';\nexport { OrderableDirective } from './orderable.directive';\nexport { RadiosComponent } from './radios.component';\nexport { RootComponent } from './root.component';\nexport { SectionComponent } from './section.component';\nexport { SelectComponent } from './select.component';\nexport { SelectFrameworkComponent } from './select-framework.component';\nexport { SelectWidgetComponent } from './select-widget.component';\nexport { SubmitComponent } from './submit.component';\nexport { TabComponent } from './tab.component';\nexport { TabsComponent } from './tabs.component';\nexport { TemplateComponent } from './template.component';\nexport { TextareaComponent } from './textarea.component';\nexport { WidgetLibraryService } from './widget-library.service';\n","import { BASIC_WIDGETS } from './index';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgModule } from '@angular/core';\nimport { OrderableDirective } from './orderable.directive';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule],\n  declarations: [...BASIC_WIDGETS, OrderableDirective],\n  exports: [...BASIC_WIDGETS, OrderableDirective],\n  entryComponents: [...BASIC_WIDGETS]\n})\nexport class WidgetLibraryModule {\n}\n","import { CommonModule } from '@angular/common';\nimport { Framework } from './framework';\nimport { NgModule } from '@angular/core';\nimport { NoFramework } from './no.framework';\nimport { NoFrameworkComponent } from './no-framework.component';\nimport { WidgetLibraryModule } from '../widget-library/widget-library.module';\n\n// No framework - plain HTML controls (styles from form layout only)\n\n@NgModule({\n  imports: [CommonModule, WidgetLibraryModule],\n  declarations: [NoFrameworkComponent],\n  exports: [NoFrameworkComponent],\n  providers: [\n    { provide: Framework, useClass: NoFramework, multi: true }\n  ],\n  entryComponents: [NoFrameworkComponent]\n})\nexport class NoFrameworkModule { }\n","import { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgModule } from '@angular/core';\nimport { JsonSchemaFormComponent } from './json-schema-form.component';\nimport { NoFrameworkModule } from './framework-library/no-framework.module';\nimport { WidgetLibraryModule } from './widget-library/widget-library.module';\n\n@NgModule({\n  imports: [\n    CommonModule, FormsModule, ReactiveFormsModule,\n    WidgetLibraryModule, NoFrameworkModule\n  ],\n  declarations: [JsonSchemaFormComponent],\n  exports: [JsonSchemaFormComponent, WidgetLibraryModule]\n})\nexport class JsonSchemaFormModule {\n}\n"],"names":["tslib_1.__spread","tslib_1.__values","from","Observable","Injectable","isEqual","map","forkJoin","FormGroup","FormArray","FormControl","Subject","Component","ChangeDetectionStrategy","Input","ComponentFactoryResolver","ViewChild","ViewContainerRef","Inject","EventEmitter","ChangeDetectorRef","Output","tslib_1.__extends","Directive","ElementRef","NgZone","NgModule","CommonModule","FormsModule","ReactiveFormsModule"],"mappings":"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"}